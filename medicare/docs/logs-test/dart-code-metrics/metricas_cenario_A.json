This package is entering the deprecation process and will be fully discontinued on July 16th.
You can read more in this blog post https://dcm.dev/blog/2023/06/06/announcing-dcm-free-version-sunset/.

We are grateful to you for being a DCM user. If you are a DCM contributor, you can apply for a special license, feel free to reach out to info@dcm.dev.

If you think DCM is valuable and it helps you, please consider to upgrade to the new Individuals or Teams version.

To hide this message pass the 'disable-sunset-warning' option.

[2K‚†ô Analyzing...[2K[2K‚†π Analyzing 76 file(s)... 0.2s[2K‚†∏ Analyzing 76 file(s)... 1.3s[2K‚†º Analyzing 76 file(s)... 1.3s[2K‚†¥ Analyzing 76 file(s)... 1.4s[2K‚†¶ Analyzing 76 file(s)... 1.9s[2K‚†ß Analyzing 76 file(s)... 2.1s[2K‚†á Analyzing 76 file(s)... 2.3s[2K‚†è Analyzing 76 file(s)... 2.3s[2K‚†ã Analyzing 76 file(s)... 2.4s[2K‚†ô Analyzing 76 file(s)... 2.5s[2K‚†π Analyzing 76 file(s)... 2.6s[2K‚†∏ Analyzing 76 file(s)... 2.6s[2K‚†º Analyzing 76 file(s)... 2.7s[2K‚úî Analysis is completed. Preparing the results: 2.8s

{"formatVersion":2,"timestamp":"2026-01-27 19:34:19.000","records":[{"path":"lib/core/theme/app_theme.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AppTheme":{"codeSpan":{"start":{"offset":130,"line":5,"column":1},"end":{"offset":3729,"line":111,"column":2},"text":"class AppTheme {\n  // New Color Palette\n  static const Color frenchBlue = Color(0xFF274690); // Primary\n  static const Color apricot = Color(0xFFFFB74D); // Secondary FFB74D\n  static const Color aliceBlue = Color(0xFFE8EEF2); // Background\n  static const Color alabasterGrey = Color(\n    0xFFDBDBDB,\n  ); // Borders/Surface Variant\n  static const Color evergreen = Color(0xFF00241B); // Dark Accent/SnackBar\n\n  static const Color surface = Colors.white;\n  static const Color error = Color(0xFFD32F2F);\n\n  // Semantic Aliases\n  static const Color primary = frenchBlue;\n  static const Color secondary = apricot;\n  static const Color background = aliceBlue;\n\n  static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primary,\n        primary: primary,\n        secondary: secondary,\n        surface: surface,\n        error: error,\n        background: background,\n        tertiary: evergreen, // Useful for specialized accents\n      ),\n      textTheme: GoogleFonts.latoTextTheme(),\n      scaffoldBackgroundColor: background,\n\n      // AppBar Theme\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primary,\n        foregroundColor: Colors.white,\n        centerTitle: true,\n        elevation: 0,\n        systemOverlayStyle: SystemUiOverlayStyle(\n          statusBarColor: primary,\n          statusBarIconBrightness: Brightness.light,\n          statusBarBrightness: Brightness.dark, // For iOS\n        ),\n      ),\n\n      // Card Theme\n      cardTheme: CardThemeData(\n        color: surface,\n        elevation: 8,\n        shadowColor: Colors.black.withOpacity(0.1),\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      ),\n\n      // FAB Theme\n      floatingActionButtonTheme: const FloatingActionButtonThemeData(\n        backgroundColor: secondary,\n        foregroundColor: Colors.white,\n      ),\n\n      // Elevated Button Theme\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: secondary,\n          foregroundColor: Colors.white,\n          padding: const EdgeInsets.symmetric(vertical: 16),\n          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n        ),\n      ),\n\n      // SnackBar Theme\n      snackBarTheme: SnackBarThemeData(\n        backgroundColor: evergreen, // Updated to Evergreen\n        contentTextStyle: const TextStyle(color: Colors.white),\n        behavior: SnackBarBehavior.floating,\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n      ),\n\n      // Input Decoration Theme\n      inputDecorationTheme: InputDecorationTheme(\n        filled: true,\n        fillColor: Colors.white,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: primary, width: 2),\n        ),\n        errorBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: error),\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"getter lightTheme increase metric value","codeSpan":{"start":{"offset":788,"line":23,"column":3},"end":{"offset":3727,"line":110,"column":4},"text":"static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primary,\n        primary: primary,\n        secondary: secondary,\n        surface: surface,\n        error: error,\n        background: background,\n        tertiary: evergreen, // Useful for specialized accents\n      ),\n      textTheme: GoogleFonts.latoTextTheme(),\n      scaffoldBackgroundColor: background,\n\n      // AppBar Theme\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primary,\n        foregroundColor: Colors.white,\n        centerTitle: true,\n        elevation: 0,\n        systemOverlayStyle: SystemUiOverlayStyle(\n          statusBarColor: primary,\n          statusBarIconBrightness: Brightness.light,\n          statusBarBrightness: Brightness.dark, // For iOS\n        ),\n      ),\n\n      // Card Theme\n      cardTheme: CardThemeData(\n        color: surface,\n        elevation: 8,\n        shadowColor: Colors.black.withOpacity(0.1),\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      ),\n\n      // FAB Theme\n      floatingActionButtonTheme: const FloatingActionButtonThemeData(\n        backgroundColor: secondary,\n        foregroundColor: Colors.white,\n      ),\n\n      // Elevated Button Theme\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: secondary,\n          foregroundColor: Colors.white,\n          padding: const EdgeInsets.symmetric(vertical: 16),\n          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n        ),\n      ),\n\n      // SnackBar Theme\n      snackBarTheme: SnackBarThemeData(\n        backgroundColor: evergreen, // Updated to Evergreen\n        contentTextStyle: const TextStyle(color: Colors.white),\n        behavior: SnackBarBehavior.floating,\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n      ),\n\n      // Input Decoration Theme\n      inputDecorationTheme: InputDecorationTheme(\n        filled: true,\n        fillColor: Colors.white,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: primary, width: 2),\n        ),\n        errorBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: error),\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public getter lightTheme decrease metric value","codeSpan":{"start":{"offset":788,"line":23,"column":3},"end":{"offset":3727,"line":110,"column":4},"text":"static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primary,\n        primary: primary,\n        secondary: secondary,\n        surface: surface,\n        error: error,\n        background: background,\n        tertiary: evergreen, // Useful for specialized accents\n      ),\n      textTheme: GoogleFonts.latoTextTheme(),\n      scaffoldBackgroundColor: background,\n\n      // AppBar Theme\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primary,\n        foregroundColor: Colors.white,\n        centerTitle: true,\n        elevation: 0,\n        systemOverlayStyle: SystemUiOverlayStyle(\n          statusBarColor: primary,\n          statusBarIconBrightness: Brightness.light,\n          statusBarBrightness: Brightness.dark, // For iOS\n        ),\n      ),\n\n      // Card Theme\n      cardTheme: CardThemeData(\n        color: surface,\n        elevation: 8,\n        shadowColor: Colors.black.withOpacity(0.1),\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      ),\n\n      // FAB Theme\n      floatingActionButtonTheme: const FloatingActionButtonThemeData(\n        backgroundColor: secondary,\n        foregroundColor: Colors.white,\n      ),\n\n      // Elevated Button Theme\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: secondary,\n          foregroundColor: Colors.white,\n          padding: const EdgeInsets.symmetric(vertical: 16),\n          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n        ),\n      ),\n\n      // SnackBar Theme\n      snackBarTheme: SnackBarThemeData(\n        backgroundColor: evergreen, // Updated to Evergreen\n        contentTextStyle: const TextStyle(color: Colors.white),\n        behavior: SnackBarBehavior.floating,\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n      ),\n\n      // Input Decoration Theme\n      inputDecorationTheme: InputDecorationTheme(\n        filled: true,\n        fillColor: Colors.white,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: primary, width: 2),\n        ),\n        errorBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: error),\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"AppTheme.lightTheme":{"codeSpan":{"start":{"offset":788,"line":23,"column":3},"end":{"offset":3727,"line":110,"column":4},"text":"static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primary,\n        primary: primary,\n        secondary: secondary,\n        surface: surface,\n        error: error,\n        background: background,\n        tertiary: evergreen, // Useful for specialized accents\n      ),\n      textTheme: GoogleFonts.latoTextTheme(),\n      scaffoldBackgroundColor: background,\n\n      // AppBar Theme\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primary,\n        foregroundColor: Colors.white,\n        centerTitle: true,\n        elevation: 0,\n        systemOverlayStyle: SystemUiOverlayStyle(\n          statusBarColor: primary,\n          statusBarIconBrightness: Brightness.light,\n          statusBarBrightness: Brightness.dark, // For iOS\n        ),\n      ),\n\n      // Card Theme\n      cardTheme: CardThemeData(\n        color: surface,\n        elevation: 8,\n        shadowColor: Colors.black.withOpacity(0.1),\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      ),\n\n      // FAB Theme\n      floatingActionButtonTheme: const FloatingActionButtonThemeData(\n        backgroundColor: secondary,\n        foregroundColor: Colors.white,\n      ),\n\n      // Elevated Button Theme\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: secondary,\n          foregroundColor: Colors.white,\n          padding: const EdgeInsets.symmetric(vertical: 16),\n          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n        ),\n      ),\n\n      // SnackBar Theme\n      snackBarTheme: SnackBarThemeData(\n        backgroundColor: evergreen, // Updated to Evergreen\n        contentTextStyle: const TextStyle(color: Colors.white),\n        behavior: SnackBarBehavior.floating,\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n      ),\n\n      // Input Decoration Theme\n      inputDecorationTheme: InputDecorationTheme(\n        filled: true,\n        fillColor: Colors.white,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: primary, width: 2),\n        ),\n        errorBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: error),\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":927.4844080228455,"level":"none","comment":"This getter has a halstead volume of 927.4844080228455.","context":[]},{"metricsId":"lines-of-code","value":88,"unitType":"lines","level":"none","comment":"This getter has 88 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This getter has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":820,"line":23,"column":35},"end":{"offset":3727,"line":110,"column":4},"text":"{\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primary,\n        primary: primary,\n        secondary: secondary,\n        surface: surface,\n        error: error,\n        background: background,\n        tertiary: evergreen, // Useful for specialized accents\n      ),\n      textTheme: GoogleFonts.latoTextTheme(),\n      scaffoldBackgroundColor: background,\n\n      // AppBar Theme\n      appBarTheme: const AppBarTheme(\n        backgroundColor: primary,\n        foregroundColor: Colors.white,\n        centerTitle: true,\n        elevation: 0,\n        systemOverlayStyle: SystemUiOverlayStyle(\n          statusBarColor: primary,\n          statusBarIconBrightness: Brightness.light,\n          statusBarBrightness: Brightness.dark, // For iOS\n        ),\n      ),\n\n      // Card Theme\n      cardTheme: CardThemeData(\n        color: surface,\n        elevation: 8,\n        shadowColor: Colors.black.withOpacity(0.1),\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n        margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      ),\n\n      // FAB Theme\n      floatingActionButtonTheme: const FloatingActionButtonThemeData(\n        backgroundColor: secondary,\n        foregroundColor: Colors.white,\n      ),\n\n      // Elevated Button Theme\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          backgroundColor: secondary,\n          foregroundColor: Colors.white,\n          padding: const EdgeInsets.symmetric(vertical: 16),\n          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n        ),\n      ),\n\n      // SnackBar Theme\n      snackBarTheme: SnackBarThemeData(\n        backgroundColor: evergreen, // Updated to Evergreen\n        contentTextStyle: const TextStyle(color: Colors.white),\n        behavior: SnackBarBehavior.floating,\n        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(8)),\n      ),\n\n      // Input Decoration Theme\n      inputDecorationTheme: InputDecorationTheme(\n        filled: true,\n        fillColor: Colors.white,\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(\n            color: alabasterGrey,\n          ), // Use Alabaster for borders\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: primary, width: 2),\n        ),\n        errorBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: const BorderSide(color: error),\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":74,"unitType":"lines","level":"none","comment":"This getter has 74 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":822,"line":24,"column":0},"end":{"offset":822,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":844,"line":25,"column":0},"end":{"offset":844,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":870,"line":26,"column":0},"end":{"offset":870,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":911,"line":27,"column":0},"end":{"offset":911,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":939,"line":28,"column":0},"end":{"offset":939,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":965,"line":29,"column":0},"end":{"offset":965,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":995,"line":30,"column":0},"end":{"offset":995,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1021,"line":31,"column":0},"end":{"offset":1021,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1043,"line":32,"column":0},"end":{"offset":1043,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1075,"line":33,"column":0},"end":{"offset":1075,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1138,"line":34,"column":0},"end":{"offset":1138,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1147,"line":35,"column":0},"end":{"offset":1147,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1193,"line":36,"column":0},"end":{"offset":1193,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1259,"line":39,"column":0},"end":{"offset":1259,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1297,"line":40,"column":0},"end":{"offset":1297,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1331,"line":41,"column":0},"end":{"offset":1331,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1370,"line":42,"column":0},"end":{"offset":1370,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1397,"line":43,"column":0},"end":{"offset":1397,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1419,"line":44,"column":0},"end":{"offset":1419,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1469,"line":45,"column":0},"end":{"offset":1469,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1504,"line":46,"column":0},"end":{"offset":1504,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1557,"line":47,"column":0},"end":{"offset":1557,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1616,"line":48,"column":0},"end":{"offset":1616,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1627,"line":49,"column":0},"end":{"offset":1627,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1657,"line":52,"column":0},"end":{"offset":1657,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1689,"line":53,"column":0},"end":{"offset":1689,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1713,"line":54,"column":0},"end":{"offset":1713,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1735,"line":55,"column":0},"end":{"offset":1735,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1787,"line":56,"column":0},"end":{"offset":1787,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1867,"line":57,"column":0},"end":{"offset":1867,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1940,"line":58,"column":0},"end":{"offset":1940,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1969,"line":61,"column":0},"end":{"offset":1969,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2039,"line":62,"column":0},"end":{"offset":2039,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2075,"line":63,"column":0},"end":{"offset":2075,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2114,"line":64,"column":0},"end":{"offset":2114,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2155,"line":67,"column":0},"end":{"offset":2155,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2207,"line":68,"column":0},"end":{"offset":2207,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2248,"line":69,"column":0},"end":{"offset":2248,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2286,"line":70,"column":0},"end":{"offset":2286,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2327,"line":71,"column":0},"end":{"offset":2327,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2388,"line":72,"column":0},"end":{"offset":2388,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2469,"line":73,"column":0},"end":{"offset":2469,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2480,"line":74,"column":0},"end":{"offset":2480,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2514,"line":77,"column":0},"end":{"offset":2514,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2554,"line":78,"column":0},"end":{"offset":2554,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2614,"line":79,"column":0},"end":{"offset":2614,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2678,"line":80,"column":0},"end":{"offset":2678,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2723,"line":81,"column":0},"end":{"offset":2723,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2802,"line":82,"column":0},"end":{"offset":2802,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2844,"line":85,"column":0},"end":{"offset":2844,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2894,"line":86,"column":0},"end":{"offset":2894,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2916,"line":87,"column":0},"end":{"offset":2916,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2949,"line":88,"column":0},"end":{"offset":2949,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2985,"line":89,"column":0},"end":{"offset":2985,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3035,"line":90,"column":0},"end":{"offset":3035,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3075,"line":91,"column":0},"end":{"offset":3075,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3109,"line":92,"column":0},"end":{"offset":3109,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3151,"line":93,"column":0},"end":{"offset":3151,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3162,"line":94,"column":0},"end":{"offset":3162,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3205,"line":95,"column":0},"end":{"offset":3205,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3255,"line":96,"column":0},"end":{"offset":3255,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3295,"line":97,"column":0},"end":{"offset":3295,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3329,"line":98,"column":0},"end":{"offset":3329,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3371,"line":99,"column":0},"end":{"offset":3371,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3382,"line":100,"column":0},"end":{"offset":3382,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3425,"line":101,"column":0},"end":{"offset":3425,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3475,"line":102,"column":0},"end":{"offset":3475,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3541,"line":103,"column":0},"end":{"offset":3541,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3552,"line":104,"column":0},"end":{"offset":3552,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3593,"line":105,"column":0},"end":{"offset":3593,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3643,"line":106,"column":0},"end":{"offset":3643,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3697,"line":107,"column":0},"end":{"offset":3697,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3708,"line":108,"column":0},"end":{"offset":3708,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3717,"line":109,"column":0},"end":{"offset":3717,"line":109,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":39,"level":"alarm","comment":"This getter has 39 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/core/services/tts_service.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"TtsService":{"codeSpan":{"start":{"offset":90,"line":4,"column":1},"end":{"offset":1535,"line":57,"column":2},"text":"class TtsService {\n  final FlutterTts flutterTts = FlutterTts();\n\n  // Notifier to let UI know which plan is currently being read\n  final ValueNotifier<String?> currentPlayingPlanId = ValueNotifier(null);\n\n  Future<void> init() async {\n    // Basic config\n    await flutterTts.setLanguage(\"pt-BR\");\n    await flutterTts.setSpeechRate(0.5);\n\n    // iOS Audio Category - Playback and DefaultToSpeaker\n    await flutterTts.setIosAudioCategory(\n      IosTextToSpeechAudioCategory.playback,\n      [IosTextToSpeechAudioCategoryOptions.defaultToSpeaker],\n    );\n\n    // Handlers to manage state\n    flutterTts.setStartHandler(() {\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    });\n\n    flutterTts.setCompletionHandler(() {\n      debugPrint(\"TTS Completed\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setCancelHandler(() {\n      debugPrint(\"TTS Cancelled\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setErrorHandler((msg) {\n      debugPrint(\"TTS Error: $msg\");\n      currentPlayingPlanId.value = null;\n    });\n  }\n\n  Future<void> speak(String text, String planId) async {\n    // Stop any previous speech\n    await stop();\n\n    // Set current plan ID before speaking\n    currentPlayingPlanId.value = planId;\n\n    await flutterTts.speak(text);\n  }\n\n  Future<void> stop() async {\n    await flutterTts.stop();\n    currentPlayingPlanId.value = null;\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method init increase metric value","codeSpan":{"start":{"offset":298,"line":10,"column":3},"end":{"offset":1198,"line":41,"column":4},"text":"Future<void> init() async {\n    // Basic config\n    await flutterTts.setLanguage(\"pt-BR\");\n    await flutterTts.setSpeechRate(0.5);\n\n    // iOS Audio Category - Playback and DefaultToSpeaker\n    await flutterTts.setIosAudioCategory(\n      IosTextToSpeechAudioCategory.playback,\n      [IosTextToSpeechAudioCategoryOptions.defaultToSpeaker],\n    );\n\n    // Handlers to manage state\n    flutterTts.setStartHandler(() {\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    });\n\n    flutterTts.setCompletionHandler(() {\n      debugPrint(\"TTS Completed\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setCancelHandler(() {\n      debugPrint(\"TTS Cancelled\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setErrorHandler((msg) {\n      debugPrint(\"TTS Error: $msg\");\n      currentPlayingPlanId.value = null;\n    });\n  }"}},{"message":"method speak increase metric value","codeSpan":{"start":{"offset":1202,"line":43,"column":3},"end":{"offset":1430,"line":51,"column":4},"text":"Future<void> speak(String text, String planId) async {\n    // Stop any previous speech\n    await stop();\n\n    // Set current plan ID before speaking\n    currentPlayingPlanId.value = planId;\n\n    await flutterTts.speak(text);\n  }"}},{"message":"method stop increase metric value","codeSpan":{"start":{"offset":1434,"line":53,"column":3},"end":{"offset":1533,"line":56,"column":4},"text":"Future<void> stop() async {\n    await flutterTts.stop();\n    currentPlayingPlanId.value = null;\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method init increase metric value","codeSpan":{"start":{"offset":298,"line":10,"column":3},"end":{"offset":1198,"line":41,"column":4},"text":"Future<void> init() async {\n    // Basic config\n    await flutterTts.setLanguage(\"pt-BR\");\n    await flutterTts.setSpeechRate(0.5);\n\n    // iOS Audio Category - Playback and DefaultToSpeaker\n    await flutterTts.setIosAudioCategory(\n      IosTextToSpeechAudioCategory.playback,\n      [IosTextToSpeechAudioCategoryOptions.defaultToSpeaker],\n    );\n\n    // Handlers to manage state\n    flutterTts.setStartHandler(() {\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    });\n\n    flutterTts.setCompletionHandler(() {\n      debugPrint(\"TTS Completed\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setCancelHandler(() {\n      debugPrint(\"TTS Cancelled\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setErrorHandler((msg) {\n      debugPrint(\"TTS Error: $msg\");\n      currentPlayingPlanId.value = null;\n    });\n  }"}},{"message":"functional method speak increase metric value","codeSpan":{"start":{"offset":1202,"line":43,"column":3},"end":{"offset":1430,"line":51,"column":4},"text":"Future<void> speak(String text, String planId) async {\n    // Stop any previous speech\n    await stop();\n\n    // Set current plan ID before speaking\n    currentPlayingPlanId.value = planId;\n\n    await flutterTts.speak(text);\n  }"}},{"message":"functional method stop increase metric value","codeSpan":{"start":{"offset":1434,"line":53,"column":3},"end":{"offset":1533,"line":56,"column":4},"text":"Future<void> stop() async {\n    await flutterTts.stop();\n    currentPlayingPlanId.value = null;\n  }"}}]}]}},"functions":{"TtsService.init":{"codeSpan":{"start":{"offset":298,"line":10,"column":3},"end":{"offset":1198,"line":41,"column":4},"text":"Future<void> init() async {\n    // Basic config\n    await flutterTts.setLanguage(\"pt-BR\");\n    await flutterTts.setSpeechRate(0.5);\n\n    // iOS Audio Category - Playback and DefaultToSpeaker\n    await flutterTts.setIosAudioCategory(\n      IosTextToSpeechAudioCategory.playback,\n      [IosTextToSpeechAudioCategoryOptions.defaultToSpeaker],\n    );\n\n    // Handlers to manage state\n    flutterTts.setStartHandler(() {\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    });\n\n    flutterTts.setCompletionHandler(() {\n      debugPrint(\"TTS Completed\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setCancelHandler(() {\n      debugPrint(\"TTS Cancelled\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setErrorHandler((msg) {\n      debugPrint(\"TTS Error: $msg\");\n      currentPlayingPlanId.value = null;\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":208.4962500721156,"level":"none","comment":"This method has a halstead volume of 208.4962500721156.","context":[]},{"metricsId":"lines-of-code","value":32,"unitType":"lines","level":"none","comment":"This method has 32 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":324,"line":10,"column":29},"end":{"offset":1198,"line":41,"column":4},"text":"{\n    // Basic config\n    await flutterTts.setLanguage(\"pt-BR\");\n    await flutterTts.setSpeechRate(0.5);\n\n    // iOS Audio Category - Playback and DefaultToSpeaker\n    await flutterTts.setIosAudioCategory(\n      IosTextToSpeechAudioCategory.playback,\n      [IosTextToSpeechAudioCategoryOptions.defaultToSpeaker],\n    );\n\n    // Handlers to manage state\n    flutterTts.setStartHandler(() {\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    });\n\n    flutterTts.setCompletionHandler(() {\n      debugPrint(\"TTS Completed\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setCancelHandler(() {\n      debugPrint(\"TTS Cancelled\");\n      currentPlayingPlanId.value = null;\n    });\n\n    flutterTts.setErrorHandler((msg) {\n      debugPrint(\"TTS Error: $msg\");\n      currentPlayingPlanId.value = null;\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":712,"line":22,"column":35},"end":{"offset":818,"line":25,"column":6},"text":"{\n      // State is already set in speak(), but this confirms start\n      debugPrint(\"TTS Started\");\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":346,"line":12,"column":0},"end":{"offset":346,"line":12,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":389,"line":13,"column":0},"end":{"offset":389,"line":13,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":489,"line":16,"column":0},"end":{"offset":489,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":531,"line":17,"column":0},"end":{"offset":531,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":576,"line":18,"column":0},"end":{"offset":576,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":638,"line":19,"column":0},"end":{"offset":638,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":678,"line":22,"column":0},"end":{"offset":678,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":780,"line":24,"column":0},"end":{"offset":780,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":813,"line":25,"column":0},"end":{"offset":813,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":822,"line":27,"column":0},"end":{"offset":822,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":863,"line":28,"column":0},"end":{"offset":863,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":898,"line":29,"column":0},"end":{"offset":898,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":939,"line":30,"column":0},"end":{"offset":939,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":948,"line":32,"column":0},"end":{"offset":948,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":985,"line":33,"column":0},"end":{"offset":985,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1020,"line":34,"column":0},"end":{"offset":1020,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1061,"line":35,"column":0},"end":{"offset":1061,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1070,"line":37,"column":0},"end":{"offset":1070,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1109,"line":38,"column":0},"end":{"offset":1109,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1146,"line":39,"column":0},"end":{"offset":1146,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1187,"line":40,"column":0},"end":{"offset":1187,"line":40,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"TtsService.speak":{"codeSpan":{"start":{"offset":1202,"line":43,"column":3},"end":{"offset":1430,"line":51,"column":4},"text":"Future<void> speak(String text, String planId) async {\n    // Stop any previous speech\n    await stop();\n\n    // Set current plan ID before speaking\n    currentPlayingPlanId.value = planId;\n\n    await flutterTts.speak(text);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":31.699250014423125,"level":"none","comment":"This method has a halstead volume of 31.699250014423125.","context":[]},{"metricsId":"lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1255,"line":43,"column":56},"end":{"offset":1430,"line":51,"column":4},"text":"{\n    // Stop any previous speech\n    await stop();\n\n    // Set current plan ID before speaking\n    currentPlayingPlanId.value = planId;\n\n    await flutterTts.speak(text);\n  }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1289,"line":45,"column":0},"end":{"offset":1289,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1351,"line":48,"column":0},"end":{"offset":1351,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1393,"line":50,"column":0},"end":{"offset":1393,"line":50,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":79,"level":"warning","comment":"This method has 79 maintainability index, below the minimum of 100 allowed.","context":[]}]},"TtsService.stop":{"codeSpan":{"start":{"offset":1434,"line":53,"column":3},"end":{"offset":1533,"line":56,"column":4},"text":"Future<void> stop() async {\n    await flutterTts.stop();\n    currentPlayingPlanId.value = null;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":15.509775004326936,"level":"none","comment":"This method has a halstead volume of 15.509775004326936.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1460,"line":53,"column":29},"end":{"offset":1533,"line":56,"column":4},"text":"{\n    await flutterTts.stop();\n    currentPlayingPlanId.value = null;\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1462,"line":54,"column":0},"end":{"offset":1462,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1491,"line":55,"column":0},"end":{"offset":1491,"line":55,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":85,"level":"warning","comment":"This method has 85 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/core/services/notification_service.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"NotificationService":{"codeSpan":{"start":{"offset":303,"line":7,"column":1},"end":{"offset":4521,"line":133,"column":2},"text":"class NotificationService {\n  final FlutterLocalNotificationsPlugin flutterLocalNotificationsPlugin =\n      FlutterLocalNotificationsPlugin();\n\n  SharedPreferences? _prefs;\n\n  Future<void> initialize() async {\n    _prefs = await SharedPreferences.getInstance();\n\n    const AndroidInitializationSettings initializationSettingsAndroid =\n        AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    const DarwinInitializationSettings initializationSettingsDarwin =\n        DarwinInitializationSettings(\n          requestSoundPermission: true,\n          requestBadgePermission: true,\n          requestAlertPermission: true,\n        );\n\n    const InitializationSettings initializationSettings =\n        InitializationSettings(\n          android: initializationSettingsAndroid,\n          iOS: initializationSettingsDarwin,\n        );\n\n    await flutterLocalNotificationsPlugin.initialize(initializationSettings);\n  }\n\n  Future<void> requestPermissions() async {\n    final androidImplementation = flutterLocalNotificationsPlugin\n        .resolvePlatformSpecificImplementation<\n          AndroidFlutterLocalNotificationsPlugin\n        >();\n\n    if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }\n  }\n\n  Future<void> setNotificationEnabled(String planId, bool isEnabled) async {\n    await _prefs?.setBool('notification_$planId', isEnabled);\n  }\n\n  bool isNotificationEnabled(String planId) {\n    // Default to true (Opt-out)\n    return _prefs?.getBool('notification_$planId') ?? true;\n  }\n\n  Future<void> cancelAll() async {\n    await flutterLocalNotificationsPlugin.cancelAll();\n  }\n\n  Future<void> cancelForPlan(String planId) async {\n    for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }\n  }\n\n  Future<void> scheduleFromPlan(CarePlanEntity plan) async {\n    if (!isNotificationEnabled(plan.id)) {\n      return;\n    }\n\n    final frequencyRegex = RegExp(\n      r'(\\d+)\\s*(?:em|/|-)\\s*(\\d+)\\s*[hH]',\n      caseSensitive: false,\n    );\n    final match = frequencyRegex.firstMatch(plan.description);\n\n    if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":7,"unitType":"methods","level":"none","comment":"This class has 7 methods.","context":[{"message":"method initialize increase metric value","codeSpan":{"start":{"offset":479,"line":13,"column":3},"end":{"offset":1219,"line":33,"column":4},"text":"Future<void> initialize() async {\n    _prefs = await SharedPreferences.getInstance();\n\n    const AndroidInitializationSettings initializationSettingsAndroid =\n        AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    const DarwinInitializationSettings initializationSettingsDarwin =\n        DarwinInitializationSettings(\n          requestSoundPermission: true,\n          requestBadgePermission: true,\n          requestAlertPermission: true,\n        );\n\n    const InitializationSettings initializationSettings =\n        InitializationSettings(\n          android: initializationSettingsAndroid,\n          iOS: initializationSettingsDarwin,\n        );\n\n    await flutterLocalNotificationsPlugin.initialize(initializationSettings);\n  }"}},{"message":"method requestPermissions increase metric value","codeSpan":{"start":{"offset":1223,"line":35,"column":3},"end":{"offset":1560,"line":44,"column":4},"text":"Future<void> requestPermissions() async {\n    final androidImplementation = flutterLocalNotificationsPlugin\n        .resolvePlatformSpecificImplementation<\n          AndroidFlutterLocalNotificationsPlugin\n        >();\n\n    if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }\n  }"}},{"message":"method setNotificationEnabled increase metric value","codeSpan":{"start":{"offset":1564,"line":46,"column":3},"end":{"offset":1704,"line":48,"column":4},"text":"Future<void> setNotificationEnabled(String planId, bool isEnabled) async {\n    await _prefs?.setBool('notification_$planId', isEnabled);\n  }"}},{"message":"method isNotificationEnabled increase metric value","codeSpan":{"start":{"offset":1708,"line":50,"column":3},"end":{"offset":1848,"line":53,"column":4},"text":"bool isNotificationEnabled(String planId) {\n    // Default to true (Opt-out)\n    return _prefs?.getBool('notification_$planId') ?? true;\n  }"}},{"message":"method cancelAll increase metric value","codeSpan":{"start":{"offset":1852,"line":55,"column":3},"end":{"offset":1943,"line":57,"column":4},"text":"Future<void> cancelAll() async {\n    await flutterLocalNotificationsPlugin.cancelAll();\n  }"}},{"message":"method cancelForPlan increase metric value","codeSpan":{"start":{"offset":1947,"line":59,"column":3},"end":{"offset":2159,"line":64,"column":4},"text":"Future<void> cancelForPlan(String planId) async {\n    for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }\n  }"}},{"message":"method scheduleFromPlan increase metric value","codeSpan":{"start":{"offset":2163,"line":66,"column":3},"end":{"offset":4519,"line":132,"column":4},"text":"Future<void> scheduleFromPlan(CarePlanEntity plan) async {\n    if (!isNotificationEnabled(plan.id)) {\n      return;\n    }\n\n    final frequencyRegex = RegExp(\n      r'(\\d+)\\s*(?:em|/|-)\\s*(\\d+)\\s*[hH]',\n      caseSensitive: false,\n    );\n    final match = frequencyRegex.firstMatch(plan.description);\n\n    if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initialize increase metric value","codeSpan":{"start":{"offset":479,"line":13,"column":3},"end":{"offset":1219,"line":33,"column":4},"text":"Future<void> initialize() async {\n    _prefs = await SharedPreferences.getInstance();\n\n    const AndroidInitializationSettings initializationSettingsAndroid =\n        AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    const DarwinInitializationSettings initializationSettingsDarwin =\n        DarwinInitializationSettings(\n          requestSoundPermission: true,\n          requestBadgePermission: true,\n          requestAlertPermission: true,\n        );\n\n    const InitializationSettings initializationSettings =\n        InitializationSettings(\n          android: initializationSettingsAndroid,\n          iOS: initializationSettingsDarwin,\n        );\n\n    await flutterLocalNotificationsPlugin.initialize(initializationSettings);\n  }"}},{"message":"functional method requestPermissions increase metric value","codeSpan":{"start":{"offset":1223,"line":35,"column":3},"end":{"offset":1560,"line":44,"column":4},"text":"Future<void> requestPermissions() async {\n    final androidImplementation = flutterLocalNotificationsPlugin\n        .resolvePlatformSpecificImplementation<\n          AndroidFlutterLocalNotificationsPlugin\n        >();\n\n    if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }\n  }"}},{"message":"functional method setNotificationEnabled increase metric value","codeSpan":{"start":{"offset":1564,"line":46,"column":3},"end":{"offset":1704,"line":48,"column":4},"text":"Future<void> setNotificationEnabled(String planId, bool isEnabled) async {\n    await _prefs?.setBool('notification_$planId', isEnabled);\n  }"}},{"message":"functional method isNotificationEnabled increase metric value","codeSpan":{"start":{"offset":1708,"line":50,"column":3},"end":{"offset":1848,"line":53,"column":4},"text":"bool isNotificationEnabled(String planId) {\n    // Default to true (Opt-out)\n    return _prefs?.getBool('notification_$planId') ?? true;\n  }"}},{"message":"functional method cancelAll increase metric value","codeSpan":{"start":{"offset":1852,"line":55,"column":3},"end":{"offset":1943,"line":57,"column":4},"text":"Future<void> cancelAll() async {\n    await flutterLocalNotificationsPlugin.cancelAll();\n  }"}},{"message":"functional method cancelForPlan increase metric value","codeSpan":{"start":{"offset":1947,"line":59,"column":3},"end":{"offset":2159,"line":64,"column":4},"text":"Future<void> cancelForPlan(String planId) async {\n    for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }\n  }"}},{"message":"functional method scheduleFromPlan increase metric value","codeSpan":{"start":{"offset":2163,"line":66,"column":3},"end":{"offset":4519,"line":132,"column":4},"text":"Future<void> scheduleFromPlan(CarePlanEntity plan) async {\n    if (!isNotificationEnabled(plan.id)) {\n      return;\n    }\n\n    final frequencyRegex = RegExp(\n      r'(\\d+)\\s*(?:em|/|-)\\s*(\\d+)\\s*[hH]',\n      caseSensitive: false,\n    );\n    final match = frequencyRegex.firstMatch(plan.description);\n\n    if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }\n  }"}}]}]}},"functions":{"NotificationService.initialize":{"codeSpan":{"start":{"offset":479,"line":13,"column":3},"end":{"offset":1219,"line":33,"column":4},"text":"Future<void> initialize() async {\n    _prefs = await SharedPreferences.getInstance();\n\n    const AndroidInitializationSettings initializationSettingsAndroid =\n        AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    const DarwinInitializationSettings initializationSettingsDarwin =\n        DarwinInitializationSettings(\n          requestSoundPermission: true,\n          requestBadgePermission: true,\n          requestAlertPermission: true,\n        );\n\n    const InitializationSettings initializationSettings =\n        InitializationSettings(\n          android: initializationSettingsAndroid,\n          iOS: initializationSettingsDarwin,\n        );\n\n    await flutterLocalNotificationsPlugin.initialize(initializationSettings);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":116.75790004038474,"level":"none","comment":"This method has a halstead volume of 116.75790004038474.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":511,"line":13,"column":35},"end":{"offset":1219,"line":33,"column":4},"text":"{\n    _prefs = await SharedPreferences.getInstance();\n\n    const AndroidInitializationSettings initializationSettingsAndroid =\n        AndroidInitializationSettings('@mipmap/ic_launcher');\n\n    const DarwinInitializationSettings initializationSettingsDarwin =\n        DarwinInitializationSettings(\n          requestSoundPermission: true,\n          requestBadgePermission: true,\n          requestAlertPermission: true,\n        );\n\n    const InitializationSettings initializationSettings =\n        InitializationSettings(\n          android: initializationSettingsAndroid,\n          iOS: initializationSettingsDarwin,\n        );\n\n    await flutterLocalNotificationsPlugin.initialize(initializationSettings);\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":513,"line":14,"column":0},"end":{"offset":513,"line":14,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":566,"line":16,"column":0},"end":{"offset":566,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":638,"line":17,"column":0},"end":{"offset":638,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":701,"line":19,"column":0},"end":{"offset":701,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":771,"line":20,"column":0},"end":{"offset":771,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":809,"line":21,"column":0},"end":{"offset":809,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":849,"line":22,"column":0},"end":{"offset":849,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":889,"line":23,"column":0},"end":{"offset":889,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":929,"line":24,"column":0},"end":{"offset":929,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":941,"line":26,"column":0},"end":{"offset":941,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":999,"line":27,"column":0},"end":{"offset":999,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1031,"line":28,"column":0},"end":{"offset":1031,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1081,"line":29,"column":0},"end":{"offset":1081,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1126,"line":30,"column":0},"end":{"offset":1126,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1138,"line":32,"column":0},"end":{"offset":1138,"line":32,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":60,"level":"warning","comment":"This method has 60 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.requestPermissions":{"codeSpan":{"start":{"offset":1223,"line":35,"column":3},"end":{"offset":1560,"line":44,"column":4},"text":"Future<void> requestPermissions() async {\n    final androidImplementation = flutterLocalNotificationsPlugin\n        .resolvePlatformSpecificImplementation<\n          AndroidFlutterLocalNotificationsPlugin\n        >();\n\n    if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1446,"line":41,"column":5},"end":{"offset":1556,"line":43,"column":6},"text":"if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }"}}]},{"metricsId":"halstead-volume","value":39.863137138648355,"level":"none","comment":"This method has a halstead volume of 39.863137138648355.","context":[]},{"metricsId":"lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This method has 10 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1263,"line":35,"column":43},"end":{"offset":1560,"line":44,"column":4},"text":"{\n    final androidImplementation = flutterLocalNotificationsPlugin\n        .resolvePlatformSpecificImplementation<\n          AndroidFlutterLocalNotificationsPlugin\n        >();\n\n    if (androidImplementation != null) {\n      await androidImplementation.requestNotificationsPermission();\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1481,"line":41,"column":40},"end":{"offset":1556,"line":43,"column":6},"text":"{\n      await androidImplementation.requestNotificationsPermission();\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1265,"line":36,"column":0},"end":{"offset":1265,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1331,"line":37,"column":0},"end":{"offset":1331,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1379,"line":38,"column":0},"end":{"offset":1379,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1428,"line":39,"column":0},"end":{"offset":1428,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1442,"line":41,"column":0},"end":{"offset":1442,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1483,"line":42,"column":0},"end":{"offset":1483,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1551,"line":43,"column":0},"end":{"offset":1551,"line":43,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":71,"level":"warning","comment":"This method has 71 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.setNotificationEnabled":{"codeSpan":{"start":{"offset":1564,"line":46,"column":3},"end":{"offset":1704,"line":48,"column":4},"text":"Future<void> setNotificationEnabled(String planId, bool isEnabled) async {\n    await _prefs?.setBool('notification_$planId', isEnabled);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1655,"line":47,"column":17},"end":{"offset":1657,"line":47,"column":19},"text":"?."}}]},{"metricsId":"halstead-volume","value":15.509775004326936,"level":"none","comment":"This method has a halstead volume of 15.509775004326936.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1637,"line":46,"column":76},"end":{"offset":1704,"line":48,"column":4},"text":"{\n    await _prefs?.setBool('notification_$planId', isEnabled);\n  }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1639,"line":47,"column":0},"end":{"offset":1639,"line":47,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":92,"level":"warning","comment":"This method has 92 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.isNotificationEnabled":{"codeSpan":{"start":{"offset":1708,"line":50,"column":3},"end":{"offset":1848,"line":53,"column":4},"text":"bool isNotificationEnabled(String planId) {\n    // Default to true (Opt-out)\n    return _prefs?.getBool('notification_$planId') ?? true;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1802,"line":52,"column":18},"end":{"offset":1804,"line":52,"column":20},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1836,"line":52,"column":52},"end":{"offset":1838,"line":52,"column":54},"text":"??"}}]},{"metricsId":"halstead-volume","value":11.60964047443681,"level":"none","comment":"This method has a halstead volume of 11.60964047443681.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1750,"line":50,"column":45},"end":{"offset":1848,"line":53,"column":4},"text":"{\n    // Default to true (Opt-out)\n    return _prefs?.getBool('notification_$planId') ?? true;\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1785,"line":52,"column":0},"end":{"offset":1785,"line":52,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This method has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.cancelAll":{"codeSpan":{"start":{"offset":1852,"line":55,"column":3},"end":{"offset":1943,"line":57,"column":4},"text":"Future<void> cancelAll() async {\n    await flutterLocalNotificationsPlugin.cancelAll();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1883,"line":55,"column":34},"end":{"offset":1943,"line":57,"column":4},"text":"{\n    await flutterLocalNotificationsPlugin.cancelAll();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1885,"line":56,"column":0},"end":{"offset":1885,"line":56,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This method has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.cancelForPlan":{"codeSpan":{"start":{"offset":1947,"line":59,"column":3},"end":{"offset":2159,"line":64,"column":4},"text":"Future<void> cancelForPlan(String planId) async {\n    for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":2001,"line":60,"column":5},"end":{"offset":2155,"line":63,"column":6},"text":"for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }"}}]},{"metricsId":"halstead-volume","value":60.94436251225966,"level":"none","comment":"This method has a halstead volume of 60.94436251225966.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1995,"line":59,"column":51},"end":{"offset":2159,"line":64,"column":4},"text":"{\n    for (int i = 0; i < 20; i++) {\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":2030,"line":60,"column":34},"end":{"offset":2155,"line":63,"column":6},"text":"{\n      final notificationId = planId.hashCode + i;\n      await flutterLocalNotificationsPlugin.cancel(notificationId);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1997,"line":60,"column":0},"end":{"offset":1997,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2032,"line":61,"column":0},"end":{"offset":2032,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2082,"line":62,"column":0},"end":{"offset":2082,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2150,"line":63,"column":0},"end":{"offset":2150,"line":63,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":75,"level":"warning","comment":"This method has 75 maintainability index, below the minimum of 100 allowed.","context":[]}]},"NotificationService.scheduleFromPlan":{"codeSpan":{"start":{"offset":2163,"line":66,"column":3},"end":{"offset":4519,"line":132,"column":4},"text":"Future<void> scheduleFromPlan(CarePlanEntity plan) async {\n    if (!isNotificationEnabled(plan.id)) {\n      return;\n    }\n\n    final frequencyRegex = RegExp(\n      r'(\\d+)\\s*(?:em|/|-)\\s*(\\d+)\\s*[hH]',\n      caseSensitive: false,\n    );\n    final match = frequencyRegex.firstMatch(plan.description);\n\n    if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2226,"line":67,"column":5},"end":{"offset":2284,"line":69,"column":6},"text":"if (!isNotificationEnabled(plan.id)) {\n      return;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2468,"line":77,"column":5},"end":{"offset":4515,"line":131,"column":6},"text":"if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2767,"line":86,"column":7},"end":{"offset":3036,"line":92,"column":8},"text":"if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }"}},{"message":"For statement increases complexity","codeSpan":{"start":{"offset":3183,"line":98,"column":7},"end":{"offset":4509,"line":130,"column":8},"text":"for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4421,"line":127,"column":11},"end":{"offset":4501,"line":129,"column":10},"text":"catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }"}}]},{"metricsId":"halstead-volume","value":752.1950596167637,"level":"none","comment":"This method has a halstead volume of 752.1950596167637.","context":[]},{"metricsId":"lines-of-code","value":67,"unitType":"lines","level":"none","comment":"This method has 67 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2220,"line":66,"column":60},"end":{"offset":4519,"line":132,"column":4},"text":"{\n    if (!isNotificationEnabled(plan.id)) {\n      return;\n    }\n\n    final frequencyRegex = RegExp(\n      r'(\\d+)\\s*(?:em|/|-)\\s*(\\d+)\\s*[hH]',\n      caseSensitive: false,\n    );\n    final match = frequencyRegex.firstMatch(plan.description);\n\n    if (match != null) {\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2487,"line":77,"column":24},"end":{"offset":4515,"line":131,"column":6},"text":"{\n      final intervalHours = int.parse(match.group(2)!);\n\n      // Fast forward logic\n      DateTime nextTime = plan.startDate;\n      final now = DateTime.now();\n\n      // If startDate is in the future, wait for it.\n      // If in past, find the next occurrence in future.\n      if (nextTime.isBefore(now)) {\n        final diffHours = now.difference(nextTime).inHours;\n        final intervalsPassed = (diffHours / intervalHours).ceil();\n        nextTime = nextTime.add(\n          Duration(hours: intervalsPassed * intervalHours),\n        );\n      }\n\n      // Schedule for next 24h\n      // Max 24 hours / intervalHours times\n      int occurrencesToSchedule = (24 / intervalHours).ceil();\n\n      for (int i = 0; i < occurrencesToSchedule; i++) {\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }\n    }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":3231,"line":98,"column":55},"end":{"offset":4509,"line":130,"column":8},"text":"{\n        final scheduledDate = nextTime.add(Duration(hours: i * intervalHours));\n\n        // Generate unique ID\n        final notificationId = plan.id.hashCode + i;\n\n        try {\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        } catch (e) {\n          debugPrint('Error scheduling notification: $e');\n        }\n      }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":3410,"line":104,"column":13},"end":{"offset":4420,"line":127,"column":10},"text":"{\n          await flutterLocalNotificationsPlugin.zonedSchedule(\n            notificationId,\n            'Hora do Medicamento',\n            'Lembre-se de tomar seu medicamento: ${plan.title}',\n            tz.TZDateTime.from(scheduledDate, tz.local),\n            const NotificationDetails(\n              android: AndroidNotificationDetails(\n                'medication_channel',\n                'Lembretes de Medicamentos',\n                channelDescription: 'Canal para lembretes de medicamentos',\n                importance: Importance.max,\n                priority: Priority.high,\n              ),\n              iOS: DarwinNotificationDetails(),\n            ),\n            androidScheduleMode: AndroidScheduleMode.exactAllowWhileIdle,\n            uiLocalNotificationDateInterpretation:\n                UILocalNotificationDateInterpretation.absoluteTime,\n          );\n          debugPrint(\n            'Scheduled notification for ${plan.title} at $scheduledDate (ID: $notificationId)',\n          );\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":51,"unitType":"lines","level":"none","comment":"This method has 51 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2222,"line":67,"column":0},"end":{"offset":2222,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2265,"line":68,"column":0},"end":{"offset":2265,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2279,"line":69,"column":0},"end":{"offset":2279,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2286,"line":71,"column":0},"end":{"offset":2286,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2321,"line":72,"column":0},"end":{"offset":2321,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2365,"line":73,"column":0},"end":{"offset":2365,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2393,"line":74,"column":0},"end":{"offset":2393,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2400,"line":75,"column":0},"end":{"offset":2400,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2464,"line":77,"column":0},"end":{"offset":2464,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2489,"line":78,"column":0},"end":{"offset":2489,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2574,"line":81,"column":0},"end":{"offset":2574,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2616,"line":82,"column":0},"end":{"offset":2616,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2761,"line":86,"column":0},"end":{"offset":2761,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2797,"line":87,"column":0},"end":{"offset":2797,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2857,"line":88,"column":0},"end":{"offset":2857,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2925,"line":89,"column":0},"end":{"offset":2925,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2958,"line":90,"column":0},"end":{"offset":2958,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3018,"line":91,"column":0},"end":{"offset":3018,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3029,"line":92,"column":0},"end":{"offset":3029,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3113,"line":96,"column":0},"end":{"offset":3113,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3177,"line":98,"column":0},"end":{"offset":3177,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3233,"line":99,"column":0},"end":{"offset":3233,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3344,"line":102,"column":0},"end":{"offset":3344,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3398,"line":104,"column":0},"end":{"offset":3398,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3412,"line":105,"column":0},"end":{"offset":3412,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3475,"line":106,"column":0},"end":{"offset":3475,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3503,"line":107,"column":0},"end":{"offset":3503,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3538,"line":108,"column":0},"end":{"offset":3538,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3603,"line":109,"column":0},"end":{"offset":3603,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3660,"line":110,"column":0},"end":{"offset":3660,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3699,"line":111,"column":0},"end":{"offset":3699,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3750,"line":112,"column":0},"end":{"offset":3750,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3788,"line":113,"column":0},"end":{"offset":3788,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3833,"line":114,"column":0},"end":{"offset":3833,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3909,"line":115,"column":0},"end":{"offset":3909,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3953,"line":116,"column":0},"end":{"offset":3953,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3994,"line":117,"column":0},"end":{"offset":3994,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4011,"line":118,"column":0},"end":{"offset":4011,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4059,"line":119,"column":0},"end":{"offset":4059,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4074,"line":120,"column":0},"end":{"offset":4074,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4148,"line":121,"column":0},"end":{"offset":4148,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4199,"line":122,"column":0},"end":{"offset":4199,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4267,"line":123,"column":0},"end":{"offset":4267,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4280,"line":124,"column":0},"end":{"offset":4280,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4302,"line":125,"column":0},"end":{"offset":4302,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4398,"line":126,"column":0},"end":{"offset":4398,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4411,"line":127,"column":0},"end":{"offset":4411,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4433,"line":128,"column":0},"end":{"offset":4433,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4492,"line":129,"column":0},"end":{"offset":4492,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4502,"line":130,"column":0},"end":{"offset":4502,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4510,"line":131,"column":0},"end":{"offset":4510,"line":131,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":42,"level":"alarm","comment":"This method has 42 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/ui/view_model/care_plan_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanViewModel":{"codeSpan":{"start":{"offset":585,"line":12,"column":1},"end":{"offset":6234,"line":219,"column":2},"text":"class CarePlanViewModel extends ChangeNotifier {\n  final CreateCarePlanUseCase createCarePlanUseCase;\n  final GetPlansUseCase getPlansUseCase;\n  final UpdateCarePlanUseCase updateCarePlanUseCase;\n  final SearchPatientsUseCase searchPatientsUseCase;\n  final CarePlanRepository carePlanRepository;\n\n  CarePlanViewModel({\n    required this.createCarePlanUseCase,\n    required this.getPlansUseCase,\n    required this.updateCarePlanUseCase,\n    required this.searchPatientsUseCase,\n    required this.carePlanRepository,\n  });\n\n  bool isLoading = false;\n  String? errorMessage;\n  List<CarePlanEntity> plans = [];\n\n  Future<List<UserEntity>> searchPatients(String term) async {\n    final result = await searchPatientsUseCase(term);\n    return result.fold((failure) => [], (users) => users);\n  }\n\n  Future<void> fetchPlans(String userId, String userType) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result =\n        userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (fetchedPlans) {\n        plans = fetchedPlans;\n        // Load logs after fetching plans\n        loadTaskLogsForPlans(plans);\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }\n\n  Future<void> createPlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await createCarePlanUseCase(plan);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }\n\n  Future<bool> updatePlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await updateCarePlanUseCase(plan);\n\n    return result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n        return true;\n      },\n    );\n  }\n\n  // --- Notification Logic ---\n\n  Map<String, bool> notificationStatus = {};\n\n  Future<void> loadNotificationPreferences(\n    NotificationService notificationService,\n    List<CarePlanEntity> currentPlans,\n  ) async {\n    for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }\n    notifyListeners();\n  }\n\n  Future<void> toggleNotification(\n    CarePlanEntity plan,\n    NotificationService notificationService,\n  ) async {\n    final currentStatus = notificationStatus[plan.id] ?? true;\n    final newStatus = !currentStatus;\n\n    if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }\n\n    // Update State\n    notificationStatus[plan.id] = newStatus;\n    notifyListeners(); // Immediate UI update\n\n    // Persist and Schedule/Cancel\n    await notificationService.setNotificationEnabled(plan.id, newStatus);\n\n    if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }\n  }\n\n  // --- Quick Task Logic ---\n\n  Map<String, int> dailyTaskCounts = {};\n  Map<String, int> dailyGoals = {};\n\n  void calculateGoals(List<CarePlanEntity> plans) {\n    for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }\n    notifyListeners();\n  }\n\n  Future<void> loadTaskLogsForPlans(List<CarePlanEntity> currentPlans) async {\n    for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }\n    calculateGoals(currentPlans);\n    notifyListeners();\n  }\n\n  // --- Execution State Logic ---\n  final Map<String, bool> _executingStates = {};\n\n  bool isPlanExecuting(String planId) => _executingStates[planId] ?? false;\n\n  Future<void> registerExecution(CarePlanEntity plan) async {\n    if (isPlanExecuting(plan.id)) return; // Prevent double click\n\n    _executingStates[plan.id] = true;\n    notifyListeners(); // Show spinner\n\n    try {\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    } finally {\n      _executingStates[plan.id] = false;\n      notifyListeners(); // Hide spinner and update UI\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":11,"unitType":"methods","level":"none","comment":"This class has 11 methods.","context":[{"message":"constructor CarePlanViewModel increase metric value","codeSpan":{"start":{"offset":884,"line":19,"column":3},"end":{"offset":1105,"line":25,"column":6},"text":"CarePlanViewModel({\n    required this.createCarePlanUseCase,\n    required this.getPlansUseCase,\n    required this.updateCarePlanUseCase,\n    required this.searchPatientsUseCase,\n    required this.carePlanRepository,\n  });"}},{"message":"method searchPatients increase metric value","codeSpan":{"start":{"offset":1195,"line":31,"column":3},"end":{"offset":1372,"line":34,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    final result = await searchPatientsUseCase(term);\n    return result.fold((failure) => [], (users) => users);\n  }"}},{"message":"method fetchPlans increase metric value","codeSpan":{"start":{"offset":1376,"line":36,"column":3},"end":{"offset":2062,"line":61,"column":4},"text":"Future<void> fetchPlans(String userId, String userType) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result =\n        userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (fetchedPlans) {\n        plans = fetchedPlans;\n        // Load logs after fetching plans\n        loadTaskLogsForPlans(plans);\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method createPlan increase metric value","codeSpan":{"start":{"offset":2066,"line":63,"column":3},"end":{"offset":2468,"line":81,"column":4},"text":"Future<void> createPlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await createCarePlanUseCase(plan);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method updatePlan increase metric value","codeSpan":{"start":{"offset":2472,"line":83,"column":3},"end":{"offset":2924,"line":103,"column":4},"text":"Future<bool> updatePlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await updateCarePlanUseCase(plan);\n\n    return result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n        return true;\n      },\n    );\n  }"}},{"message":"method loadNotificationPreferences increase metric value","codeSpan":{"start":{"offset":3007,"line":109,"column":3},"end":{"offset":3321,"line":119,"column":4},"text":"Future<void> loadNotificationPreferences(\n    NotificationService notificationService,\n    List<CarePlanEntity> currentPlans,\n  ) async {\n    for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }\n    notifyListeners();\n  }"}},{"message":"method toggleNotification increase metric value","codeSpan":{"start":{"offset":3325,"line":121,"column":3},"end":{"offset":4342,"line":153,"column":4},"text":"Future<void> toggleNotification(\n    CarePlanEntity plan,\n    NotificationService notificationService,\n  ) async {\n    final currentStatus = notificationStatus[plan.id] ?? true;\n    final newStatus = !currentStatus;\n\n    if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }\n\n    // Update State\n    notificationStatus[plan.id] = newStatus;\n    notifyListeners(); // Immediate UI update\n\n    // Persist and Schedule/Cancel\n    await notificationService.setNotificationEnabled(plan.id, newStatus);\n\n    if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }\n  }"}},{"message":"method calculateGoals increase metric value","codeSpan":{"start":{"offset":4455,"line":160,"column":3},"end":{"offset":4861,"line":171,"column":4},"text":"void calculateGoals(List<CarePlanEntity> plans) {\n    for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }\n    notifyListeners();\n  }"}},{"message":"method loadTaskLogsForPlans increase metric value","codeSpan":{"start":{"offset":4865,"line":173,"column":3},"end":{"offset":5393,"line":188,"column":4},"text":"Future<void> loadTaskLogsForPlans(List<CarePlanEntity> currentPlans) async {\n    for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }\n    calculateGoals(currentPlans);\n    notifyListeners();\n  }"}},{"message":"method isPlanExecuting increase metric value","codeSpan":{"start":{"offset":5482,"line":193,"column":3},"end":{"offset":5555,"line":193,"column":76},"text":"bool isPlanExecuting(String planId) => _executingStates[planId] ?? false;"}},{"message":"method registerExecution increase metric value","codeSpan":{"start":{"offset":5559,"line":195,"column":3},"end":{"offset":6232,"line":218,"column":4},"text":"Future<void> registerExecution(CarePlanEntity plan) async {\n    if (isPlanExecuting(plan.id)) return; // Prevent double click\n\n    _executingStates[plan.id] = true;\n    notifyListeners(); // Show spinner\n\n    try {\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    } finally {\n      _executingStates[plan.id] = false;\n      notifyListeners(); // Hide spinner and update UI\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.9090909090909091,"level":"none","comment":"This class has a weight of 0.9090909090909091.","context":[{"message":"public constructor CarePlanViewModel decrease metric value","codeSpan":{"start":{"offset":884,"line":19,"column":3},"end":{"offset":1105,"line":25,"column":6},"text":"CarePlanViewModel({\n    required this.createCarePlanUseCase,\n    required this.getPlansUseCase,\n    required this.updateCarePlanUseCase,\n    required this.searchPatientsUseCase,\n    required this.carePlanRepository,\n  });"}},{"message":"functional method searchPatients increase metric value","codeSpan":{"start":{"offset":1195,"line":31,"column":3},"end":{"offset":1372,"line":34,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    final result = await searchPatientsUseCase(term);\n    return result.fold((failure) => [], (users) => users);\n  }"}},{"message":"functional method fetchPlans increase metric value","codeSpan":{"start":{"offset":1376,"line":36,"column":3},"end":{"offset":2062,"line":61,"column":4},"text":"Future<void> fetchPlans(String userId, String userType) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result =\n        userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (fetchedPlans) {\n        plans = fetchedPlans;\n        // Load logs after fetching plans\n        loadTaskLogsForPlans(plans);\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method createPlan increase metric value","codeSpan":{"start":{"offset":2066,"line":63,"column":3},"end":{"offset":2468,"line":81,"column":4},"text":"Future<void> createPlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await createCarePlanUseCase(plan);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method updatePlan increase metric value","codeSpan":{"start":{"offset":2472,"line":83,"column":3},"end":{"offset":2924,"line":103,"column":4},"text":"Future<bool> updatePlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await updateCarePlanUseCase(plan);\n\n    return result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n        return true;\n      },\n    );\n  }"}},{"message":"functional method loadNotificationPreferences increase metric value","codeSpan":{"start":{"offset":3007,"line":109,"column":3},"end":{"offset":3321,"line":119,"column":4},"text":"Future<void> loadNotificationPreferences(\n    NotificationService notificationService,\n    List<CarePlanEntity> currentPlans,\n  ) async {\n    for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }\n    notifyListeners();\n  }"}},{"message":"functional method toggleNotification increase metric value","codeSpan":{"start":{"offset":3325,"line":121,"column":3},"end":{"offset":4342,"line":153,"column":4},"text":"Future<void> toggleNotification(\n    CarePlanEntity plan,\n    NotificationService notificationService,\n  ) async {\n    final currentStatus = notificationStatus[plan.id] ?? true;\n    final newStatus = !currentStatus;\n\n    if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }\n\n    // Update State\n    notificationStatus[plan.id] = newStatus;\n    notifyListeners(); // Immediate UI update\n\n    // Persist and Schedule/Cancel\n    await notificationService.setNotificationEnabled(plan.id, newStatus);\n\n    if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }\n  }"}},{"message":"functional method calculateGoals increase metric value","codeSpan":{"start":{"offset":4455,"line":160,"column":3},"end":{"offset":4861,"line":171,"column":4},"text":"void calculateGoals(List<CarePlanEntity> plans) {\n    for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }\n    notifyListeners();\n  }"}},{"message":"functional method loadTaskLogsForPlans increase metric value","codeSpan":{"start":{"offset":4865,"line":173,"column":3},"end":{"offset":5393,"line":188,"column":4},"text":"Future<void> loadTaskLogsForPlans(List<CarePlanEntity> currentPlans) async {\n    for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }\n    calculateGoals(currentPlans);\n    notifyListeners();\n  }"}},{"message":"functional method isPlanExecuting increase metric value","codeSpan":{"start":{"offset":5482,"line":193,"column":3},"end":{"offset":5555,"line":193,"column":76},"text":"bool isPlanExecuting(String planId) => _executingStates[planId] ?? false;"}},{"message":"functional method registerExecution increase metric value","codeSpan":{"start":{"offset":5559,"line":195,"column":3},"end":{"offset":6232,"line":218,"column":4},"text":"Future<void> registerExecution(CarePlanEntity plan) async {\n    if (isPlanExecuting(plan.id)) return; // Prevent double click\n\n    _executingStates[plan.id] = true;\n    notifyListeners(); // Show spinner\n\n    try {\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    } finally {\n      _executingStates[plan.id] = false;\n      notifyListeners(); // Hide spinner and update UI\n    }\n  }"}}]}]}},"functions":{"CarePlanViewModel.CarePlanViewModel":{"codeSpan":{"start":{"offset":884,"line":19,"column":3},"end":{"offset":1105,"line":25,"column":6},"text":"CarePlanViewModel({\n    required this.createCarePlanUseCase,\n    required this.getPlansUseCase,\n    required this.updateCarePlanUseCase,\n    required this.searchPatientsUseCase,\n    required this.carePlanRepository,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This constructor has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanViewModel.searchPatients":{"codeSpan":{"start":{"offset":1195,"line":31,"column":3},"end":{"offset":1372,"line":34,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    final result = await searchPatientsUseCase(term);\n    return result.fold((failure) => [], (users) => users);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":33.0,"level":"none","comment":"This method has a halstead volume of 33.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1254,"line":31,"column":62},"end":{"offset":1372,"line":34,"column":4},"text":"{\n    final result = await searchPatientsUseCase(term);\n    return result.fold((failure) => [], (users) => users);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1256,"line":32,"column":0},"end":{"offset":1256,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1310,"line":33,"column":0},"end":{"offset":1310,"line":33,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":83,"level":"warning","comment":"This method has 83 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.fetchPlans":{"codeSpan":{"start":{"offset":1376,"line":36,"column":3},"end":{"offset":2062,"line":61,"column":4},"text":"Future<void> fetchPlans(String userId, String userType) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result =\n        userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (fetchedPlans) {\n        plans = fetchedPlans;\n        // Load logs after fetching plans\n        loadTaskLogsForPlans(plans);\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":1538,"line":42,"column":9},"end":{"offset":1716,"line":45,"column":52},"text":"userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId)"}}]},{"metricsId":"halstead-volume","value":220.89223069906643,"level":"none","comment":"This method has a halstead volume of 220.89223069906643.","context":[]},{"metricsId":"lines-of-code","value":26,"unitType":"lines","level":"none","comment":"This method has 26 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1438,"line":36,"column":65},"end":{"offset":2062,"line":61,"column":4},"text":"{\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result =\n        userType ==\n            'medico' // Considering 'medico' as the type string\n        ? await getPlansUseCase.byDoctorId(userId)\n        : await getPlansUseCase.byPatientId(userId);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (fetchedPlans) {\n        plans = fetchedPlans;\n        // Load logs after fetching plans\n        loadTaskLogsForPlans(plans);\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1752,"line":48,"column":17},"end":{"offset":1855,"line":52,"column":8},"text":"{\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1440,"line":37,"column":0},"end":{"offset":1440,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1462,"line":38,"column":0},"end":{"offset":1462,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1487,"line":39,"column":0},"end":{"offset":1487,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1511,"line":41,"column":0},"end":{"offset":1511,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1530,"line":42,"column":0},"end":{"offset":1530,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1550,"line":43,"column":0},"end":{"offset":1550,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1614,"line":44,"column":0},"end":{"offset":1614,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1665,"line":45,"column":0},"end":{"offset":1665,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1719,"line":47,"column":0},"end":{"offset":1719,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1736,"line":48,"column":0},"end":{"offset":1736,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1754,"line":49,"column":0},"end":{"offset":1754,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1794,"line":50,"column":0},"end":{"offset":1794,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1821,"line":51,"column":0},"end":{"offset":1821,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1848,"line":52,"column":0},"end":{"offset":1848,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1857,"line":53,"column":0},"end":{"offset":1857,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1880,"line":54,"column":0},"end":{"offset":1880,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1952,"line":56,"column":0},"end":{"offset":1952,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1989,"line":57,"column":0},"end":{"offset":1989,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2016,"line":58,"column":0},"end":{"offset":2016,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2043,"line":59,"column":0},"end":{"offset":2043,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2052,"line":60,"column":0},"end":{"offset":2052,"line":60,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.createPlan":{"codeSpan":{"start":{"offset":2066,"line":63,"column":3},"end":{"offset":2468,"line":81,"column":4},"text":"Future<void> createPlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await createCarePlanUseCase(plan);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":121.88872502451932,"level":"none","comment":"This method has a halstead volume of 121.88872502451932.","context":[]},{"metricsId":"lines-of-code","value":19,"unitType":"lines","level":"none","comment":"This method has 19 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2117,"line":63,"column":54},"end":{"offset":2468,"line":81,"column":4},"text":"{\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await createCarePlanUseCase(plan);\n\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2278,"line":71,"column":17},"end":{"offset":2381,"line":75,"column":8},"text":"{\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2119,"line":64,"column":0},"end":{"offset":2119,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2141,"line":65,"column":0},"end":{"offset":2141,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2166,"line":66,"column":0},"end":{"offset":2166,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2190,"line":68,"column":0},"end":{"offset":2190,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2245,"line":70,"column":0},"end":{"offset":2245,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2262,"line":71,"column":0},"end":{"offset":2262,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2280,"line":72,"column":0},"end":{"offset":2280,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2320,"line":73,"column":0},"end":{"offset":2320,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2347,"line":74,"column":0},"end":{"offset":2347,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2374,"line":75,"column":0},"end":{"offset":2374,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2383,"line":76,"column":0},"end":{"offset":2383,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2395,"line":77,"column":0},"end":{"offset":2395,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2422,"line":78,"column":0},"end":{"offset":2422,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2449,"line":79,"column":0},"end":{"offset":2449,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2458,"line":80,"column":0},"end":{"offset":2458,"line":80,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":60,"level":"warning","comment":"This method has 60 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.updatePlan":{"codeSpan":{"start":{"offset":2472,"line":83,"column":3},"end":{"offset":2924,"line":103,"column":4},"text":"Future<bool> updatePlan(CarePlanEntity plan) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await updateCarePlanUseCase(plan);\n\n    return result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n        return true;\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":121.88872502451932,"level":"none","comment":"This method has a halstead volume of 121.88872502451932.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2523,"line":83,"column":54},"end":{"offset":2924,"line":103,"column":4},"text":"{\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    final result = await updateCarePlanUseCase(plan);\n\n    return result.fold(\n      (failure) {\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        isLoading = false;\n        notifyListeners();\n        return true;\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2691,"line":91,"column":17},"end":{"offset":2816,"line":96,"column":8},"text":"{\n        errorMessage = failure.message;\n        isLoading = false;\n        notifyListeners();\n        return false;\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2525,"line":84,"column":0},"end":{"offset":2525,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2547,"line":85,"column":0},"end":{"offset":2547,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2572,"line":86,"column":0},"end":{"offset":2572,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2596,"line":88,"column":0},"end":{"offset":2596,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2651,"line":90,"column":0},"end":{"offset":2651,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2675,"line":91,"column":0},"end":{"offset":2675,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2693,"line":92,"column":0},"end":{"offset":2693,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2733,"line":93,"column":0},"end":{"offset":2733,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2760,"line":94,"column":0},"end":{"offset":2760,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2787,"line":95,"column":0},"end":{"offset":2787,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2809,"line":96,"column":0},"end":{"offset":2809,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2818,"line":97,"column":0},"end":{"offset":2818,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2830,"line":98,"column":0},"end":{"offset":2830,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2857,"line":99,"column":0},"end":{"offset":2857,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2884,"line":100,"column":0},"end":{"offset":2884,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2905,"line":101,"column":0},"end":{"offset":2905,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2914,"line":102,"column":0},"end":{"offset":2914,"line":102,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":59,"level":"warning","comment":"This method has 59 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.loadNotificationPreferences":{"codeSpan":{"start":{"offset":3007,"line":109,"column":3},"end":{"offset":3321,"line":119,"column":4},"text":"Future<void> loadNotificationPreferences(\n    NotificationService notificationService,\n    List<CarePlanEntity> currentPlans,\n  ) async {\n    for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":3149,"line":113,"column":5},"end":{"offset":3294,"line":117,"column":6},"text":"for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }"}}]},{"metricsId":"halstead-volume","value":33.0,"level":"none","comment":"This method has a halstead volume of 33.0.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3143,"line":112,"column":11},"end":{"offset":3321,"line":119,"column":4},"text":"{\n    for (final plan in currentPlans) {\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }\n    notifyListeners();\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":3182,"line":113,"column":38},"end":{"offset":3294,"line":117,"column":6},"text":"{\n      notificationStatus[plan.id] = notificationService.isNotificationEnabled(\n        plan.id,\n      );\n    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3145,"line":113,"column":0},"end":{"offset":3145,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3184,"line":114,"column":0},"end":{"offset":3184,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3263,"line":115,"column":0},"end":{"offset":3263,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3280,"line":116,"column":0},"end":{"offset":3280,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3289,"line":117,"column":0},"end":{"offset":3289,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3295,"line":118,"column":0},"end":{"offset":3295,"line":118,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":73,"level":"warning","comment":"This method has 73 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.toggleNotification":{"codeSpan":{"start":{"offset":3325,"line":121,"column":3},"end":{"offset":4342,"line":153,"column":4},"text":"Future<void> toggleNotification(\n    CarePlanEntity plan,\n    NotificationService notificationService,\n  ) async {\n    final currentStatus = notificationStatus[plan.id] ?? true;\n    final newStatus = !currentStatus;\n\n    if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }\n\n    // Update State\n    notificationStatus[plan.id] = newStatus;\n    notifyListeners(); // Immediate UI update\n\n    // Persist and Schedule/Cancel\n    await notificationService.setNotificationEnabled(plan.id, newStatus);\n\n    if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3494,"line":125,"column":55},"end":{"offset":3496,"line":125,"column":57},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3546,"line":128,"column":5},"end":{"offset":3963,"line":139,"column":6},"text":"if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3670,"line":131,"column":7},"end":{"offset":3957,"line":138,"column":8},"text":"if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":3690,"line":131,"column":27},"end":{"offset":3692,"line":131,"column":29},"text":"||"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3795,"line":133,"column":9},"end":{"offset":3949,"line":137,"column":10},"text":"if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4191,"line":148,"column":5},"end":{"offset":4338,"line":152,"column":6},"text":"if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }"}}]},{"metricsId":"halstead-volume","value":239.7487836710217,"level":"none","comment":"This method has a halstead volume of 239.7487836710217.","context":[]},{"metricsId":"lines-of-code","value":33,"unitType":"lines","level":"none","comment":"This method has 33 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3438,"line":124,"column":11},"end":{"offset":4342,"line":153,"column":4},"text":"{\n    final currentStatus = notificationStatus[plan.id] ?? true;\n    final newStatus = !currentStatus;\n\n    if (newStatus) {\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }\n\n    // Update State\n    notificationStatus[plan.id] = newStatus;\n    notifyListeners(); // Immediate UI update\n\n    // Persist and Schedule/Cancel\n    await notificationService.setNotificationEnabled(plan.id, newStatus);\n\n    if (newStatus) {\n      await notificationService.scheduleFromPlan(plan);\n    } else {\n      await notificationService.cancelForPlan(plan.id);\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3561,"line":128,"column":20},"end":{"offset":3963,"line":139,"column":6},"text":"{\n      // Check Permission before enabling\n      final status = await Permission.notification.status;\n      if (status.isDenied || status.isPermanentlyDenied) {\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3721,"line":131,"column":58},"end":{"offset":3957,"line":138,"column":8},"text":"{\n        final result = await Permission.notification.request();\n        if (!result.isGranted) {\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3818,"line":133,"column":32},"end":{"offset":3949,"line":137,"column":10},"text":"{\n          // Permission denied, do not enable\n          // Could set an error message or handle in UI\n          return;\n        }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":19,"unitType":"lines","level":"none","comment":"This method has 19 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3440,"line":125,"column":0},"end":{"offset":3440,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3503,"line":126,"column":0},"end":{"offset":3503,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3542,"line":128,"column":0},"end":{"offset":3542,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3605,"line":130,"column":0},"end":{"offset":3605,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3664,"line":131,"column":0},"end":{"offset":3664,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3723,"line":132,"column":0},"end":{"offset":3723,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3787,"line":133,"column":0},"end":{"offset":3787,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3922,"line":136,"column":0},"end":{"offset":3922,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3940,"line":137,"column":0},"end":{"offset":3940,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3950,"line":138,"column":0},"end":{"offset":3950,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3958,"line":139,"column":0},"end":{"offset":3958,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3985,"line":142,"column":0},"end":{"offset":3985,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4030,"line":143,"column":0},"end":{"offset":4030,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4112,"line":146,"column":0},"end":{"offset":4112,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4187,"line":148,"column":0},"end":{"offset":4187,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4208,"line":149,"column":0},"end":{"offset":4208,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4264,"line":150,"column":0},"end":{"offset":4264,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4277,"line":151,"column":0},"end":{"offset":4277,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4333,"line":152,"column":0},"end":{"offset":4333,"line":152,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.calculateGoals":{"codeSpan":{"start":{"offset":4455,"line":160,"column":3},"end":{"offset":4861,"line":171,"column":4},"text":"void calculateGoals(List<CarePlanEntity> plans) {\n    for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":4509,"line":161,"column":5},"end":{"offset":4834,"line":169,"column":6},"text":"for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4719,"line":165,"column":7},"end":{"offset":4794,"line":167,"column":8},"text":"if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":4736,"line":165,"column":24},"end":{"offset":4738,"line":165,"column":26},"text":"&&"}}]},{"metricsId":"halstead-volume","value":97.67226489021297,"level":"none","comment":"This method has a halstead volume of 97.67226489021297.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This method has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4503,"line":160,"column":51},"end":{"offset":4861,"line":171,"column":4},"text":"{\n    for (final plan in plans) {\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }\n    notifyListeners();\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":4535,"line":161,"column":31},"end":{"offset":4834,"line":169,"column":6},"text":"{\n      // Prompt says: \"Se frequency (horas) > 0: Meta = (24 / frequency).floor(). Se frequency for nulo ou 0: Meta = 1.\"\n      int goal = 1;\n      final freq = plan.frequency;\n      if (freq != null && freq > 0) {\n        goal = (24 / freq).floor();\n      }\n      dailyGoals[plan.id] = goal;\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":4749,"line":165,"column":37},"end":{"offset":4794,"line":167,"column":8},"text":"{\n        goal = (24 / freq).floor();\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":4505,"line":161,"column":0},"end":{"offset":4505,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4658,"line":163,"column":0},"end":{"offset":4658,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4678,"line":164,"column":0},"end":{"offset":4678,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4713,"line":165,"column":0},"end":{"offset":4713,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4751,"line":166,"column":0},"end":{"offset":4751,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4787,"line":167,"column":0},"end":{"offset":4787,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4795,"line":168,"column":0},"end":{"offset":4795,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4829,"line":169,"column":0},"end":{"offset":4829,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4835,"line":170,"column":0},"end":{"offset":4835,"line":170,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":65,"level":"warning","comment":"This method has 65 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.loadTaskLogsForPlans":{"codeSpan":{"start":{"offset":4865,"line":173,"column":3},"end":{"offset":5393,"line":188,"column":4},"text":"Future<void> loadTaskLogsForPlans(List<CarePlanEntity> currentPlans) async {\n    for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }\n    calculateGoals(currentPlans);\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":4946,"line":174,"column":5},"end":{"offset":5332,"line":185,"column":6},"text":"for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }"}}]},{"metricsId":"halstead-volume","value":144.0,"level":"none","comment":"This method has a halstead volume of 144.0.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4940,"line":173,"column":78},"end":{"offset":5393,"line":188,"column":4},"text":"{\n    for (final plan in currentPlans) {\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }\n    calculateGoals(currentPlans);\n    notifyListeners();\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":4979,"line":174,"column":38},"end":{"offset":5332,"line":185,"column":6},"text":"{\n      final result = await carePlanRepository.getTodaysTaskCount(plan.id);\n      result.fold(\n        (failure) {\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        },\n        (count) {\n          dailyTaskCounts[plan.id] = count;\n        },\n      );\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5093,"line":177,"column":19},"end":{"offset":5243,"line":180,"column":10},"text":"{\n          // Ignore failures for logs to not block main UI\n          debugPrint('Error fetching logs for ${plan.id}: ${failure.message}');\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This method has 13 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":4942,"line":174,"column":0},"end":{"offset":4942,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4981,"line":175,"column":0},"end":{"offset":4981,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5056,"line":176,"column":0},"end":{"offset":5056,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5075,"line":177,"column":0},"end":{"offset":5075,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5154,"line":179,"column":0},"end":{"offset":5154,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5234,"line":180,"column":0},"end":{"offset":5234,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5245,"line":181,"column":0},"end":{"offset":5245,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5263,"line":182,"column":0},"end":{"offset":5263,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5307,"line":183,"column":0},"end":{"offset":5307,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5318,"line":184,"column":0},"end":{"offset":5318,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5327,"line":185,"column":0},"end":{"offset":5327,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5333,"line":186,"column":0},"end":{"offset":5333,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5367,"line":187,"column":0},"end":{"offset":5367,"line":187,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This method has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.isPlanExecuting":{"codeSpan":{"start":{"offset":5482,"line":193,"column":3},"end":{"offset":5555,"line":193,"column":76},"text":"bool isPlanExecuting(String planId) => _executingStates[planId] ?? false;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":5546,"line":193,"column":67},"end":{"offset":5548,"line":193,"column":69},"text":"??"}}]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5480,"line":193,"column":0},"end":{"offset":5480,"line":193,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":95,"level":"warning","comment":"This method has 95 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanViewModel.registerExecution":{"codeSpan":{"start":{"offset":5559,"line":195,"column":3},"end":{"offset":6232,"line":218,"column":4},"text":"Future<void> registerExecution(CarePlanEntity plan) async {\n    if (isPlanExecuting(plan.id)) return; // Prevent double click\n\n    _executingStates[plan.id] = true;\n    notifyListeners(); // Show spinner\n\n    try {\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    } finally {\n      _executingStates[plan.id] = false;\n      notifyListeners(); // Hide spinner and update UI\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5623,"line":196,"column":5},"end":{"offset":5660,"line":196,"column":42},"text":"if (isPlanExecuting(plan.id)) return;"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":6030,"line":210,"column":57},"end":{"offset":6032,"line":210,"column":59},"text":"??"}}]},{"metricsId":"halstead-volume","value":233.6360132393972,"level":"none","comment":"This method has a halstead volume of 233.6360132393972.","context":[]},{"metricsId":"lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5617,"line":195,"column":61},"end":{"offset":6232,"line":218,"column":4},"text":"{\n    if (isPlanExecuting(plan.id)) return; // Prevent double click\n\n    _executingStates[plan.id] = true;\n    notifyListeners(); // Show spinner\n\n    try {\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    } finally {\n      _executingStates[plan.id] = false;\n      notifyListeners(); // Hide spinner and update UI\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":5772,"line":201,"column":9},"end":{"offset":6116,"line":214,"column":6},"text":"{\n      final result = await carePlanRepository.registerExecution(plan);\n\n      result.fold(\n        (failure) {\n          errorMessage = failure.message;\n        },\n        (_) {\n          // Success.\n          final currentCount = dailyTaskCounts[plan.id] ?? 0;\n          dailyTaskCounts[plan.id] = currentCount + 1;\n        },\n      );\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5883,"line":205,"column":19},"end":{"offset":5936,"line":207,"column":10},"text":"{\n          errorMessage = failure.message;\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":18,"unitType":"lines","level":"none","comment":"This method has 18 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5619,"line":196,"column":0},"end":{"offset":5619,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5686,"line":198,"column":0},"end":{"offset":5686,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5724,"line":199,"column":0},"end":{"offset":5724,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5764,"line":201,"column":0},"end":{"offset":5764,"line":201,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5774,"line":202,"column":0},"end":{"offset":5774,"line":202,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5846,"line":204,"column":0},"end":{"offset":5846,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5865,"line":205,"column":0},"end":{"offset":5865,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5885,"line":206,"column":0},"end":{"offset":5885,"line":206,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5927,"line":207,"column":0},"end":{"offset":5927,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5938,"line":208,"column":0},"end":{"offset":5938,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5974,"line":210,"column":0},"end":{"offset":5974,"line":210,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6036,"line":211,"column":0},"end":{"offset":6036,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6091,"line":212,"column":0},"end":{"offset":6091,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6102,"line":213,"column":0},"end":{"offset":6102,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6111,"line":214,"column":0},"end":{"offset":6111,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6127,"line":215,"column":0},"end":{"offset":6127,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6168,"line":216,"column":0},"end":{"offset":6168,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6223,"line":217,"column":0},"end":{"offset":6223,"line":217,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":56,"level":"warning","comment":"This method has 56 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/ui/widgets/care_plan_form_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanFormScreen":{"codeSpan":{"start":{"offset":335,"line":9,"column":1},"end":{"offset":567,"line":16,"column":2},"text":"class CarePlanFormScreen extends StatefulWidget {\n  final CarePlanEntity? planToEdit;\n\n  const CarePlanFormScreen({super.key, this.planToEdit});\n\n  @override\n  State<CarePlanFormScreen> createState() => _CarePlanFormScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CarePlanFormScreen increase metric value","codeSpan":{"start":{"offset":424,"line":12,"column":3},"end":{"offset":479,"line":12,"column":58},"text":"const CarePlanFormScreen({super.key, this.planToEdit});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":495,"line":15,"column":3},"end":{"offset":565,"line":15,"column":73},"text":"State<CarePlanFormScreen> createState() => _CarePlanFormScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor CarePlanFormScreen decrease metric value","codeSpan":{"start":{"offset":424,"line":12,"column":3},"end":{"offset":479,"line":12,"column":58},"text":"const CarePlanFormScreen({super.key, this.planToEdit});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":495,"line":15,"column":3},"end":{"offset":565,"line":15,"column":73},"text":"State<CarePlanFormScreen> createState() => _CarePlanFormScreenState();"}}]}]},"_CarePlanFormScreenState":{"codeSpan":{"start":{"offset":569,"line":18,"column":1},"end":{"offset":9979,"line":262,"column":2},"text":"class _CarePlanFormScreenState extends State<CarePlanFormScreen> {\n  final _formKey = GlobalKey<FormState>();\n  final _titleController = TextEditingController();\n  final _descriptionController = TextEditingController();\n  final _patientIdController =\n      TextEditingController(); // Defines text shown in field\n  String? _selectedPatientId; // Stores the actual ID\n  late DateTime _selectedDate;\n  DateTime? _endDate;\n  bool _isLimitedTime = false;\n\n  bool get _isEditing => widget.planToEdit != null;\n\n  @override\n  void initState() {\n    super.initState();\n    if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }\n  }\n\n  @override\n  void dispose() {\n    _titleController.dispose();\n    _descriptionController.dispose();\n    _patientIdController.dispose();\n    super.dispose();\n  }\n\n  Future<void> _submit() async {\n    if (_formKey.currentState!.validate()) {\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Consumer<CarePlanViewModel>(\n          builder: (context, viewModel, child) {\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":5,"unitType":"methods","level":"none","comment":"This class has 5 methods.","context":[{"message":"getter _isEditing increase metric value","codeSpan":{"start":{"offset":1023,"line":29,"column":3},"end":{"offset":1072,"line":29,"column":52},"text":"bool get _isEditing => widget.planToEdit != null;"}},{"message":"method initState increase metric value","codeSpan":{"start":{"offset":1088,"line":32,"column":3},"end":{"offset":1604,"line":47,"column":4},"text":"void initState() {\n    super.initState();\n    if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }\n  }"}},{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":1620,"line":50,"column":3},"end":{"offset":1767,"line":55,"column":4},"text":"void dispose() {\n    _titleController.dispose();\n    _descriptionController.dispose();\n    _patientIdController.dispose();\n    super.dispose();\n  }"}},{"message":"method _submit increase metric value","codeSpan":{"start":{"offset":1771,"line":57,"column":3},"end":{"offset":3197,"line":99,"column":4},"text":"Future<void> _submit() async {\n    if (_formKey.currentState!.validate()) {\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":3213,"line":102,"column":3},"end":{"offset":9977,"line":261,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Consumer<CarePlanViewModel>(\n          builder: (context, viewModel, child) {\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":1088,"line":32,"column":3},"end":{"offset":1604,"line":47,"column":4},"text":"void initState() {\n    super.initState();\n    if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }\n  }"}},{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":1620,"line":50,"column":3},"end":{"offset":1767,"line":55,"column":4},"text":"void dispose() {\n    _titleController.dispose();\n    _descriptionController.dispose();\n    _patientIdController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":3213,"line":102,"column":3},"end":{"offset":9977,"line":261,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Consumer<CarePlanViewModel>(\n          builder: (context, viewModel, child) {\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"CarePlanFormScreen.CarePlanFormScreen":{"codeSpan":{"start":{"offset":424,"line":12,"column":3},"end":{"offset":479,"line":12,"column":58},"text":"const CarePlanFormScreen({super.key, this.planToEdit});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanFormScreen.createState":{"codeSpan":{"start":{"offset":495,"line":15,"column":3},"end":{"offset":565,"line":15,"column":73},"text":"State<CarePlanFormScreen> createState() => _CarePlanFormScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":493,"line":15,"column":0},"end":{"offset":493,"line":15,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_CarePlanFormScreenState._isEditing":{"codeSpan":{"start":{"offset":1023,"line":29,"column":3},"end":{"offset":1072,"line":29,"column":52},"text":"bool get _isEditing => widget.planToEdit != null;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This getter has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1021,"line":29,"column":0},"end":{"offset":1021,"line":29,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This getter has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanFormScreenState.initState":{"codeSpan":{"start":{"offset":1088,"line":32,"column":3},"end":{"offset":1604,"line":47,"column":4},"text":"void initState() {\n    super.initState();\n    if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1134,"line":34,"column":5},"end":{"offset":1600,"line":46,"column":6},"text":"if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1381,"line":39,"column":52},"end":{"offset":1383,"line":39,"column":54},"text":"??"}}]},{"metricsId":"halstead-volume","value":222.90509710918678,"level":"none","comment":"This method has a halstead volume of 222.90509710918678.","context":[]},{"metricsId":"lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1105,"line":32,"column":20},"end":{"offset":1604,"line":47,"column":4},"text":"{\n    super.initState();\n    if (_isEditing) {\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    } else {\n      _selectedDate = DateTime.now();\n      _isLimitedTime = false;\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1150,"line":34,"column":21},"end":{"offset":1519,"line":43,"column":6},"text":"{\n      final plan = widget.planToEdit!;\n      _titleController.text = plan.title;\n      _descriptionController.text = plan.description;\n      _selectedPatientId = plan.patientId;\n      _patientIdController.text = plan.patientName ?? plan.patientId;\n      _selectedDate = plan.startDate;\n      _endDate = plan.endDate;\n      _isLimitedTime = plan.endDate != null;\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1107,"line":33,"column":0},"end":{"offset":1107,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1130,"line":34,"column":0},"end":{"offset":1130,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1152,"line":35,"column":0},"end":{"offset":1152,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1191,"line":36,"column":0},"end":{"offset":1191,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1233,"line":37,"column":0},"end":{"offset":1233,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1287,"line":38,"column":0},"end":{"offset":1287,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1330,"line":39,"column":0},"end":{"offset":1330,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1400,"line":40,"column":0},"end":{"offset":1400,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1438,"line":41,"column":0},"end":{"offset":1438,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1469,"line":42,"column":0},"end":{"offset":1469,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1514,"line":43,"column":0},"end":{"offset":1514,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1527,"line":44,"column":0},"end":{"offset":1527,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1565,"line":45,"column":0},"end":{"offset":1565,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1595,"line":46,"column":0},"end":{"offset":1595,"line":46,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":59,"level":"warning","comment":"This method has 59 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanFormScreenState.dispose":{"codeSpan":{"start":{"offset":1620,"line":50,"column":3},"end":{"offset":1767,"line":55,"column":4},"text":"void dispose() {\n    _titleController.dispose();\n    _descriptionController.dispose();\n    _patientIdController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":14.0,"level":"none","comment":"This method has a halstead volume of 14.0.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1635,"line":50,"column":18},"end":{"offset":1767,"line":55,"column":4},"text":"{\n    _titleController.dispose();\n    _descriptionController.dispose();\n    _patientIdController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1637,"line":51,"column":0},"end":{"offset":1637,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1669,"line":52,"column":0},"end":{"offset":1669,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1707,"line":53,"column":0},"end":{"offset":1707,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1743,"line":54,"column":0},"end":{"offset":1743,"line":54,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":79,"level":"warning","comment":"This method has 79 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanFormScreenState._submit":{"codeSpan":{"start":{"offset":1771,"line":57,"column":3},"end":{"offset":3197,"line":99,"column":4},"text":"Future<void> _submit() async {\n    if (_formKey.currentState!.validate()) {\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":10,"level":"alarm","comment":"This method has a cyclomatic complexity of 10, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1806,"line":58,"column":5},"end":{"offset":3193,"line":98,"column":6},"text":"if (_formKey.currentState!.validate()) {\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1931,"line":60,"column":7},"end":{"offset":2160,"line":65,"column":8},"text":"if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":1962,"line":60,"column":38},"end":{"offset":1964,"line":60,"column":40},"text":"||"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2269,"line":70,"column":13},"end":{"offset":2308,"line":70,"column":52},"text":"_isEditing ? widget.planToEdit!.id : ''"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2416,"line":73,"column":19},"end":{"offset":2485,"line":75,"column":17},"text":"_isEditing\n            ? widget.planToEdit!.doctorId\n            : ''"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2610,"line":78,"column":18},"end":{"offset":2642,"line":78,"column":50},"text":"_isLimitedTime ? _endDate : null"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2756,"line":83,"column":7},"end":{"offset":2880,"line":87,"column":8},"text":"if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2888,"line":89,"column":7},"end":{"offset":3187,"line":97,"column":8},"text":"if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2911,"line":90,"column":9},"end":{"offset":3179,"line":96,"column":10},"text":"if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }"}}]},{"metricsId":"halstead-volume","value":479.72777613085157,"level":"none","comment":"This method has a halstead volume of 479.72777613085157.","context":[]},{"metricsId":"lines-of-code","value":43,"unitType":"lines","level":"none","comment":"This method has 43 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1800,"line":57,"column":32},"end":{"offset":3197,"line":99,"column":4},"text":"{\n    if (_formKey.currentState!.validate()) {\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1845,"line":58,"column":44},"end":{"offset":3193,"line":98,"column":6},"text":"{\n      // Logic validation for Patient ID (since it might be hidden/typeahead)\n      if (_selectedPatientId == null || _selectedPatientId!.isEmpty) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          const SnackBar(content: Text('Por favor, selecione um paciente.')),\n        );\n        return;\n      }\n\n      final viewModel = context.read<CarePlanViewModel>();\n\n      final plan = CarePlanEntity(\n        id: _isEditing ? widget.planToEdit!.id : '',\n        title: _titleController.text,\n        description: _descriptionController.text,\n        doctorId: _isEditing\n            ? widget.planToEdit!.doctorId\n            : '', // Backend handles ID on create\n        patientId: _selectedPatientId!,\n        startDate: _selectedDate,\n        endDate: _isLimitedTime ? _endDate : null,\n        patientName:\n            _patientIdController.text, // Use the name from the controller\n      );\n\n      if (_isEditing) {\n        await viewModel.updatePlan(plan);\n      } else {\n        await viewModel.createPlan(plan);\n      }\n\n      if (mounted) {\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2901,"line":89,"column":20},"end":{"offset":3187,"line":97,"column":8},"text":"{\n        if (viewModel.errorMessage != null) {\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        } else {\n          Navigator.pop(context, true); // Return true to indicate success\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2947,"line":90,"column":45},"end":{"offset":3087,"line":94,"column":10},"text":"{\n          ScaffoldMessenger.of(\n            context,\n          ).showSnackBar(SnackBar(content: Text(viewModel.errorMessage!)));\n        }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":36,"unitType":"lines","level":"none","comment":"This method has 36 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1802,"line":58,"column":0},"end":{"offset":1802,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1925,"line":60,"column":0},"end":{"offset":1925,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1996,"line":61,"column":0},"end":{"offset":1996,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2048,"line":62,"column":0},"end":{"offset":2048,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2126,"line":63,"column":0},"end":{"offset":2126,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2137,"line":64,"column":0},"end":{"offset":2137,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2153,"line":65,"column":0},"end":{"offset":2153,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2162,"line":67,"column":0},"end":{"offset":2162,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2222,"line":69,"column":0},"end":{"offset":2222,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2257,"line":70,"column":0},"end":{"offset":2257,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2310,"line":71,"column":0},"end":{"offset":2310,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2348,"line":72,"column":0},"end":{"offset":2348,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2398,"line":73,"column":0},"end":{"offset":2398,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2427,"line":74,"column":0},"end":{"offset":2427,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2469,"line":75,"column":0},"end":{"offset":2469,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2519,"line":76,"column":0},"end":{"offset":2519,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2559,"line":77,"column":0},"end":{"offset":2559,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2593,"line":78,"column":0},"end":{"offset":2593,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2644,"line":79,"column":0},"end":{"offset":2644,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2665,"line":80,"column":0},"end":{"offset":2665,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2740,"line":81,"column":0},"end":{"offset":2740,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2750,"line":83,"column":0},"end":{"offset":2750,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2774,"line":84,"column":0},"end":{"offset":2774,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2816,"line":85,"column":0},"end":{"offset":2816,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2831,"line":86,"column":0},"end":{"offset":2831,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2873,"line":87,"column":0},"end":{"offset":2873,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2882,"line":89,"column":0},"end":{"offset":2882,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2903,"line":90,"column":0},"end":{"offset":2903,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2949,"line":91,"column":0},"end":{"offset":2949,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2981,"line":92,"column":0},"end":{"offset":2981,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3002,"line":93,"column":0},"end":{"offset":3002,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3078,"line":94,"column":0},"end":{"offset":3078,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3095,"line":95,"column":0},"end":{"offset":3095,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3170,"line":96,"column":0},"end":{"offset":3170,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3180,"line":97,"column":0},"end":{"offset":3180,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3188,"line":98,"column":0},"end":{"offset":3188,"line":98,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":46,"level":"alarm","comment":"This method has 46 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanFormScreenState.build":{"codeSpan":{"start":{"offset":3213,"line":102,"column":3},"end":{"offset":9977,"line":261,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Consumer<CarePlanViewModel>(\n          builder: (context, viewModel, child) {\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":18,"level":"alarm","comment":"This method has a cyclomatic complexity of 18, which exceeds the maximum of 1 allowed.","context":[{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":3313,"line":105,"column":21},"end":{"offset":3367,"line":105,"column":75},"text":"_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3873,"line":119,"column":23},"end":{"offset":3996,"line":121,"column":24},"text":"if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":3891,"line":119,"column":41},"end":{"offset":3893,"line":119,"column":43},"text":"||"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4972,"line":143,"column":27},"end":{"offset":5108,"line":145,"column":28},"text":"if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":4990,"line":143,"column":45},"end":{"offset":4992,"line":143,"column":47},"text":"||"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5135,"line":146,"column":27},"end":{"offset":5265,"line":148,"column":28},"text":"if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5461,"line":154,"column":23},"end":{"offset":5519,"line":155,"column":35},"text":"if (pattern.length < 3)\n                        return [];"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":7094,"line":190,"column":23},"end":{"offset":7672,"line":201,"column":24},"text":"if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":7113,"line":190,"column":42},"end":{"offset":7115,"line":190,"column":44},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":7358,"line":194,"column":27},"end":{"offset":7620,"line":199,"column":28},"text":"if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":7379,"line":194,"column":48},"end":{"offset":7381,"line":194,"column":50},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":8189,"line":214,"column":25},"end":{"offset":8337,"line":216,"column":26},"text":"if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":8208,"line":214,"column":44},"end":{"offset":8210,"line":214,"column":46},"text":"&&"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":8979,"line":232,"column":49},"end":{"offset":8981,"line":232,"column":51},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":9178,"line":236,"column":25},"end":{"offset":9342,"line":240,"column":26},"text":"if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":9688,"line":249,"column":34},"end":{"offset":9723,"line":249,"column":69},"text":"_isEditing ? Icons.save : Icons.add"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":9785,"line":251,"column":25},"end":{"offset":9833,"line":251,"column":73},"text":"_isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano'"}}]},{"metricsId":"halstead-volume","value":4479.955353212757,"level":"none","comment":"This method has a halstead volume of 4479.955353212757.","context":[]},{"metricsId":"lines-of-code","value":161,"unitType":"lines","level":"none","comment":"This method has 161 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":6,"level":"alarm","comment":"This method has a nesting level of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3248,"line":102,"column":38},"end":{"offset":9977,"line":261,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(_isEditing ? 'Editar Plano' : 'Criar Plano de Cuidado'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Consumer<CarePlanViewModel>(\n          builder: (context, viewModel, child) {\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3536,"line":110,"column":48},"end":{"offset":9945,"line":257,"column":12},"text":"{\n            return Form(\n              key: _formKey,\n              child: ListView(\n                children: [\n                  TextFormField(\n                    controller: _titleController,\n                    decoration: const InputDecoration(labelText: 'T√≠tulo'),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Por favor, insira um t√≠tulo';\n                      }\n                      return null;\n                    },\n                  ),\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _descriptionController,\n                    decoration: const InputDecoration(labelText: 'Descri√ß√£o'),\n                    maxLines: 3,\n                  ),\n                  const SizedBox(height: 16),\n                  // Patient Search Field (Email-based)\n                  TypeAheadField<UserEntity>(\n                    controller: _patientIdController,\n                    builder: (context, controller, focusNode) {\n                      return TextFormField(\n                        controller: controller,\n                        focusNode: focusNode,\n                        decoration: const InputDecoration(\n                          labelText: 'Buscar paciente por e-mail',\n                        ),\n                        validator: (value) {\n                          if (value == null || value.isEmpty) {\n                            return 'Por favor, selecione um paciente';\n                          }\n                          if (_selectedPatientId == null) {\n                            return 'Selecione um paciente da lista';\n                          }\n                          return null;\n                        },\n                      );\n                    },\n                    suggestionsCallback: (pattern) async {\n                      if (pattern.length < 3)\n                        return []; // Optional optimization\n                      return await viewModel.searchPatients(pattern);\n                    },\n                    itemBuilder: (context, UserEntity user) {\n                      return ListTile(\n                        title: Text(user.email),\n                        subtitle: Text(user.name),\n                      );\n                    },\n                    onSelected: (UserEntity user) {\n                      setState(() {\n                        _selectedPatientId = user.id;\n                        // Display Format: Email (Name)\n                        _patientIdController.text =\n                            \"${user.name} - ${user.email}\";\n                      });\n                    },\n                    emptyBuilder: (context) => const Padding(\n                      padding: EdgeInsets.all(8.0),\n                      child: Text('Nenhum paciente encontrado.'),\n                    ),\n                  ),\n                  const SizedBox(height: 16),\n                  ListTile(\n                    title: Text(\n                      'Data de In√≠cio: ${DateFormat('dd/MM/yyyy').format(_selectedDate)}',\n                    ),\n                    trailing: const Icon(Icons.calendar_today),\n                    onTap: () async {\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    },\n                  ),\n                  const SizedBox(height: 8),\n                  SwitchListTile(\n                    title: const Text('Tratamento por tempo limitado?'),\n                    subtitle: const Text(\n                      'Para antibi√≥ticos ou tratamentos pontuais',\n                    ),\n                    value: _isLimitedTime,\n                    onChanged: (val) {\n                      setState(() {\n                        _isLimitedTime = val;\n                        if (_isLimitedTime && _endDate == null) {\n                          _endDate = _selectedDate.add(const Duration(days: 7));\n                        }\n                      });\n                    },\n                  ),\n                  if (_isLimitedTime)\n                    ListTile(\n                      title: Text(\n                        'Data de T√©rmino: ${DateFormat('dd/MM/yyyy').format(_endDate!)}',\n                      ),\n                      trailing: const Icon(\n                        Icons.event_busy,\n                        color: Colors.redAccent,\n                      ),\n                      onTap: () async {\n                        final picked = await showDatePicker(\n                          context: context,\n                          initialDate: _endDate ?? _selectedDate,\n                          firstDate: _selectedDate, // Can't end before start\n                          lastDate: DateTime(2101),\n                        );\n                        if (picked != null) {\n                          setState(() {\n                            _endDate = picked;\n                          });\n                        }\n                      },\n                    ),\n                  const SizedBox(height: 24),\n                  if (viewModel.isLoading)\n                    const Center(child: CircularProgressIndicator())\n                  else\n                    ElevatedButton.icon(\n                      onPressed: _submit,\n                      icon: Icon(_isEditing ? Icons.save : Icons.add),\n                      label: Text(\n                        _isEditing ? 'Salvar Altera√ß√µes' : 'Criar Plano',\n                      ),\n                    ),\n                ],\n              ),\n            );\n          }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":6791,"line":183,"column":37},"end":{"offset":7694,"line":202,"column":22},"text":"{\n                      final picked = await showDatePicker(\n                        context: context,\n                        initialDate: _selectedDate,\n                        firstDate: DateTime(2000),\n                        lastDate: DateTime(2101),\n                      );\n                      if (picked != null && picked != _selectedDate) {\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }\n                    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":7141,"line":190,"column":70},"end":{"offset":7672,"line":201,"column":24},"text":"{\n                        setState(() {\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        });\n                      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":7179,"line":191,"column":37},"end":{"offset":7646,"line":200,"column":26},"text":"{\n                          _selectedDate = picked;\n                          // If end date exists and is before new start date, reset it or keep valid\n                          if (_endDate != null &&\n                              _endDate!.isBefore(_selectedDate)) {\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }\n                        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":7447,"line":195,"column":66},"end":{"offset":7620,"line":199,"column":28},"text":"{\n                            _endDate = _selectedDate.add(\n                              const Duration(days: 1),\n                            );\n                          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":155,"unitType":"lines","level":"none","comment":"This method has 155 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3250,"line":103,"column":0},"end":{"offset":3250,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3271,"line":104,"column":0},"end":{"offset":3271,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3293,"line":105,"column":0},"end":{"offset":3293,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3370,"line":106,"column":0},"end":{"offset":3370,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3379,"line":107,"column":0},"end":{"offset":3379,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3400,"line":108,"column":0},"end":{"offset":3400,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3445,"line":109,"column":0},"end":{"offset":3445,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3489,"line":110,"column":0},"end":{"offset":3489,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3538,"line":111,"column":0},"end":{"offset":3538,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3563,"line":112,"column":0},"end":{"offset":3563,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3592,"line":113,"column":0},"end":{"offset":3592,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3623,"line":114,"column":0},"end":{"offset":3623,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3651,"line":115,"column":0},"end":{"offset":3651,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3684,"line":116,"column":0},"end":{"offset":3684,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3734,"line":117,"column":0},"end":{"offset":3734,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3810,"line":118,"column":0},"end":{"offset":3810,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3851,"line":119,"column":0},"end":{"offset":3851,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3911,"line":120,"column":0},"end":{"offset":3911,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3973,"line":121,"column":0},"end":{"offset":3973,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3997,"line":122,"column":0},"end":{"offset":3997,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4032,"line":123,"column":0},"end":{"offset":4032,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4055,"line":124,"column":0},"end":{"offset":4055,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4076,"line":125,"column":0},"end":{"offset":4076,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4122,"line":126,"column":0},"end":{"offset":4122,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4155,"line":127,"column":0},"end":{"offset":4155,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4211,"line":128,"column":0},"end":{"offset":4211,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4290,"line":129,"column":0},"end":{"offset":4290,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4323,"line":130,"column":0},"end":{"offset":4323,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4344,"line":131,"column":0},"end":{"offset":4344,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4446,"line":133,"column":0},"end":{"offset":4446,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4492,"line":134,"column":0},"end":{"offset":4492,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4546,"line":135,"column":0},"end":{"offset":4546,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4610,"line":136,"column":0},"end":{"offset":4610,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4654,"line":137,"column":0},"end":{"offset":4654,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4702,"line":138,"column":0},"end":{"offset":4702,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4748,"line":139,"column":0},"end":{"offset":4748,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4807,"line":140,"column":0},"end":{"offset":4807,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4874,"line":141,"column":0},"end":{"offset":4874,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4901,"line":142,"column":0},"end":{"offset":4901,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4946,"line":143,"column":0},"end":{"offset":4946,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5010,"line":144,"column":0},"end":{"offset":5010,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5081,"line":145,"column":0},"end":{"offset":5081,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5109,"line":146,"column":0},"end":{"offset":5109,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5169,"line":147,"column":0},"end":{"offset":5169,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5238,"line":148,"column":0},"end":{"offset":5238,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5266,"line":149,"column":0},"end":{"offset":5266,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5305,"line":150,"column":0},"end":{"offset":5305,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5332,"line":151,"column":0},"end":{"offset":5332,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5357,"line":152,"column":0},"end":{"offset":5357,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5380,"line":153,"column":0},"end":{"offset":5380,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5439,"line":154,"column":0},"end":{"offset":5439,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5485,"line":155,"column":0},"end":{"offset":5485,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5545,"line":156,"column":0},"end":{"offset":5545,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5615,"line":157,"column":0},"end":{"offset":5615,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5638,"line":158,"column":0},"end":{"offset":5638,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5700,"line":159,"column":0},"end":{"offset":5700,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5739,"line":160,"column":0},"end":{"offset":5739,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5788,"line":161,"column":0},"end":{"offset":5788,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5839,"line":162,"column":0},"end":{"offset":5839,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5864,"line":163,"column":0},"end":{"offset":5864,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5887,"line":164,"column":0},"end":{"offset":5887,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5939,"line":165,"column":0},"end":{"offset":5939,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5975,"line":166,"column":0},"end":{"offset":5975,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6085,"line":168,"column":0},"end":{"offset":6085,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6137,"line":169,"column":0},"end":{"offset":6137,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6197,"line":170,"column":0},"end":{"offset":6197,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6223,"line":171,"column":0},"end":{"offset":6223,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6246,"line":172,"column":0},"end":{"offset":6246,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6308,"line":173,"column":0},"end":{"offset":6308,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6360,"line":174,"column":0},"end":{"offset":6360,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6426,"line":175,"column":0},"end":{"offset":6426,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6449,"line":176,"column":0},"end":{"offset":6449,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6470,"line":177,"column":0},"end":{"offset":6470,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6516,"line":178,"column":0},"end":{"offset":6516,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6544,"line":179,"column":0},"end":{"offset":6544,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6577,"line":180,"column":0},"end":{"offset":6577,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6668,"line":181,"column":0},"end":{"offset":6668,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6691,"line":182,"column":0},"end":{"offset":6691,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6755,"line":183,"column":0},"end":{"offset":6755,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6793,"line":184,"column":0},"end":{"offset":6793,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6852,"line":185,"column":0},"end":{"offset":6852,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6894,"line":186,"column":0},"end":{"offset":6894,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6946,"line":187,"column":0},"end":{"offset":6946,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6997,"line":188,"column":0},"end":{"offset":6997,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7047,"line":189,"column":0},"end":{"offset":7047,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7072,"line":190,"column":0},"end":{"offset":7072,"line":190,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7143,"line":191,"column":0},"end":{"offset":7143,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7181,"line":192,"column":0},"end":{"offset":7181,"line":192,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7332,"line":194,"column":0},"end":{"offset":7332,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7382,"line":195,"column":0},"end":{"offset":7382,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7449,"line":196,"column":0},"end":{"offset":7449,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7507,"line":197,"column":0},"end":{"offset":7507,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7562,"line":198,"column":0},"end":{"offset":7562,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7593,"line":199,"column":0},"end":{"offset":7593,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7621,"line":200,"column":0},"end":{"offset":7621,"line":200,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7649,"line":201,"column":0},"end":{"offset":7649,"line":201,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7673,"line":202,"column":0},"end":{"offset":7673,"line":202,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7696,"line":203,"column":0},"end":{"offset":7696,"line":203,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7717,"line":204,"column":0},"end":{"offset":7717,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7762,"line":205,"column":0},"end":{"offset":7762,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7796,"line":206,"column":0},"end":{"offset":7796,"line":206,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7869,"line":207,"column":0},"end":{"offset":7869,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7911,"line":208,"column":0},"end":{"offset":7911,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7978,"line":209,"column":0},"end":{"offset":7978,"line":209,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8001,"line":210,"column":0},"end":{"offset":8001,"line":210,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8044,"line":211,"column":0},"end":{"offset":8044,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8083,"line":212,"column":0},"end":{"offset":8083,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8119,"line":213,"column":0},"end":{"offset":8119,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8165,"line":214,"column":0},"end":{"offset":8165,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8231,"line":215,"column":0},"end":{"offset":8231,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8312,"line":216,"column":0},"end":{"offset":8312,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8338,"line":217,"column":0},"end":{"offset":8338,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8364,"line":218,"column":0},"end":{"offset":8364,"line":218,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8387,"line":219,"column":0},"end":{"offset":8387,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8408,"line":220,"column":0},"end":{"offset":8408,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8446,"line":221,"column":0},"end":{"offset":8446,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8476,"line":222,"column":0},"end":{"offset":8476,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8511,"line":223,"column":0},"end":{"offset":8511,"line":223,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8601,"line":224,"column":0},"end":{"offset":8601,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8626,"line":225,"column":0},"end":{"offset":8626,"line":225,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8670,"line":226,"column":0},"end":{"offset":8670,"line":226,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8712,"line":227,"column":0},"end":{"offset":8712,"line":227,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8761,"line":228,"column":0},"end":{"offset":8761,"line":228,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8786,"line":229,"column":0},"end":{"offset":8786,"line":229,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8826,"line":230,"column":0},"end":{"offset":8826,"line":230,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8887,"line":231,"column":0},"end":{"offset":8887,"line":231,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8931,"line":232,"column":0},"end":{"offset":8931,"line":232,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8997,"line":233,"column":0},"end":{"offset":8997,"line":233,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9075,"line":234,"column":0},"end":{"offset":9075,"line":234,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9127,"line":235,"column":0},"end":{"offset":9127,"line":235,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9154,"line":236,"column":0},"end":{"offset":9154,"line":236,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9200,"line":237,"column":0},"end":{"offset":9200,"line":237,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9240,"line":238,"column":0},"end":{"offset":9240,"line":238,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9287,"line":239,"column":0},"end":{"offset":9287,"line":239,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9317,"line":240,"column":0},"end":{"offset":9317,"line":240,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9343,"line":241,"column":0},"end":{"offset":9343,"line":241,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9368,"line":242,"column":0},"end":{"offset":9368,"line":242,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9391,"line":243,"column":0},"end":{"offset":9391,"line":243,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9437,"line":244,"column":0},"end":{"offset":9437,"line":244,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9480,"line":245,"column":0},"end":{"offset":9480,"line":245,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9549,"line":246,"column":0},"end":{"offset":9549,"line":246,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9572,"line":247,"column":0},"end":{"offset":9572,"line":247,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9613,"line":248,"column":0},"end":{"offset":9613,"line":248,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9655,"line":249,"column":0},"end":{"offset":9655,"line":249,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9726,"line":250,"column":0},"end":{"offset":9726,"line":250,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9761,"line":251,"column":0},"end":{"offset":9761,"line":251,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9835,"line":252,"column":0},"end":{"offset":9835,"line":252,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9860,"line":253,"column":0},"end":{"offset":9860,"line":253,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9883,"line":254,"column":0},"end":{"offset":9883,"line":254,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9902,"line":255,"column":0},"end":{"offset":9902,"line":255,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9919,"line":256,"column":0},"end":{"offset":9919,"line":256,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9934,"line":257,"column":0},"end":{"offset":9934,"line":257,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9947,"line":258,"column":0},"end":{"offset":9947,"line":258,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9958,"line":259,"column":0},"end":{"offset":9958,"line":259,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9967,"line":260,"column":0},"end":{"offset":9967,"line":260,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":25,"level":"alarm","comment":"This method has 25 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/ui/widgets/care_plan_home_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanHomeScreen":{"codeSpan":{"start":{"offset":786,"line":18,"column":1},"end":{"offset":964,"line":23,"column":2},"text":"class CarePlanHomeScreen extends StatefulWidget {\n  const CarePlanHomeScreen({super.key});\n\n  @override\n  State<CarePlanHomeScreen> createState() => _CarePlanHomeScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CarePlanHomeScreen increase metric value","codeSpan":{"start":{"offset":838,"line":19,"column":3},"end":{"offset":876,"line":19,"column":41},"text":"const CarePlanHomeScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":892,"line":22,"column":3},"end":{"offset":962,"line":22,"column":73},"text":"State<CarePlanHomeScreen> createState() => _CarePlanHomeScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor CarePlanHomeScreen decrease metric value","codeSpan":{"start":{"offset":838,"line":19,"column":3},"end":{"offset":876,"line":19,"column":41},"text":"const CarePlanHomeScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":892,"line":22,"column":3},"end":{"offset":962,"line":22,"column":73},"text":"State<CarePlanHomeScreen> createState() => _CarePlanHomeScreenState();"}}]}]},"_CarePlanHomeScreenState":{"codeSpan":{"start":{"offset":966,"line":25,"column":1},"end":{"offset":33318,"line":679,"column":2},"text":"class _CarePlanHomeScreenState extends State<CarePlanHomeScreen> {\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    });\n  }\n\n  void _navigateToForm({dynamic plan}) async {\n    final result = await Navigator.push(\n      context,\n      MaterialPageRoute(\n        builder: (_) => ChangeNotifierProvider.value(\n          value: context.read<CarePlanViewModel>(),\n          child: CarePlanFormScreen(planToEdit: plan),\n        ),\n      ),\n    );\n\n    if (!mounted) return;\n\n    if (result == true) {\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // Access property via method or getter to ensure type safety if possible, or dynamic\n    // Ideally AuthViewModel should be properly typed in selector.\n    // Assuming AuthViewModel exposes 'user' which is UserEntity?.\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n    final isDoctor = user?.type == 'medico';\n\n    return Scaffold(\n      body: Consumer<CarePlanViewModel>(\n        builder: (context, viewModel, child) {\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        },\n      ),\n      floatingActionButton: isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null,\n    );\n  }\n\n  Widget _buildCheckInButton(BuildContext context, dynamic plan) {\n    if (plan == null) return const SizedBox.shrink();\n\n    // Trigger status check if not already checking\n    // Ideally we should do this in initState or similar, but doing here for simplicity\n    // ensuring we don't spam.\n    // A better approach is listening to CarePlanViewModel changes or using a PostFrameCallback\n    // For now, let's use the Consumer of CheckInViewModel to drive the UI.\n\n    // We assume the service is already initialized or being called somewhere.\n    // Actually, in PatientHomeScreen we removed the manual check.\n    // So here we should probably trigger it if we want the button to reflect state.\n    // However, build methods shouldn't trigger side effects.\n    // Let's rely on CheckInViewModel being updated by something else OR\n    // we use a post frame callback in this widget too?\n    // Given the refactor, let's trigger it once when this widget is built if needed.\n    // But modifying state during build is bad.\n    // Let's assume CheckInViewModel is managing its state or we trigger it via a\n    // proper lifecycle method if we were in a Stateful widget context for this specific item.\n    // Since we are in CarePlanHomeScreenState, let's use a Consumer here.\n\n    // Note: To be safe, we should probably check status in initState of CarePlanHomeScreen if we know the plan?\n    // But plans are loaded asynchronously.\n    // The previous implementation in PatientHomeScreen triggered it in build via a side effect comment/hack or post frame.\n    // Let's just render the button that opens the dialog. The dialog logic handles the actual check-in process.\n    // The \"Status\" (Di√°rio Completo) requires knowledge of whether it was done today.\n\n    return Consumer<CheckInViewModel>(\n      builder: (context, checkInViewModel, child) {\n        // Optimization: If we haven't checked status yet for this plan, we might show a default state\n        // or trigger a check. But CheckInViewModel is global currently? It seems to check for \"a plan\".\n\n        // Let's simplify:\n        // Just show the \"Check-in Di√°rio\" button.\n        // inside the dialog it will handle logic.\n        // If we want the nice \"Complete\" state, we need to ensure checkStatus is called.\n        // We can do that by calling checkStatus when the button is pressed (before showing dialog? no, inside logic).\n\n        // Let's keep it simple: A big action button \"Fazer Check-in Di√°rio\".\n        // If already done, the user will be told so in the flow or we can check status on mount.\n\n        if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }\n\n        if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }\n\n        return SizedBox(\n          width: double.infinity,\n          child: ElevatedButton.icon(\n            onPressed: () {\n              showDialog(\n                context: context,\n                builder: (context) => ChangeNotifierProvider.value(\n                  value: checkInViewModel,\n                  child: CheckInDialog(planId: plan.id),\n                ),\n              );\n            },\n            icon: const Icon(Icons.assignment_turned_in),\n            label: const Text('Fazer Check-in Di√°rio'),\n            style: ElevatedButton.styleFrom(\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              textStyle: const TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              backgroundColor: Theme.of(context).primaryColor,\n              foregroundColor: Colors.white,\n              elevation: 2,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":1047,"line":27,"column":3},"end":{"offset":2126,"line":57,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    });\n  }"}},{"message":"method _navigateToForm increase metric value","codeSpan":{"start":{"offset":2130,"line":59,"column":3},"end":{"offset":2692,"line":79,"column":4},"text":"void _navigateToForm({dynamic plan}) async {\n    final result = await Navigator.push(\n      context,\n      MaterialPageRoute(\n        builder: (_) => ChangeNotifierProvider.value(\n          value: context.read<CarePlanViewModel>(),\n          child: CarePlanFormScreen(planToEdit: plan),\n        ),\n      ),\n    );\n\n    if (!mounted) return;\n\n    if (result == true) {\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":2708,"line":82,"column":3},"end":{"offset":28608,"line":573,"column":4},"text":"Widget build(BuildContext context) {\n    // Access property via method or getter to ensure type safety if possible, or dynamic\n    // Ideally AuthViewModel should be properly typed in selector.\n    // Assuming AuthViewModel exposes 'user' which is UserEntity?.\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n    final isDoctor = user?.type == 'medico';\n\n    return Scaffold(\n      body: Consumer<CarePlanViewModel>(\n        builder: (context, viewModel, child) {\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        },\n      ),\n      floatingActionButton: isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null,\n    );\n  }"}},{"message":"method _buildCheckInButton increase metric value","codeSpan":{"start":{"offset":28612,"line":575,"column":3},"end":{"offset":33316,"line":678,"column":4},"text":"Widget _buildCheckInButton(BuildContext context, dynamic plan) {\n    if (plan == null) return const SizedBox.shrink();\n\n    // Trigger status check if not already checking\n    // Ideally we should do this in initState or similar, but doing here for simplicity\n    // ensuring we don't spam.\n    // A better approach is listening to CarePlanViewModel changes or using a PostFrameCallback\n    // For now, let's use the Consumer of CheckInViewModel to drive the UI.\n\n    // We assume the service is already initialized or being called somewhere.\n    // Actually, in PatientHomeScreen we removed the manual check.\n    // So here we should probably trigger it if we want the button to reflect state.\n    // However, build methods shouldn't trigger side effects.\n    // Let's rely on CheckInViewModel being updated by something else OR\n    // we use a post frame callback in this widget too?\n    // Given the refactor, let's trigger it once when this widget is built if needed.\n    // But modifying state during build is bad.\n    // Let's assume CheckInViewModel is managing its state or we trigger it via a\n    // proper lifecycle method if we were in a Stateful widget context for this specific item.\n    // Since we are in CarePlanHomeScreenState, let's use a Consumer here.\n\n    // Note: To be safe, we should probably check status in initState of CarePlanHomeScreen if we know the plan?\n    // But plans are loaded asynchronously.\n    // The previous implementation in PatientHomeScreen triggered it in build via a side effect comment/hack or post frame.\n    // Let's just render the button that opens the dialog. The dialog logic handles the actual check-in process.\n    // The \"Status\" (Di√°rio Completo) requires knowledge of whether it was done today.\n\n    return Consumer<CheckInViewModel>(\n      builder: (context, checkInViewModel, child) {\n        // Optimization: If we haven't checked status yet for this plan, we might show a default state\n        // or trigger a check. But CheckInViewModel is global currently? It seems to check for \"a plan\".\n\n        // Let's simplify:\n        // Just show the \"Check-in Di√°rio\" button.\n        // inside the dialog it will handle logic.\n        // If we want the nice \"Complete\" state, we need to ensure checkStatus is called.\n        // We can do that by calling checkStatus when the button is pressed (before showing dialog? no, inside logic).\n\n        // Let's keep it simple: A big action button \"Fazer Check-in Di√°rio\".\n        // If already done, the user will be told so in the flow or we can check status on mount.\n\n        if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }\n\n        if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }\n\n        return SizedBox(\n          width: double.infinity,\n          child: ElevatedButton.icon(\n            onPressed: () {\n              showDialog(\n                context: context,\n                builder: (context) => ChangeNotifierProvider.value(\n                  value: checkInViewModel,\n                  child: CheckInDialog(planId: plan.id),\n                ),\n              );\n            },\n            icon: const Icon(Icons.assignment_turned_in),\n            label: const Text('Fazer Check-in Di√°rio'),\n            style: ElevatedButton.styleFrom(\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              textStyle: const TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              backgroundColor: Theme.of(context).primaryColor,\n              foregroundColor: Colors.white,\n              elevation: 2,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":1047,"line":27,"column":3},"end":{"offset":2126,"line":57,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    });\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":2708,"line":82,"column":3},"end":{"offset":28608,"line":573,"column":4},"text":"Widget build(BuildContext context) {\n    // Access property via method or getter to ensure type safety if possible, or dynamic\n    // Ideally AuthViewModel should be properly typed in selector.\n    // Assuming AuthViewModel exposes 'user' which is UserEntity?.\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n    final isDoctor = user?.type == 'medico';\n\n    return Scaffold(\n      body: Consumer<CarePlanViewModel>(\n        builder: (context, viewModel, child) {\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        },\n      ),\n      floatingActionButton: isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null,\n    );\n  }"}}]}]}},"functions":{"CarePlanHomeScreen.CarePlanHomeScreen":{"codeSpan":{"start":{"offset":838,"line":19,"column":3},"end":{"offset":876,"line":19,"column":41},"text":"const CarePlanHomeScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanHomeScreen.createState":{"codeSpan":{"start":{"offset":892,"line":22,"column":3},"end":{"offset":962,"line":22,"column":73},"text":"State<CarePlanHomeScreen> createState() => _CarePlanHomeScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":890,"line":22,"column":0},"end":{"offset":890,"line":22,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_CarePlanHomeScreenState.initState":{"codeSpan":{"start":{"offset":1047,"line":27,"column":3},"end":{"offset":2126,"line":57,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This method has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1248,"line":32,"column":7},"end":{"offset":2114,"line":55,"column":8},"text":"if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1501,"line":37,"column":11},"end":{"offset":2094,"line":53,"column":12},"text":"if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1797,"line":45,"column":13},"end":{"offset":2004,"line":49,"column":14},"text":"if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1836,"line":45,"column":52},"end":{"offset":1838,"line":45,"column":54},"text":"&&"}}]},{"metricsId":"halstead-volume","value":845.0,"level":"none","comment":"This method has a halstead volume of 845.0.","context":[]},{"metricsId":"lines-of-code","value":32,"unitType":"lines","level":"none","comment":"This method has 32 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":6,"level":"alarm","comment":"This method has a nesting level of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1064,"line":27,"column":20},"end":{"offset":2126,"line":57,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1142,"line":29,"column":54},"end":{"offset":2120,"line":56,"column":6},"text":"{\n      final authViewModel = context.read<AuthViewModel>();\n      final user = authViewModel.user;\n      if (user != null) {\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1266,"line":32,"column":25},"end":{"offset":2114,"line":55,"column":8},"text":"{\n        final carePlanViewModel = context\n            .read<CarePlanViewModel>(); // Store reference\n        carePlanViewModel.fetchPlans(user.id, user.type).then((_) {\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        });\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1435,"line":35,"column":67},"end":{"offset":2104,"line":54,"column":10},"text":"{\n          // Load prefreences after plans are fetched\n          if (mounted) {\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }\n        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1514,"line":37,"column":24},"end":{"offset":2094,"line":53,"column":12},"text":"{\n            final notificationService = context.read<NotificationService>();\n            carePlanViewModel.loadNotificationPreferences(\n              notificationService,\n              carePlanViewModel.plans,\n            );\n\n            // Check daily check-in status\n            if (carePlanViewModel.plans.isNotEmpty && user.type != 'medico') {\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }\n\n            // Initialize TTS\n            context.read<TtsService>().init();\n          }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1862,"line":45,"column":78},"end":{"offset":2004,"line":49,"column":14},"text":"{\n              context.read<CheckInViewModel>().checkStatus(\n                carePlanViewModel.plans.first.id,\n              );\n            }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1066,"line":28,"column":0},"end":{"offset":1066,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1089,"line":29,"column":0},"end":{"offset":1089,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1144,"line":30,"column":0},"end":{"offset":1144,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1203,"line":31,"column":0},"end":{"offset":1203,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1242,"line":32,"column":0},"end":{"offset":1242,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1268,"line":33,"column":0},"end":{"offset":1268,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1310,"line":34,"column":0},"end":{"offset":1310,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1369,"line":35,"column":0},"end":{"offset":1369,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1491,"line":37,"column":0},"end":{"offset":1491,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1516,"line":38,"column":0},"end":{"offset":1516,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1593,"line":39,"column":0},"end":{"offset":1593,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1652,"line":40,"column":0},"end":{"offset":1652,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1687,"line":41,"column":0},"end":{"offset":1687,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1726,"line":42,"column":0},"end":{"offset":1726,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1785,"line":45,"column":0},"end":{"offset":1785,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1864,"line":46,"column":0},"end":{"offset":1864,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1924,"line":47,"column":0},"end":{"offset":1924,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1974,"line":48,"column":0},"end":{"offset":1974,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1991,"line":49,"column":0},"end":{"offset":1991,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2036,"line":52,"column":0},"end":{"offset":2036,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2083,"line":53,"column":0},"end":{"offset":2083,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2095,"line":54,"column":0},"end":{"offset":2095,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2107,"line":55,"column":0},"end":{"offset":2107,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2115,"line":56,"column":0},"end":{"offset":2115,"line":56,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":49,"level":"alarm","comment":"This method has 49 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanHomeScreenState._navigateToForm":{"codeSpan":{"start":{"offset":2130,"line":59,"column":3},"end":{"offset":2692,"line":79,"column":4},"text":"void _navigateToForm({dynamic plan}) async {\n    final result = await Navigator.push(\n      context,\n      MaterialPageRoute(\n        builder: (_) => ChangeNotifierProvider.value(\n          value: context.read<CarePlanViewModel>(),\n          child: CarePlanFormScreen(planToEdit: plan),\n        ),\n      ),\n    );\n\n    if (!mounted) return;\n\n    if (result == true) {\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2449,"line":70,"column":5},"end":{"offset":2470,"line":70,"column":26},"text":"if (!mounted) return;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2476,"line":72,"column":5},"end":{"offset":2688,"line":78,"column":6},"text":"if (result == true) {\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2581,"line":75,"column":7},"end":{"offset":2682,"line":77,"column":8},"text":"if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }"}}]},{"metricsId":"halstead-volume","value":274.01923055728344,"level":"none","comment":"This method has a halstead volume of 274.01923055728344.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2173,"line":59,"column":46},"end":{"offset":2692,"line":79,"column":4},"text":"{\n    final result = await Navigator.push(\n      context,\n      MaterialPageRoute(\n        builder: (_) => ChangeNotifierProvider.value(\n          value: context.read<CarePlanViewModel>(),\n          child: CarePlanFormScreen(planToEdit: plan),\n        ),\n      ),\n    );\n\n    if (!mounted) return;\n\n    if (result == true) {\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2496,"line":72,"column":25},"end":{"offset":2688,"line":78,"column":6},"text":"{\n      // Refresh list\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2599,"line":75,"column":25},"end":{"offset":2682,"line":77,"column":8},"text":"{\n        context.read<CarePlanViewModel>().fetchPlans(user.id, user.type);\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2175,"line":60,"column":0},"end":{"offset":2175,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2216,"line":61,"column":0},"end":{"offset":2216,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2231,"line":62,"column":0},"end":{"offset":2231,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2256,"line":63,"column":0},"end":{"offset":2256,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2310,"line":64,"column":0},"end":{"offset":2310,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2362,"line":65,"column":0},"end":{"offset":2362,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2417,"line":66,"column":0},"end":{"offset":2417,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2428,"line":67,"column":0},"end":{"offset":2428,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2437,"line":68,"column":0},"end":{"offset":2437,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2445,"line":70,"column":0},"end":{"offset":2445,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2472,"line":72,"column":0},"end":{"offset":2472,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2520,"line":74,"column":0},"end":{"offset":2520,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2575,"line":75,"column":0},"end":{"offset":2575,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2601,"line":76,"column":0},"end":{"offset":2601,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2675,"line":77,"column":0},"end":{"offset":2675,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2683,"line":78,"column":0},"end":{"offset":2683,"line":78,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanHomeScreenState.build":{"codeSpan":{"start":{"offset":2708,"line":82,"column":3},"end":{"offset":28608,"line":573,"column":4},"text":"Widget build(BuildContext context) {\n    // Access property via method or getter to ensure type safety if possible, or dynamic\n    // Ideally AuthViewModel should be properly typed in selector.\n    // Assuming AuthViewModel exposes 'user' which is UserEntity?.\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n    final isDoctor = user?.type == 'medico';\n\n    return Scaffold(\n      body: Consumer<CarePlanViewModel>(\n        builder: (context, viewModel, child) {\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        },\n      ),\n      floatingActionButton: isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null,\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":30,"level":"alarm","comment":"This method has a cyclomatic complexity of 30, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":3068,"line":87,"column":26},"end":{"offset":3070,"line":87,"column":28},"text":"?."}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3281,"line":94,"column":15},"end":{"offset":3791,"line":107,"column":16},"text":"if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3460,"line":99,"column":17},"end":{"offset":3775,"line":106,"column":18},"text":"if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":3480,"line":99,"column":37},"end":{"offset":3482,"line":99,"column":39},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3587,"line":101,"column":19},"end":{"offset":3757,"line":105,"column":20},"text":"if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5150,"line":141,"column":31},"end":{"offset":5391,"line":143,"column":117},"text":"isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.'"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":6336,"line":167,"column":31},"end":{"offset":6338,"line":167,"column":33},"text":"&&"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":10561,"line":253,"column":47},"end":{"offset":10783,"line":256,"column":83},"text":"isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":11236,"line":264,"column":47},"end":{"offset":11432,"line":266,"column":96},"text":"isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}'"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":11317,"line":265,"column":73},"end":{"offset":11319,"line":265,"column":75},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":11412,"line":266,"column":76},"end":{"offset":11414,"line":266,"column":78},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":14181,"line":317,"column":69},"end":{"offset":14183,"line":317,"column":71},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":14259,"line":318,"column":73},"end":{"offset":14261,"line":318,"column":75},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":20818,"line":430,"column":72},"end":{"offset":20820,"line":430,"column":74},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":21870,"line":448,"column":76},"end":{"offset":21872,"line":448,"column":78},"text":"??"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":22080,"line":452,"column":45},"end":{"offset":22304,"line":455,"column":82},"text":"isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":22357,"line":456,"column":52},"end":{"offset":22621,"line":460,"column":62},"text":"isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":22773,"line":463,"column":52},"end":{"offset":22919,"line":465,"column":67},"text":"isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes'"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":23427,"line":474,"column":45},"end":{"offset":24575,"line":491,"column":46},"text":"if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":23812,"line":480,"column":53},"end":{"offset":24174,"line":484,"column":101},"text":"vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}'"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":25380,"line":506,"column":43},"end":{"offset":25525,"line":508,"column":64},"text":"isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":25576,"line":509,"column":50},"end":{"offset":25832,"line":513,"column":60},"text":"isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":26096,"line":518,"column":43},"end":{"offset":26694,"line":527,"column":44},"text":"if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":27137,"line":536,"column":59},"end":{"offset":27178,"line":536,"column":100},"text":"isDoctor ? plan.patientId : plan.doctorId"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":27490,"line":542,"column":58},"end":{"offset":27623,"line":544,"column":62},"text":"isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":27684,"line":545,"column":60},"end":{"offset":27851,"line":547,"column":78},"text":"isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico')"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":27759,"line":546,"column":67},"end":{"offset":27761,"line":546,"column":69},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":27839,"line":547,"column":66},"end":{"offset":27841,"line":547,"column":68},"text":"??"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":28429,"line":566,"column":29},"end":{"offset":28596,"line":571,"column":17},"text":"isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null"}}]},{"metricsId":"halstead-volume","value":18286.214703639194,"level":"none","comment":"This method has a halstead volume of 18286.214703639194.","context":[]},{"metricsId":"lines-of-code","value":493,"unitType":"lines","level":"none","comment":"This method has 493 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":6,"level":"alarm","comment":"This method has a nesting level of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2743,"line":82,"column":38},"end":{"offset":28608,"line":573,"column":4},"text":"{\n    // Access property via method or getter to ensure type safety if possible, or dynamic\n    // Ideally AuthViewModel should be properly typed in selector.\n    // Assuming AuthViewModel exposes 'user' which is UserEntity?.\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n    final isDoctor = user?.type == 'medico';\n\n    return Scaffold(\n      body: Consumer<CarePlanViewModel>(\n        builder: (context, viewModel, child) {\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        },\n      ),\n      floatingActionButton: isDoctor\n          ? FloatingActionButton(\n              onPressed: () => _navigateToForm(),\n              child: const Icon(Icons.add),\n            )\n          : null,\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3196,"line":91,"column":46},"end":{"offset":28390,"line":564,"column":10},"text":"{\n          return RefreshIndicator(\n            onRefresh: () async {\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            },\n            child: CustomScrollView(\n              slivers: [\n                SliverAppBar(\n                  pinned: true,\n                  snap: true,\n                  floating: true,\n                  primary: false,\n                  automaticallyImplyLeading: false,\n                  toolbarHeight: 80.0,\n                  expandedHeight: 260.0,\n                  backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n                  elevation: 0,\n                  scrolledUnderElevation: 0,\n                  title: Text(\n                    'Planos de Cuidado',\n                    style: TextStyle(\n                      fontSize: 28,\n                      fontWeight: FontWeight.w800,\n                      color: Theme.of(context).primaryColor,\n                      letterSpacing: -0.5,\n                    ),\n                  ),\n                  centerTitle: false,\n                  titleSpacing: 24.0,\n                  flexibleSpace: FlexibleSpaceBar(\n                    background: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 80, 24, 0),\n                      child: Row(\n                        crossAxisAlignment: CrossAxisAlignment.center,\n                        children: [\n                          Expanded(\n                            child: Text(\n                              isDoctor\n                                  ? 'Gerencie tratamentos, monitore a ades√£o e acompanhe a evolu√ß√£o dos pacientes.'\n                                  : 'Visualize seus planos, controle hor√°rios e reporte sua evolu√ß√£o para o m√©dico.',\n                              style: TextStyle(\n                                fontSize: 16,\n                                color: Colors.grey[600],\n                                fontWeight: FontWeight.w500,\n                                height: 1.5,\n                              ),\n                            ),\n                          ),\n                          const SizedBox(width: 16),\n                          Expanded(\n                            child: SizedBox(\n                              height: 160,\n                              child: SvgPicture.asset(\n                                'assets/svg/online_doctor_amico.svg',\n                                fit: BoxFit.contain,\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                  ),\n                ),\n                if (!isDoctor && viewModel.plans.isNotEmpty)\n                  SliverToBoxAdapter(\n                    child: Padding(\n                      padding: const EdgeInsets.fromLTRB(24, 16, 24, 16),\n                      child: _buildCheckInButton(\n                        context,\n                        viewModel.plans.first,\n                      ),\n                    ),\n                  ),\n                if (viewModel.isLoading)\n                  const SliverToBoxAdapter(\n                    child: Padding(\n                      padding: EdgeInsets.all(32.0),\n                      child: Center(child: CircularProgressIndicator()),\n                    ),\n                  )\n                else if (viewModel.errorMessage != null)\n                  SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(\n                      child: Text('Erro: ${viewModel.errorMessage}'),\n                    ),\n                  )\n                else if (viewModel.plans.isEmpty)\n                  const SliverFillRemaining(\n                    hasScrollBody: false,\n                    child: Center(child: Text('Nenhum plano encontrado.')),\n                  )\n                else\n                  SliverList(\n                    delegate: SliverChildBuilderDelegate((context, index) {\n                      final plan = viewModel.plans[index];\n                      return Card(\n                        margin: const EdgeInsets.symmetric(\n                          horizontal: 16.0,\n                          vertical: 8.0,\n                        ),\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                              Column(\n                                crossAxisAlignment: CrossAxisAlignment.start,\n                                children: [\n                                  Text(\n                                    plan.title,\n                                    style: TextStyle(\n                                      fontSize: 20,\n                                      fontWeight: FontWeight.w800,\n                                      color: Theme.of(context).primaryColor,\n                                      letterSpacing: -0.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 8),\n                                  Text(\n                                    plan.description,\n                                    style: TextStyle(\n                                      fontSize: 16,\n                                      color: Colors.grey[700],\n                                      height: 1.5,\n                                    ),\n                                  ),\n                                  const SizedBox(height: 16),\n                                  Row(\n                                    mainAxisAlignment:\n                                        MainAxisAlignment.spaceBetween,\n                                    children: [\n                                      Container(\n                                        padding: const EdgeInsets.symmetric(\n                                          horizontal: 12,\n                                          vertical: 6,\n                                        ),\n                                        decoration: BoxDecoration(\n                                          color: Theme.of(\n                                            context,\n                                          ).primaryColor.withOpacity(0.05),\n                                          borderRadius: BorderRadius.circular(\n                                            8,\n                                          ),\n                                        ),\n                                        child: Row(\n                                          mainAxisSize: MainAxisSize.min,\n                                          children: [\n                                            Icon(\n                                              isDoctor\n                                                  ? Icons.person_outline\n                                                  : Icons\n                                                        .medical_services_outlined,\n                                              size: 16,\n                                              color: Theme.of(\n                                                context,\n                                              ).primaryColor,\n                                            ),\n                                            const SizedBox(width: 8),\n                                            Text(\n                                              isDoctor\n                                                  ? '${plan.patientName ?? plan.patientId}'\n                                                  : 'Dr. ${plan.doctorName ?? \"N√£o informado\"}',\n                                              style: TextStyle(\n                                                fontWeight: FontWeight.w600,\n                                                color: Theme.of(\n                                                  context,\n                                                ).primaryColor,\n                                                fontSize: 14,\n                                              ),\n                                            ),\n                                          ],\n                                        ),\n                                      ),\n                                      Row(\n                                        children: [\n                                          Icon(\n                                            Icons.calendar_today_outlined,\n                                            size: 14,\n                                            color: Colors.grey[500],\n                                          ),\n                                          const SizedBox(width: 6),\n                                          Text(\n                                            DateFormat(\n                                              'dd/MM/yyyy',\n                                            ).format(plan.startDate),\n                                            style: TextStyle(\n                                              color: Colors.grey[500],\n                                              fontSize: 12,\n                                              fontWeight: FontWeight.w500,\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ],\n                                  ),\n                                ],\n                              ),\n                              const SizedBox(height: 8),\n                              if (!isDoctor) ...[\n                                const Divider(height: 24),\n                                Text(\n                                  'Status do Dia',\n                                  style: TextStyle(\n                                    fontSize: 14,\n                                    fontWeight: FontWeight.w600,\n                                    color: Colors.grey[700],\n                                  ),\n                                ),\n                                const SizedBox(height: 8),\n                                Consumer<CarePlanViewModel>(\n                                  builder: (context, vm, _) {\n                                    final count =\n                                        vm.dailyTaskCounts[plan.id] ?? 0;\n                                    final goal = vm.dailyGoals[plan.id] ?? 1;\n                                    final isGoalMet = count >= goal;\n\n                                    return Row(\n                                      children: [\n                                        Expanded(\n                                          child: Text(\n                                            'Conclu√≠do: $count / $goal',\n                                            style: TextStyle(\n                                              fontSize: 16,\n                                              fontWeight: FontWeight.w500,\n                                              color: Colors.grey[800],\n                                            ),\n                                          ),\n                                        ),\n                                        if (isGoalMet)\n                                          Container(\n                                            padding: const EdgeInsets.symmetric(\n                                              horizontal: 12,\n                                              vertical: 6,\n                                            ),\n                                            decoration: BoxDecoration(\n                                              color: Colors.green.withOpacity(\n                                                0.1,\n                                              ),\n                                              borderRadius:\n                                                  BorderRadius.circular(20),\n                                            ),\n                                            child: Row(\n                                              children: const [\n                                                Icon(\n                                                  Icons.check_circle,\n                                                  color: Colors.green,\n                                                  size: 16,\n                                                ),\n                                                SizedBox(width: 4),\n                                                Text(\n                                                  'Meta atingida',\n                                                  style: TextStyle(\n                                                    color: Colors.green,\n                                                    fontWeight: FontWeight.w600,\n                                                    fontSize: 12,\n                                                  ),\n                                                ),\n                                              ],\n                                            ),\n                                          )\n                                        else if (vm.isPlanExecuting(plan.id))\n                                          const SizedBox(\n                                            width: 24,\n                                            height: 24,\n                                            child: CircularProgressIndicator(\n                                              strokeWidth: 2,\n                                            ),\n                                          )\n                                        else\n                                          ElevatedButton.icon(\n                                            onPressed: () {\n                                              context\n                                                  .read<CarePlanViewModel>()\n                                                  .registerExecution(plan);\n                                            },\n                                            icon: const Icon(\n                                              Icons.check,\n                                              size: 16,\n                                            ),\n                                            label: const Text('Marcar Feito'),\n                                            style: ElevatedButton.styleFrom(\n                                              padding:\n                                                  const EdgeInsets.symmetric(\n                                                    horizontal: 16,\n                                                    vertical: 10,\n                                                  ),\n                                              textStyle: const TextStyle(\n                                                fontSize: 14,\n                                                fontWeight: FontWeight.w600,\n                                              ),\n                                            ),\n                                          ),\n                                      ],\n                                    );\n                                  },\n                                ),\n                              ],\n                              const SizedBox(height: 8),\n                              Row(\n                                mainAxisAlignment: MainAxisAlignment.end,\n                                children: [\n                                  if (isDoctor) ...[\n                                    IconButton(\n                                      icon: const Icon(Icons.edit, size: 24),\n                                      onPressed: () =>\n                                          _navigateToForm(plan: plan),\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                    IconButton(\n                                      icon: const Icon(\n                                        Icons.assignment_ind,\n                                        size: 24,\n                                      ),\n                                      tooltip: 'Ver Evolu√ß√£o',\n                                      onPressed: () {\n                                        Navigator.push(\n                                          context,\n                                          MaterialPageRoute(\n                                            builder: (_) => ChangeNotifierProvider(\n                                              create: (_) =>\n                                                  sl<PatientDetailViewModel>(),\n                                              child: PatientDetailScreen(\n                                                patient: UserEntity(\n                                                  id: plan.patientId,\n                                                  name:\n                                                      plan.patientName ??\n                                                      'Paciente',\n                                                  email:\n                                                      '', // Not needed for display\n                                                  type: 'paciente',\n                                                ),\n                                              ),\n                                            ),\n                                          ),\n                                        );\n                                      },\n                                      padding: EdgeInsets.zero,\n                                    ),\n                                  ] else ...[\n                                    // Toggle Button for notifications - Interactive\n                                    Consumer<CarePlanViewModel>(\n                                      builder: (context, vm, _) {\n                                        final isEnabled =\n                                            vm.notificationStatus[plan.id] ??\n                                            true;\n                                        return IconButton(\n                                          icon: Icon(\n                                            isEnabled\n                                                ? Icons.notifications_active\n                                                : Icons\n                                                      .notifications_off_outlined,\n                                            color: isEnabled\n                                                ? Theme.of(\n                                                    context,\n                                                  ).colorScheme.primary\n                                                : Colors.grey,\n                                            size: 24,\n                                          ),\n                                          tooltip: isEnabled\n                                              ? 'Desativar lembretes'\n                                              : 'Ativar lembretes',\n                                          onPressed: () async {\n                                            final notificationService = context\n                                                .read<NotificationService>();\n                                            await vm.toggleNotification(\n                                              plan,\n                                              notificationService,\n                                            );\n\n                                            if (context.mounted) {\n                                              ScaffoldMessenger.of(\n                                                context,\n                                              ).showSnackBar(\n                                                SnackBar(\n                                                  content: Text(\n                                                    vm.notificationStatus[plan\n                                                                .id] ==\n                                                            true\n                                                        ? 'Lembretes ativados para ${plan.title}'\n                                                        : 'Lembretes desativados para ${plan.title}',\n                                                  ),\n                                                  duration: const Duration(\n                                                    milliseconds: 1500,\n                                                  ),\n                                                ),\n                                              );\n                                            }\n                                          },\n                                        );\n                                      },\n                                    ),\n                                  ],\n                                  // TTS Button\n                                  ValueListenableBuilder<String?>(\n                                    valueListenable: context\n                                        .read<TtsService>()\n                                        .currentPlayingPlanId,\n                                    builder: (context, playingId, _) {\n                                      final isPlaying = playingId == plan.id;\n                                      return IconButton(\n                                        icon: Icon(\n                                          isPlaying\n                                              ? Icons.record_voice_over\n                                              : Icons.volume_up,\n                                          color: isPlaying\n                                              ? Theme.of(\n                                                  context,\n                                                ).colorScheme.primary\n                                              : Colors.grey,\n                                          size: 24,\n                                        ),\n                                        tooltip: 'Ouvir instru√ß√µes',\n                                        onPressed: () {\n                                          if (isPlaying) {\n                                            context.read<TtsService>().stop();\n                                          } else {\n                                            final textToRead =\n                                                'Rem√©dio: ${plan.title}. Instru√ß√µes: ${plan.description}';\n                                            context.read<TtsService>().speak(\n                                              textToRead,\n                                              plan.id,\n                                            );\n                                          }\n                                        },\n                                      );\n                                    },\n                                  ),\n                                  IconButton(\n                                    icon: const Icon(Icons.chat, size: 24),\n                                    onPressed: () {\n                                      debugPrint(\n                                        'Other user ID: ${isDoctor ? plan.patientId : plan.doctorId}',\n                                      );\n                                      Navigator.pushNamed(\n                                        context,\n                                        '/chat',\n                                        arguments: {\n                                          'otherUserId': isDoctor\n                                              ? plan.patientId\n                                              : plan.doctorId,\n                                          'otherUserName': isDoctor\n                                              ? (plan.patientName ?? 'Paciente')\n                                              : (plan.doctorName ?? 'M√©dico'),\n                                        },\n                                      );\n                                    },\n                                    padding: EdgeInsets.zero,\n                                  ),\n                                ],\n                              ),\n                            ],\n                          ),\n                        ),\n                      );\n                    }, childCount: viewModel.plans.length),\n                  ),\n              ],\n            ),\n          );\n        }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3265,"line":93,"column":33},"end":{"offset":3805,"line":108,"column":14},"text":"{\n              if (user != null) {\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }\n            }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3299,"line":94,"column":33},"end":{"offset":3791,"line":107,"column":16},"text":"{\n                await context.read<CarePlanViewModel>().fetchPlans(\n                  user.id,\n                  user.type,\n                );\n                if (context.mounted && !isDoctor) {\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }\n              }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3494,"line":99,"column":51},"end":{"offset":3775,"line":106,"column":18},"text":"{\n                  final plans = context.read<CarePlanViewModel>().plans;\n                  if (plans.isNotEmpty) {\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }\n                }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3609,"line":101,"column":41},"end":{"offset":3757,"line":105,"column":20},"text":"{\n                    context.read<CheckInViewModel>().checkStatus(\n                      plans.first.id,\n                    );\n                  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":482,"unitType":"lines","level":"none","comment":"This method has 482 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2969,"line":86,"column":0},"end":{"offset":2969,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3043,"line":87,"column":0},"end":{"offset":3043,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3089,"line":89,"column":0},"end":{"offset":3089,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3110,"line":90,"column":0},"end":{"offset":3110,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3151,"line":91,"column":0},"end":{"offset":3151,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3198,"line":92,"column":0},"end":{"offset":3198,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3233,"line":93,"column":0},"end":{"offset":3233,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3267,"line":94,"column":0},"end":{"offset":3267,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3301,"line":95,"column":0},"end":{"offset":3301,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3369,"line":96,"column":0},"end":{"offset":3369,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3396,"line":97,"column":0},"end":{"offset":3396,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3425,"line":98,"column":0},"end":{"offset":3425,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3444,"line":99,"column":0},"end":{"offset":3444,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3496,"line":100,"column":0},"end":{"offset":3496,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3569,"line":101,"column":0},"end":{"offset":3569,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3611,"line":102,"column":0},"end":{"offset":3611,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3677,"line":103,"column":0},"end":{"offset":3677,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3715,"line":104,"column":0},"end":{"offset":3715,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3738,"line":105,"column":0},"end":{"offset":3738,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3758,"line":106,"column":0},"end":{"offset":3758,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3776,"line":107,"column":0},"end":{"offset":3776,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3792,"line":108,"column":0},"end":{"offset":3792,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3807,"line":109,"column":0},"end":{"offset":3807,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3844,"line":110,"column":0},"end":{"offset":3844,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3869,"line":111,"column":0},"end":{"offset":3869,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3899,"line":112,"column":0},"end":{"offset":3899,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3931,"line":113,"column":0},"end":{"offset":3931,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3961,"line":114,"column":0},"end":{"offset":3961,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3995,"line":115,"column":0},"end":{"offset":3995,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4029,"line":116,"column":0},"end":{"offset":4029,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4081,"line":117,"column":0},"end":{"offset":4081,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4120,"line":118,"column":0},"end":{"offset":4120,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4161,"line":119,"column":0},"end":{"offset":4161,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4239,"line":120,"column":0},"end":{"offset":4239,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4271,"line":121,"column":0},"end":{"offset":4271,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4316,"line":122,"column":0},"end":{"offset":4316,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4347,"line":123,"column":0},"end":{"offset":4347,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4388,"line":124,"column":0},"end":{"offset":4388,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4426,"line":125,"column":0},"end":{"offset":4426,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4462,"line":126,"column":0},"end":{"offset":4462,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4513,"line":127,"column":0},"end":{"offset":4513,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4574,"line":128,"column":0},"end":{"offset":4574,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4617,"line":129,"column":0},"end":{"offset":4617,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4640,"line":130,"column":0},"end":{"offset":4640,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4661,"line":131,"column":0},"end":{"offset":4661,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4699,"line":132,"column":0},"end":{"offset":4699,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4737,"line":133,"column":0},"end":{"offset":4737,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4788,"line":134,"column":0},"end":{"offset":4788,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4829,"line":135,"column":0},"end":{"offset":4829,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4902,"line":136,"column":0},"end":{"offset":4902,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4936,"line":137,"column":0},"end":{"offset":4936,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5007,"line":138,"column":0},"end":{"offset":5007,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5043,"line":139,"column":0},"end":{"offset":5043,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5079,"line":140,"column":0},"end":{"offset":5079,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5120,"line":141,"column":0},"end":{"offset":5120,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5159,"line":142,"column":0},"end":{"offset":5159,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5275,"line":143,"column":0},"end":{"offset":5275,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5393,"line":144,"column":0},"end":{"offset":5393,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5441,"line":145,"column":0},"end":{"offset":5441,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5487,"line":146,"column":0},"end":{"offset":5487,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5544,"line":147,"column":0},"end":{"offset":5544,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5605,"line":148,"column":0},"end":{"offset":5605,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5650,"line":149,"column":0},"end":{"offset":5650,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5683,"line":150,"column":0},"end":{"offset":5683,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5714,"line":151,"column":0},"end":{"offset":5714,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5743,"line":152,"column":0},"end":{"offset":5743,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5796,"line":153,"column":0},"end":{"offset":5796,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5832,"line":154,"column":0},"end":{"offset":5832,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5877,"line":155,"column":0},"end":{"offset":5877,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5920,"line":156,"column":0},"end":{"offset":5920,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5975,"line":157,"column":0},"end":{"offset":5975,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6045,"line":158,"column":0},"end":{"offset":6045,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6098,"line":159,"column":0},"end":{"offset":6098,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6131,"line":160,"column":0},"end":{"offset":6131,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6162,"line":161,"column":0},"end":{"offset":6162,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6191,"line":162,"column":0},"end":{"offset":6191,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6218,"line":163,"column":0},"end":{"offset":6218,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6243,"line":164,"column":0},"end":{"offset":6243,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6266,"line":165,"column":0},"end":{"offset":6266,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6287,"line":166,"column":0},"end":{"offset":6287,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6306,"line":167,"column":0},"end":{"offset":6306,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6367,"line":168,"column":0},"end":{"offset":6367,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6405,"line":169,"column":0},"end":{"offset":6405,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6441,"line":170,"column":0},"end":{"offset":6441,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6515,"line":171,"column":0},"end":{"offset":6515,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6565,"line":172,"column":0},"end":{"offset":6565,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6598,"line":173,"column":0},"end":{"offset":6598,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6645,"line":174,"column":0},"end":{"offset":6645,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6670,"line":175,"column":0},"end":{"offset":6670,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6693,"line":176,"column":0},"end":{"offset":6693,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6714,"line":177,"column":0},"end":{"offset":6714,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6755,"line":178,"column":0},"end":{"offset":6755,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6799,"line":179,"column":0},"end":{"offset":6799,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6835,"line":180,"column":0},"end":{"offset":6835,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6888,"line":181,"column":0},"end":{"offset":6888,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6961,"line":182,"column":0},"end":{"offset":6961,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6984,"line":183,"column":0},"end":{"offset":6984,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7004,"line":184,"column":0},"end":{"offset":7004,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7061,"line":185,"column":0},"end":{"offset":7061,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7100,"line":186,"column":0},"end":{"offset":7100,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7142,"line":187,"column":0},"end":{"offset":7142,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7177,"line":188,"column":0},"end":{"offset":7177,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7247,"line":189,"column":0},"end":{"offset":7247,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7270,"line":190,"column":0},"end":{"offset":7270,"line":190,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7290,"line":191,"column":0},"end":{"offset":7290,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7340,"line":192,"column":0},"end":{"offset":7340,"line":192,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7385,"line":193,"column":0},"end":{"offset":7385,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7427,"line":194,"column":0},"end":{"offset":7427,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7503,"line":195,"column":0},"end":{"offset":7503,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7523,"line":196,"column":0},"end":{"offset":7523,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7544,"line":197,"column":0},"end":{"offset":7544,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7574,"line":198,"column":0},"end":{"offset":7574,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7650,"line":199,"column":0},"end":{"offset":7650,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7709,"line":200,"column":0},"end":{"offset":7709,"line":200,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7744,"line":201,"column":0},"end":{"offset":7744,"line":201,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7804,"line":202,"column":0},"end":{"offset":7804,"line":202,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7848,"line":203,"column":0},"end":{"offset":7848,"line":203,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7889,"line":204,"column":0},"end":{"offset":7889,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7916,"line":205,"column":0},"end":{"offset":7916,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7956,"line":206,"column":0},"end":{"offset":7956,"line":206,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8019,"line":207,"column":0},"end":{"offset":8019,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8060,"line":208,"column":0},"end":{"offset":8060,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8134,"line":209,"column":0},"end":{"offset":8134,"line":209,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8174,"line":210,"column":0},"end":{"offset":8174,"line":210,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8212,"line":211,"column":0},"end":{"offset":8212,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8290,"line":212,"column":0},"end":{"offset":8290,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8334,"line":213,"column":0},"end":{"offset":8334,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8374,"line":214,"column":0},"end":{"offset":8374,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8422,"line":215,"column":0},"end":{"offset":8422,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8476,"line":216,"column":0},"end":{"offset":8476,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8528,"line":217,"column":0},"end":{"offset":8528,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8595,"line":218,"column":0},"end":{"offset":8595,"line":218,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8672,"line":219,"column":0},"end":{"offset":8672,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8731,"line":220,"column":0},"end":{"offset":8731,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8770,"line":221,"column":0},"end":{"offset":8770,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8807,"line":222,"column":0},"end":{"offset":8807,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8868,"line":223,"column":0},"end":{"offset":8868,"line":223,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8908,"line":224,"column":0},"end":{"offset":8908,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8962,"line":225,"column":0},"end":{"offset":8962,"line":225,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9016,"line":226,"column":0},"end":{"offset":9016,"line":226,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9068,"line":227,"column":0},"end":{"offset":9068,"line":227,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9131,"line":228,"column":0},"end":{"offset":9131,"line":228,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9182,"line":229,"column":0},"end":{"offset":9182,"line":229,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9221,"line":230,"column":0},"end":{"offset":9221,"line":230,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9258,"line":231,"column":0},"end":{"offset":9258,"line":231,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9320,"line":232,"column":0},"end":{"offset":9320,"line":232,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9359,"line":233,"column":0},"end":{"offset":9359,"line":233,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9414,"line":234,"column":0},"end":{"offset":9414,"line":234,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9486,"line":235,"column":0},"end":{"offset":9486,"line":235,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9534,"line":236,"column":0},"end":{"offset":9534,"line":236,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9583,"line":237,"column":0},"end":{"offset":9583,"line":237,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9660,"line":238,"column":0},"end":{"offset":9660,"line":238,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9718,"line":239,"column":0},"end":{"offset":9718,"line":239,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9773,"line":240,"column":0},"end":{"offset":9773,"line":240,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9816,"line":241,"column":0},"end":{"offset":9816,"line":241,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9883,"line":242,"column":0},"end":{"offset":9883,"line":242,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9942,"line":243,"column":0},"end":{"offset":9942,"line":243,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9995,"line":244,"column":0},"end":{"offset":9995,"line":244,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10071,"line":245,"column":0},"end":{"offset":10071,"line":245,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10150,"line":246,"column":0},"end":{"offset":10150,"line":246,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10197,"line":247,"column":0},"end":{"offset":10197,"line":247,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10242,"line":248,"column":0},"end":{"offset":10242,"line":248,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10285,"line":249,"column":0},"end":{"offset":10285,"line":249,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10337,"line":250,"column":0},"end":{"offset":10337,"line":250,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10411,"line":251,"column":0},"end":{"offset":10411,"line":251,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10465,"line":252,"column":0},"end":{"offset":10465,"line":252,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10515,"line":253,"column":0},"end":{"offset":10515,"line":253,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10570,"line":254,"column":0},"end":{"offset":10570,"line":254,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10643,"line":255,"column":0},"end":{"offset":10643,"line":255,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10701,"line":256,"column":0},"end":{"offset":10701,"line":256,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10785,"line":257,"column":0},"end":{"offset":10785,"line":257,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10841,"line":258,"column":0},"end":{"offset":10841,"line":258,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10904,"line":259,"column":0},"end":{"offset":10904,"line":259,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":10961,"line":260,"column":0},"end":{"offset":10961,"line":260,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11023,"line":261,"column":0},"end":{"offset":11023,"line":261,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11070,"line":262,"column":0},"end":{"offset":11070,"line":262,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11140,"line":263,"column":0},"end":{"offset":11140,"line":263,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11190,"line":264,"column":0},"end":{"offset":11190,"line":264,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11245,"line":265,"column":0},"end":{"offset":11245,"line":265,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11337,"line":266,"column":0},"end":{"offset":11337,"line":266,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11434,"line":267,"column":0},"end":{"offset":11434,"line":267,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11498,"line":268,"column":0},"end":{"offset":11498,"line":268,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11575,"line":269,"column":0},"end":{"offset":11575,"line":269,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11640,"line":270,"column":0},"end":{"offset":11640,"line":270,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11699,"line":271,"column":0},"end":{"offset":11699,"line":271,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11763,"line":272,"column":0},"end":{"offset":11763,"line":272,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11825,"line":273,"column":0},"end":{"offset":11825,"line":273,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11874,"line":274,"column":0},"end":{"offset":11874,"line":274,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11921,"line":275,"column":0},"end":{"offset":11921,"line":275,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":11966,"line":276,"column":0},"end":{"offset":11966,"line":276,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12009,"line":277,"column":0},"end":{"offset":12009,"line":277,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12050,"line":278,"column":0},"end":{"offset":12050,"line":278,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12093,"line":279,"column":0},"end":{"offset":12093,"line":279,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12145,"line":280,"column":0},"end":{"offset":12145,"line":280,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12193,"line":281,"column":0},"end":{"offset":12193,"line":281,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12268,"line":282,"column":0},"end":{"offset":12268,"line":282,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12322,"line":283,"column":0},"end":{"offset":12322,"line":283,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12391,"line":284,"column":0},"end":{"offset":12391,"line":284,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12436,"line":285,"column":0},"end":{"offset":12436,"line":285,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12504,"line":286,"column":0},"end":{"offset":12504,"line":286,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12552,"line":287,"column":0},"end":{"offset":12552,"line":287,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12608,"line":288,"column":0},"end":{"offset":12608,"line":288,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12668,"line":289,"column":0},"end":{"offset":12668,"line":289,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12738,"line":290,"column":0},"end":{"offset":12738,"line":290,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12800,"line":291,"column":0},"end":{"offset":12800,"line":291,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12871,"line":292,"column":0},"end":{"offset":12871,"line":292,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":12931,"line":293,"column":0},"end":{"offset":12931,"line":293,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13006,"line":294,"column":0},"end":{"offset":13006,"line":294,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13053,"line":295,"column":0},"end":{"offset":13053,"line":295,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13098,"line":296,"column":0},"end":{"offset":13098,"line":296,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13141,"line":297,"column":0},"end":{"offset":13141,"line":297,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13182,"line":298,"column":0},"end":{"offset":13182,"line":298,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13221,"line":299,"column":0},"end":{"offset":13221,"line":299,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13258,"line":300,"column":0},"end":{"offset":13258,"line":300,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13293,"line":301,"column":0},"end":{"offset":13293,"line":301,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13326,"line":302,"column":0},"end":{"offset":13326,"line":302,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13383,"line":303,"column":0},"end":{"offset":13383,"line":303,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13433,"line":304,"column":0},"end":{"offset":13433,"line":304,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13492,"line":305,"column":0},"end":{"offset":13492,"line":305,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13530,"line":306,"column":0},"end":{"offset":13530,"line":306,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13581,"line":307,"column":0},"end":{"offset":13581,"line":307,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13633,"line":308,"column":0},"end":{"offset":13633,"line":308,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13683,"line":309,"column":0},"end":{"offset":13683,"line":309,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13748,"line":310,"column":0},"end":{"offset":13748,"line":310,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13809,"line":311,"column":0},"end":{"offset":13809,"line":311,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13846,"line":312,"column":0},"end":{"offset":13846,"line":312,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13881,"line":313,"column":0},"end":{"offset":13881,"line":313,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":13940,"line":314,"column":0},"end":{"offset":13940,"line":314,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14001,"line":315,"column":0},"end":{"offset":14001,"line":315,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14063,"line":316,"column":0},"end":{"offset":14063,"line":316,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14113,"line":317,"column":0},"end":{"offset":14113,"line":317,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14187,"line":318,"column":0},"end":{"offset":14187,"line":318,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14265,"line":319,"column":0},"end":{"offset":14265,"line":319,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14335,"line":321,"column":0},"end":{"offset":14335,"line":321,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14383,"line":322,"column":0},"end":{"offset":14383,"line":322,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14433,"line":323,"column":0},"end":{"offset":14433,"line":323,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14483,"line":324,"column":0},"end":{"offset":14483,"line":324,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14538,"line":325,"column":0},"end":{"offset":14538,"line":325,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14611,"line":326,"column":0},"end":{"offset":14611,"line":326,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14673,"line":327,"column":0},"end":{"offset":14673,"line":327,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14733,"line":328,"column":0},"end":{"offset":14733,"line":328,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14808,"line":329,"column":0},"end":{"offset":14808,"line":329,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14879,"line":330,"column":0},"end":{"offset":14879,"line":330,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14926,"line":331,"column":0},"end":{"offset":14926,"line":331,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":14971,"line":332,"column":0},"end":{"offset":14971,"line":332,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15014,"line":333,"column":0},"end":{"offset":15014,"line":333,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15069,"line":334,"column":0},"end":{"offset":15069,"line":334,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15122,"line":335,"column":0},"end":{"offset":15122,"line":335,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15203,"line":336,"column":0},"end":{"offset":15203,"line":336,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15265,"line":337,"column":0},"end":{"offset":15265,"line":337,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15324,"line":338,"column":0},"end":{"offset":15324,"line":338,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15371,"line":339,"column":0},"end":{"offset":15371,"line":339,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15442,"line":340,"column":0},"end":{"offset":15442,"line":340,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15521,"line":341,"column":0},"end":{"offset":15521,"line":341,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15574,"line":342,"column":0},"end":{"offset":15574,"line":342,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15623,"line":343,"column":0},"end":{"offset":15623,"line":343,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15683,"line":344,"column":0},"end":{"offset":15683,"line":344,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15760,"line":345,"column":0},"end":{"offset":15760,"line":345,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15807,"line":346,"column":0},"end":{"offset":15807,"line":346,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15863,"line":347,"column":0},"end":{"offset":15863,"line":347,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15927,"line":348,"column":0},"end":{"offset":15927,"line":348,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":15981,"line":349,"column":0},"end":{"offset":15981,"line":349,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16051,"line":350,"column":0},"end":{"offset":16051,"line":350,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16122,"line":351,"column":0},"end":{"offset":16122,"line":351,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16182,"line":352,"column":0},"end":{"offset":16182,"line":352,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16233,"line":353,"column":0},"end":{"offset":16233,"line":353,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16301,"line":354,"column":0},"end":{"offset":16301,"line":354,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16355,"line":355,"column":0},"end":{"offset":16355,"line":355,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16422,"line":356,"column":0},"end":{"offset":16422,"line":356,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16490,"line":357,"column":0},"end":{"offset":16490,"line":357,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16563,"line":358,"column":0},"end":{"offset":16563,"line":358,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16644,"line":359,"column":0},"end":{"offset":16644,"line":359,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16710,"line":360,"column":0},"end":{"offset":16710,"line":360,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16763,"line":361,"column":0},"end":{"offset":16763,"line":361,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16814,"line":362,"column":0},"end":{"offset":16814,"line":362,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16863,"line":363,"column":0},"end":{"offset":16863,"line":363,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16910,"line":364,"column":0},"end":{"offset":16910,"line":364,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":16954,"line":365,"column":0},"end":{"offset":16954,"line":365,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17032,"line":366,"column":0},"end":{"offset":17032,"line":366,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17090,"line":367,"column":0},"end":{"offset":17090,"line":367,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17145,"line":368,"column":0},"end":{"offset":17145,"line":368,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17201,"line":369,"column":0},"end":{"offset":17201,"line":369,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17279,"line":370,"column":0},"end":{"offset":17279,"line":370,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17341,"line":371,"column":0},"end":{"offset":17341,"line":371,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17388,"line":372,"column":0},"end":{"offset":17388,"line":372,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17432,"line":373,"column":0},"end":{"offset":17432,"line":373,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17477,"line":374,"column":0},"end":{"offset":17477,"line":374,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17540,"line":375,"column":0},"end":{"offset":17540,"line":375,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17600,"line":376,"column":0},"end":{"offset":17600,"line":376,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17654,"line":377,"column":0},"end":{"offset":17654,"line":377,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17731,"line":378,"column":0},"end":{"offset":17731,"line":378,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17807,"line":379,"column":0},"end":{"offset":17807,"line":379,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17854,"line":380,"column":0},"end":{"offset":17854,"line":380,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17916,"line":381,"column":0},"end":{"offset":17916,"line":381,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":17975,"line":382,"column":0},"end":{"offset":17975,"line":382,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18031,"line":383,"column":0},"end":{"offset":18031,"line":383,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18078,"line":384,"column":0},"end":{"offset":18078,"line":384,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18157,"line":385,"column":0},"end":{"offset":18157,"line":385,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18234,"line":386,"column":0},"end":{"offset":18234,"line":386,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18289,"line":387,"column":0},"end":{"offset":18289,"line":387,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18367,"line":388,"column":0},"end":{"offset":18367,"line":388,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18435,"line":389,"column":0},"end":{"offset":18435,"line":389,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18501,"line":390,"column":0},"end":{"offset":18501,"line":390,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18554,"line":391,"column":0},"end":{"offset":18554,"line":391,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18628,"line":392,"column":0},"end":{"offset":18628,"line":392,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18690,"line":393,"column":0},"end":{"offset":18690,"line":393,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18767,"line":394,"column":0},"end":{"offset":18767,"line":394,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18816,"line":395,"column":0},"end":{"offset":18816,"line":395,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18863,"line":396,"column":0},"end":{"offset":18863,"line":396,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18908,"line":397,"column":0},"end":{"offset":18908,"line":397,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18949,"line":398,"column":0},"end":{"offset":18949,"line":398,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":18988,"line":399,"column":0},"end":{"offset":18988,"line":399,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19025,"line":400,"column":0},"end":{"offset":19025,"line":400,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19060,"line":401,"column":0},"end":{"offset":19060,"line":401,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19093,"line":402,"column":0},"end":{"offset":19093,"line":402,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19150,"line":403,"column":0},"end":{"offset":19150,"line":403,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19185,"line":404,"column":0},"end":{"offset":19185,"line":404,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19259,"line":405,"column":0},"end":{"offset":19259,"line":405,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19303,"line":406,"column":0},"end":{"offset":19303,"line":406,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19356,"line":407,"column":0},"end":{"offset":19356,"line":407,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19404,"line":408,"column":0},"end":{"offset":19404,"line":408,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19482,"line":409,"column":0},"end":{"offset":19482,"line":409,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19537,"line":410,"column":0},"end":{"offset":19537,"line":410,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19608,"line":411,"column":0},"end":{"offset":19608,"line":411,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19672,"line":412,"column":0},"end":{"offset":19672,"line":412,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19711,"line":413,"column":0},"end":{"offset":19711,"line":413,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19759,"line":414,"column":0},"end":{"offset":19759,"line":414,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19815,"line":415,"column":0},"end":{"offset":19815,"line":415,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19877,"line":416,"column":0},"end":{"offset":19877,"line":416,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19927,"line":417,"column":0},"end":{"offset":19927,"line":417,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":19968,"line":418,"column":0},"end":{"offset":19968,"line":418,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20031,"line":419,"column":0},"end":{"offset":20031,"line":419,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20085,"line":420,"column":0},"end":{"offset":20085,"line":420,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20141,"line":421,"column":0},"end":{"offset":20141,"line":421,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20192,"line":422,"column":0},"end":{"offset":20192,"line":422,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20253,"line":423,"column":0},"end":{"offset":20253,"line":423,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20337,"line":424,"column":0},"end":{"offset":20337,"line":424,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20398,"line":425,"column":0},"end":{"offset":20398,"line":425,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20478,"line":426,"column":0},"end":{"offset":20478,"line":426,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20552,"line":427,"column":0},"end":{"offset":20552,"line":427,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20621,"line":428,"column":0},"end":{"offset":20621,"line":428,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20691,"line":429,"column":0},"end":{"offset":20691,"line":429,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20747,"line":430,"column":0},"end":{"offset":20747,"line":430,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20821,"line":431,"column":0},"end":{"offset":20821,"line":431,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20887,"line":432,"column":0},"end":{"offset":20887,"line":432,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":20944,"line":433,"column":0},"end":{"offset":20944,"line":433,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21028,"line":434,"column":0},"end":{"offset":21028,"line":434,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21096,"line":435,"column":0},"end":{"offset":21096,"line":435,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21147,"line":436,"column":0},"end":{"offset":21147,"line":436,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21196,"line":437,"column":0},"end":{"offset":21196,"line":437,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21243,"line":438,"column":0},"end":{"offset":21243,"line":438,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21288,"line":439,"column":0},"end":{"offset":21288,"line":439,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21331,"line":440,"column":0},"end":{"offset":21331,"line":440,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21372,"line":441,"column":0},"end":{"offset":21372,"line":441,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21436,"line":442,"column":0},"end":{"offset":21436,"line":442,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21475,"line":443,"column":0},"end":{"offset":21475,"line":443,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21606,"line":445,"column":0},"end":{"offset":21606,"line":445,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21671,"line":446,"column":0},"end":{"offset":21671,"line":446,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21737,"line":447,"column":0},"end":{"offset":21737,"line":447,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21795,"line":448,"column":0},"end":{"offset":21795,"line":448,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21873,"line":449,"column":0},"end":{"offset":21873,"line":449,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21923,"line":450,"column":0},"end":{"offset":21923,"line":450,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":21982,"line":451,"column":0},"end":{"offset":21982,"line":451,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22036,"line":452,"column":0},"end":{"offset":22036,"line":452,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22090,"line":453,"column":0},"end":{"offset":22090,"line":453,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22167,"line":454,"column":0},"end":{"offset":22167,"line":454,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22223,"line":455,"column":0},"end":{"offset":22223,"line":455,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22306,"line":456,"column":0},"end":{"offset":22306,"line":456,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22367,"line":457,"column":0},"end":{"offset":22367,"line":457,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22427,"line":458,"column":0},"end":{"offset":22427,"line":458,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22488,"line":459,"column":0},"end":{"offset":22488,"line":459,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22560,"line":460,"column":0},"end":{"offset":22560,"line":460,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22623,"line":461,"column":0},"end":{"offset":22623,"line":461,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22677,"line":462,"column":0},"end":{"offset":22677,"line":462,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22722,"line":463,"column":0},"end":{"offset":22722,"line":463,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22783,"line":464,"column":0},"end":{"offset":22783,"line":464,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22853,"line":465,"column":0},"end":{"offset":22853,"line":465,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22921,"line":466,"column":0},"end":{"offset":22921,"line":466,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":22985,"line":467,"column":0},"end":{"offset":22985,"line":467,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23065,"line":468,"column":0},"end":{"offset":23065,"line":468,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23143,"line":469,"column":0},"end":{"offset":23143,"line":469,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23216,"line":470,"column":0},"end":{"offset":23216,"line":470,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23268,"line":471,"column":0},"end":{"offset":23268,"line":471,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23335,"line":472,"column":0},"end":{"offset":23335,"line":472,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23383,"line":474,"column":0},"end":{"offset":23383,"line":474,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23450,"line":475,"column":0},"end":{"offset":23450,"line":475,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23518,"line":476,"column":0},"end":{"offset":23518,"line":476,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23575,"line":477,"column":0},"end":{"offset":23575,"line":477,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23637,"line":478,"column":0},"end":{"offset":23637,"line":478,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23695,"line":479,"column":0},"end":{"offset":23695,"line":479,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23760,"line":480,"column":0},"end":{"offset":23760,"line":480,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23839,"line":481,"column":0},"end":{"offset":23839,"line":481,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23911,"line":482,"column":0},"end":{"offset":23911,"line":482,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":23976,"line":483,"column":0},"end":{"offset":23976,"line":483,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24074,"line":484,"column":0},"end":{"offset":24074,"line":484,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24176,"line":485,"column":0},"end":{"offset":24176,"line":485,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24229,"line":486,"column":0},"end":{"offset":24229,"line":486,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24305,"line":487,"column":0},"end":{"offset":24305,"line":487,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24377,"line":488,"column":0},"end":{"offset":24377,"line":488,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24430,"line":489,"column":0},"end":{"offset":24430,"line":489,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24481,"line":490,"column":0},"end":{"offset":24481,"line":490,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24530,"line":491,"column":0},"end":{"offset":24530,"line":491,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24576,"line":492,"column":0},"end":{"offset":24576,"line":492,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24621,"line":493,"column":0},"end":{"offset":24621,"line":493,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24664,"line":494,"column":0},"end":{"offset":24664,"line":494,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24705,"line":495,"column":0},"end":{"offset":24705,"line":495,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24744,"line":496,"column":0},"end":{"offset":24744,"line":496,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24829,"line":498,"column":0},"end":{"offset":24829,"line":498,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24896,"line":499,"column":0},"end":{"offset":24896,"line":499,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":24957,"line":500,"column":0},"end":{"offset":24957,"line":500,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25017,"line":501,"column":0},"end":{"offset":25017,"line":501,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25080,"line":502,"column":0},"end":{"offset":25080,"line":502,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25151,"line":503,"column":0},"end":{"offset":25151,"line":503,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25229,"line":504,"column":0},"end":{"offset":25229,"line":504,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25286,"line":505,"column":0},"end":{"offset":25286,"line":505,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25338,"line":506,"column":0},"end":{"offset":25338,"line":506,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25390,"line":507,"column":0},"end":{"offset":25390,"line":507,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25462,"line":508,"column":0},"end":{"offset":25462,"line":508,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25527,"line":509,"column":0},"end":{"offset":25527,"line":509,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25586,"line":510,"column":0},"end":{"offset":25586,"line":510,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25644,"line":511,"column":0},"end":{"offset":25644,"line":511,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25703,"line":512,"column":0},"end":{"offset":25703,"line":512,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25773,"line":513,"column":0},"end":{"offset":25773,"line":513,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25834,"line":514,"column":0},"end":{"offset":25834,"line":514,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25886,"line":515,"column":0},"end":{"offset":25886,"line":515,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25929,"line":516,"column":0},"end":{"offset":25929,"line":516,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":25998,"line":517,"column":0},"end":{"offset":25998,"line":517,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26054,"line":518,"column":0},"end":{"offset":26054,"line":518,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26113,"line":519,"column":0},"end":{"offset":26113,"line":519,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26192,"line":520,"column":0},"end":{"offset":26192,"line":520,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26243,"line":521,"column":0},"end":{"offset":26243,"line":521,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26306,"line":522,"column":0},"end":{"offset":26306,"line":522,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26413,"line":523,"column":0},"end":{"offset":26413,"line":523,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26491,"line":524,"column":0},"end":{"offset":26491,"line":524,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26549,"line":525,"column":0},"end":{"offset":26549,"line":525,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26604,"line":526,"column":0},"end":{"offset":26604,"line":526,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26651,"line":527,"column":0},"end":{"offset":26651,"line":527,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26695,"line":528,"column":0},"end":{"offset":26695,"line":528,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26738,"line":529,"column":0},"end":{"offset":26738,"line":529,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26779,"line":530,"column":0},"end":{"offset":26779,"line":530,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26818,"line":531,"column":0},"end":{"offset":26818,"line":531,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26855,"line":532,"column":0},"end":{"offset":26855,"line":532,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26901,"line":533,"column":0},"end":{"offset":26901,"line":533,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":26977,"line":534,"column":0},"end":{"offset":26977,"line":534,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27029,"line":535,"column":0},"end":{"offset":27029,"line":535,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27079,"line":536,"column":0},"end":{"offset":27079,"line":536,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27182,"line":537,"column":0},"end":{"offset":27182,"line":537,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27223,"line":538,"column":0},"end":{"offset":27223,"line":538,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27282,"line":539,"column":0},"end":{"offset":27282,"line":539,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27331,"line":540,"column":0},"end":{"offset":27331,"line":540,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27380,"line":541,"column":0},"end":{"offset":27380,"line":541,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27433,"line":542,"column":0},"end":{"offset":27433,"line":542,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27499,"line":543,"column":0},"end":{"offset":27499,"line":543,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27562,"line":544,"column":0},"end":{"offset":27562,"line":544,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27625,"line":545,"column":0},"end":{"offset":27625,"line":545,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27693,"line":546,"column":0},"end":{"offset":27693,"line":546,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27774,"line":547,"column":0},"end":{"offset":27774,"line":547,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27853,"line":548,"column":0},"end":{"offset":27853,"line":548,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27896,"line":549,"column":0},"end":{"offset":27896,"line":549,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27937,"line":550,"column":0},"end":{"offset":27937,"line":550,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":27976,"line":551,"column":0},"end":{"offset":27976,"line":551,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28038,"line":552,"column":0},"end":{"offset":28038,"line":552,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28075,"line":553,"column":0},"end":{"offset":28075,"line":553,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28110,"line":554,"column":0},"end":{"offset":28110,"line":554,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28143,"line":555,"column":0},"end":{"offset":28143,"line":555,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28174,"line":556,"column":0},"end":{"offset":28174,"line":556,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28203,"line":557,"column":0},"end":{"offset":28203,"line":557,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28230,"line":558,"column":0},"end":{"offset":28230,"line":558,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28255,"line":559,"column":0},"end":{"offset":28255,"line":559,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28315,"line":560,"column":0},"end":{"offset":28315,"line":560,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28336,"line":561,"column":0},"end":{"offset":28336,"line":561,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28353,"line":562,"column":0},"end":{"offset":28353,"line":562,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28368,"line":563,"column":0},"end":{"offset":28368,"line":563,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28381,"line":564,"column":0},"end":{"offset":28381,"line":564,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28392,"line":565,"column":0},"end":{"offset":28392,"line":565,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28401,"line":566,"column":0},"end":{"offset":28401,"line":566,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28438,"line":567,"column":0},"end":{"offset":28438,"line":567,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28472,"line":568,"column":0},"end":{"offset":28472,"line":568,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28522,"line":569,"column":0},"end":{"offset":28522,"line":569,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28566,"line":570,"column":0},"end":{"offset":28566,"line":570,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28580,"line":571,"column":0},"end":{"offset":28580,"line":571,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":28598,"line":572,"column":0},"end":{"offset":28598,"line":572,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":8,"level":"alarm","comment":"This method has 8 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CarePlanHomeScreenState._buildCheckInButton":{"codeSpan":{"start":{"offset":28612,"line":575,"column":3},"end":{"offset":33316,"line":678,"column":4},"text":"Widget _buildCheckInButton(BuildContext context, dynamic plan) {\n    if (plan == null) return const SizedBox.shrink();\n\n    // Trigger status check if not already checking\n    // Ideally we should do this in initState or similar, but doing here for simplicity\n    // ensuring we don't spam.\n    // A better approach is listening to CarePlanViewModel changes or using a PostFrameCallback\n    // For now, let's use the Consumer of CheckInViewModel to drive the UI.\n\n    // We assume the service is already initialized or being called somewhere.\n    // Actually, in PatientHomeScreen we removed the manual check.\n    // So here we should probably trigger it if we want the button to reflect state.\n    // However, build methods shouldn't trigger side effects.\n    // Let's rely on CheckInViewModel being updated by something else OR\n    // we use a post frame callback in this widget too?\n    // Given the refactor, let's trigger it once when this widget is built if needed.\n    // But modifying state during build is bad.\n    // Let's assume CheckInViewModel is managing its state or we trigger it via a\n    // proper lifecycle method if we were in a Stateful widget context for this specific item.\n    // Since we are in CarePlanHomeScreenState, let's use a Consumer here.\n\n    // Note: To be safe, we should probably check status in initState of CarePlanHomeScreen if we know the plan?\n    // But plans are loaded asynchronously.\n    // The previous implementation in PatientHomeScreen triggered it in build via a side effect comment/hack or post frame.\n    // Let's just render the button that opens the dialog. The dialog logic handles the actual check-in process.\n    // The \"Status\" (Di√°rio Completo) requires knowledge of whether it was done today.\n\n    return Consumer<CheckInViewModel>(\n      builder: (context, checkInViewModel, child) {\n        // Optimization: If we haven't checked status yet for this plan, we might show a default state\n        // or trigger a check. But CheckInViewModel is global currently? It seems to check for \"a plan\".\n\n        // Let's simplify:\n        // Just show the \"Check-in Di√°rio\" button.\n        // inside the dialog it will handle logic.\n        // If we want the nice \"Complete\" state, we need to ensure checkStatus is called.\n        // We can do that by calling checkStatus when the button is pressed (before showing dialog? no, inside logic).\n\n        // Let's keep it simple: A big action button \"Fazer Check-in Di√°rio\".\n        // If already done, the user will be told so in the flow or we can check status on mount.\n\n        if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }\n\n        if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }\n\n        return SizedBox(\n          width: double.infinity,\n          child: ElevatedButton.icon(\n            onPressed: () {\n              showDialog(\n                context: context,\n                builder: (context) => ChangeNotifierProvider.value(\n                  value: checkInViewModel,\n                  child: CheckInDialog(planId: plan.id),\n                ),\n              );\n            },\n            icon: const Icon(Icons.assignment_turned_in),\n            label: const Text('Fazer Check-in Di√°rio'),\n            style: ElevatedButton.styleFrom(\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              textStyle: const TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              backgroundColor: Theme.of(context).primaryColor,\n              foregroundColor: Colors.white,\n              elevation: 2,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":28681,"line":576,"column":5},"end":{"offset":28730,"line":576,"column":54},"text":"if (plan == null) return const SizedBox.shrink();"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":31191,"line":616,"column":9},"end":{"offset":31308,"line":618,"column":10},"text":"if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":31318,"line":620,"column":9},"end":{"offset":32239,"line":645,"column":10},"text":"if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }"}}]},{"metricsId":"halstead-volume","value":1566.0256133966445,"level":"none","comment":"This method has a halstead volume of 1566.0256133966445.","context":[]},{"metricsId":"lines-of-code","value":104,"unitType":"lines","level":"none","comment":"This method has 104 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":28675,"line":575,"column":66},"end":{"offset":33316,"line":678,"column":4},"text":"{\n    if (plan == null) return const SizedBox.shrink();\n\n    // Trigger status check if not already checking\n    // Ideally we should do this in initState or similar, but doing here for simplicity\n    // ensuring we don't spam.\n    // A better approach is listening to CarePlanViewModel changes or using a PostFrameCallback\n    // For now, let's use the Consumer of CheckInViewModel to drive the UI.\n\n    // We assume the service is already initialized or being called somewhere.\n    // Actually, in PatientHomeScreen we removed the manual check.\n    // So here we should probably trigger it if we want the button to reflect state.\n    // However, build methods shouldn't trigger side effects.\n    // Let's rely on CheckInViewModel being updated by something else OR\n    // we use a post frame callback in this widget too?\n    // Given the refactor, let's trigger it once when this widget is built if needed.\n    // But modifying state during build is bad.\n    // Let's assume CheckInViewModel is managing its state or we trigger it via a\n    // proper lifecycle method if we were in a Stateful widget context for this specific item.\n    // Since we are in CarePlanHomeScreenState, let's use a Consumer here.\n\n    // Note: To be safe, we should probably check status in initState of CarePlanHomeScreen if we know the plan?\n    // But plans are loaded asynchronously.\n    // The previous implementation in PatientHomeScreen triggered it in build via a side effect comment/hack or post frame.\n    // Let's just render the button that opens the dialog. The dialog logic handles the actual check-in process.\n    // The \"Status\" (Di√°rio Completo) requires knowledge of whether it was done today.\n\n    return Consumer<CheckInViewModel>(\n      builder: (context, checkInViewModel, child) {\n        // Optimization: If we haven't checked status yet for this plan, we might show a default state\n        // or trigger a check. But CheckInViewModel is global currently? It seems to check for \"a plan\".\n\n        // Let's simplify:\n        // Just show the \"Check-in Di√°rio\" button.\n        // inside the dialog it will handle logic.\n        // If we want the nice \"Complete\" state, we need to ensure checkStatus is called.\n        // We can do that by calling checkStatus when the button is pressed (before showing dialog? no, inside logic).\n\n        // Let's keep it simple: A big action button \"Fazer Check-in Di√°rio\".\n        // If already done, the user will be told so in the flow or we can check status on mount.\n\n        if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }\n\n        if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }\n\n        return SizedBox(\n          width: double.infinity,\n          child: ElevatedButton.icon(\n            onPressed: () {\n              showDialog(\n                context: context,\n                builder: (context) => ChangeNotifierProvider.value(\n                  value: checkInViewModel,\n                  child: CheckInDialog(planId: plan.id),\n                ),\n              );\n            },\n            icon: const Icon(Icons.assignment_turned_in),\n            label: const Text('Fazer Check-in Di√°rio'),\n            style: ElevatedButton.styleFrom(\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              textStyle: const TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              backgroundColor: Theme.of(context).primaryColor,\n              foregroundColor: Colors.white,\n              elevation: 2,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":30456,"line":603,"column":51},"end":{"offset":33304,"line":676,"column":8},"text":"{\n        // Optimization: If we haven't checked status yet for this plan, we might show a default state\n        // or trigger a check. But CheckInViewModel is global currently? It seems to check for \"a plan\".\n\n        // Let's simplify:\n        // Just show the \"Check-in Di√°rio\" button.\n        // inside the dialog it will handle logic.\n        // If we want the nice \"Complete\" state, we need to ensure checkStatus is called.\n        // We can do that by calling checkStatus when the button is pressed (before showing dialog? no, inside logic).\n\n        // Let's keep it simple: A big action button \"Fazer Check-in Di√°rio\".\n        // If already done, the user will be told so in the flow or we can check status on mount.\n\n        if (checkInViewModel.isCheckingStatus) {\n          return const Center(child: CircularProgressIndicator());\n        }\n\n        if (checkInViewModel.isCheckedInToday) {\n          return Container(\n            width: double.infinity,\n            padding: const EdgeInsets.all(16),\n            decoration: BoxDecoration(\n              color: Colors.green.withOpacity(0.1),\n              borderRadius: BorderRadius.circular(12),\n              border: Border.all(color: Colors.green.withOpacity(0.3)),\n            ),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: const [\n                Icon(Icons.check_circle, color: Colors.green),\n                SizedBox(width: 8),\n                Text(\n                  \"Di√°rio de hoje completo!\",\n                  style: TextStyle(\n                    color: Colors.green,\n                    fontWeight: FontWeight.bold,\n                    fontSize: 16,\n                  ),\n                ),\n              ],\n            ),\n          );\n        }\n\n        return SizedBox(\n          width: double.infinity,\n          child: ElevatedButton.icon(\n            onPressed: () {\n              showDialog(\n                context: context,\n                builder: (context) => ChangeNotifierProvider.value(\n                  value: checkInViewModel,\n                  child: CheckInDialog(planId: plan.id),\n                ),\n              );\n            },\n            icon: const Icon(Icons.assignment_turned_in),\n            label: const Text('Fazer Check-in Di√°rio'),\n            style: ElevatedButton.styleFrom(\n              padding: const EdgeInsets.symmetric(vertical: 16),\n              textStyle: const TextStyle(\n                fontSize: 16,\n                fontWeight: FontWeight.bold,\n              ),\n              backgroundColor: Theme.of(context).primaryColor,\n              foregroundColor: Colors.white,\n              elevation: 2,\n              shape: RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(12),\n              ),\n            ),\n          ),\n        );\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":31230,"line":616,"column":48},"end":{"offset":31308,"line":618,"column":10},"text":"{\n          return const Center(child: CircularProgressIndicator());\n        }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":63,"unitType":"lines","level":"none","comment":"This method has 63 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":28677,"line":576,"column":0},"end":{"offset":28677,"line":576,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":30367,"line":602,"column":0},"end":{"offset":30367,"line":602,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":30406,"line":603,"column":0},"end":{"offset":30406,"line":603,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31183,"line":616,"column":0},"end":{"offset":31183,"line":616,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31232,"line":617,"column":0},"end":{"offset":31232,"line":617,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31299,"line":618,"column":0},"end":{"offset":31299,"line":618,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31310,"line":620,"column":0},"end":{"offset":31310,"line":620,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31359,"line":621,"column":0},"end":{"offset":31359,"line":621,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31387,"line":622,"column":0},"end":{"offset":31387,"line":622,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31423,"line":623,"column":0},"end":{"offset":31423,"line":623,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31470,"line":624,"column":0},"end":{"offset":31470,"line":624,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31509,"line":625,"column":0},"end":{"offset":31509,"line":625,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31561,"line":626,"column":0},"end":{"offset":31561,"line":626,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31616,"line":627,"column":0},"end":{"offset":31616,"line":627,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31688,"line":628,"column":0},"end":{"offset":31688,"line":628,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31703,"line":629,"column":0},"end":{"offset":31703,"line":629,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31727,"line":630,"column":0},"end":{"offset":31727,"line":630,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31786,"line":631,"column":0},"end":{"offset":31786,"line":631,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31818,"line":632,"column":0},"end":{"offset":31818,"line":632,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31881,"line":633,"column":0},"end":{"offset":31881,"line":633,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31917,"line":634,"column":0},"end":{"offset":31917,"line":634,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31939,"line":635,"column":0},"end":{"offset":31939,"line":635,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":31985,"line":636,"column":0},"end":{"offset":31985,"line":636,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32021,"line":637,"column":0},"end":{"offset":32021,"line":637,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32062,"line":638,"column":0},"end":{"offset":32062,"line":638,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32111,"line":639,"column":0},"end":{"offset":32111,"line":639,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32145,"line":640,"column":0},"end":{"offset":32145,"line":640,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32166,"line":641,"column":0},"end":{"offset":32166,"line":641,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32185,"line":642,"column":0},"end":{"offset":32185,"line":642,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32202,"line":643,"column":0},"end":{"offset":32202,"line":643,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32217,"line":644,"column":0},"end":{"offset":32217,"line":644,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32230,"line":645,"column":0},"end":{"offset":32230,"line":645,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32241,"line":647,"column":0},"end":{"offset":32241,"line":647,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32266,"line":648,"column":0},"end":{"offset":32266,"line":648,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32300,"line":649,"column":0},"end":{"offset":32300,"line":649,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32338,"line":650,"column":0},"end":{"offset":32338,"line":650,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32366,"line":651,"column":0},"end":{"offset":32366,"line":651,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32392,"line":652,"column":0},"end":{"offset":32392,"line":652,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32426,"line":653,"column":0},"end":{"offset":32426,"line":653,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32494,"line":654,"column":0},"end":{"offset":32494,"line":654,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32537,"line":655,"column":0},"end":{"offset":32537,"line":655,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32594,"line":656,"column":0},"end":{"offset":32594,"line":656,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32613,"line":657,"column":0},"end":{"offset":32613,"line":657,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32630,"line":658,"column":0},"end":{"offset":32630,"line":658,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32645,"line":659,"column":0},"end":{"offset":32645,"line":659,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32703,"line":660,"column":0},"end":{"offset":32703,"line":660,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32759,"line":661,"column":0},"end":{"offset":32759,"line":661,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32804,"line":662,"column":0},"end":{"offset":32804,"line":662,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32869,"line":663,"column":0},"end":{"offset":32869,"line":663,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32911,"line":664,"column":0},"end":{"offset":32911,"line":664,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32941,"line":665,"column":0},"end":{"offset":32941,"line":665,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":32986,"line":666,"column":0},"end":{"offset":32986,"line":666,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33003,"line":667,"column":0},"end":{"offset":33003,"line":667,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33066,"line":668,"column":0},"end":{"offset":33066,"line":668,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33111,"line":669,"column":0},"end":{"offset":33111,"line":669,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33139,"line":670,"column":0},"end":{"offset":33139,"line":670,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33184,"line":671,"column":0},"end":{"offset":33184,"line":671,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33241,"line":672,"column":0},"end":{"offset":33241,"line":672,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33258,"line":673,"column":0},"end":{"offset":33258,"line":673,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33273,"line":674,"column":0},"end":{"offset":33273,"line":674,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33286,"line":675,"column":0},"end":{"offset":33286,"line":675,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33297,"line":676,"column":0},"end":{"offset":33297,"line":676,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":33306,"line":677,"column":0},"end":{"offset":33306,"line":677,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":38,"level":"alarm","comment":"This method has 38 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/infra/datasources/care_plan_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanRemoteDataSource":{"codeSpan":{"start":{"offset":196,"line":6,"column":1},"end":{"offset":686,"line":17,"column":2},"text":"abstract class CarePlanRemoteDataSource {\n  Future<void> create(CarePlanModel plan);\n  Future<List<CarePlanModel>> get({String? patientId, String? doctorId});\n  Future<void> update(CarePlanModel plan);\n  Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids);\n  Future<void> registerExecution(CarePlanModel plan);\n  Future<List<TaskLog>> getTodaysTaskLogs(String planId);\n  Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );\n}"},"metrics":[{"metricsId":"number-of-methods","value":7,"unitType":"methods","level":"none","comment":"This class has 7 methods.","context":[{"message":"method create increase metric value","codeSpan":{"start":{"offset":240,"line":7,"column":3},"end":{"offset":280,"line":7,"column":43},"text":"Future<void> create(CarePlanModel plan);"}},{"message":"method get increase metric value","codeSpan":{"start":{"offset":283,"line":8,"column":3},"end":{"offset":354,"line":8,"column":74},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId});"}},{"message":"method update increase metric value","codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":397,"line":9,"column":43},"text":"Future<void> update(CarePlanModel plan);"}},{"message":"method getUsersByIds increase metric value","codeSpan":{"start":{"offset":400,"line":10,"column":3},"end":{"offset":467,"line":10,"column":70},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids);"}},{"message":"method registerExecution increase metric value","codeSpan":{"start":{"offset":470,"line":11,"column":3},"end":{"offset":521,"line":11,"column":54},"text":"Future<void> registerExecution(CarePlanModel plan);"}},{"message":"method getTodaysTaskLogs increase metric value","codeSpan":{"start":{"offset":524,"line":12,"column":3},"end":{"offset":579,"line":12,"column":58},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId);"}},{"message":"method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":582,"line":13,"column":3},"end":{"offset":684,"line":16,"column":5},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method create increase metric value","codeSpan":{"start":{"offset":240,"line":7,"column":3},"end":{"offset":280,"line":7,"column":43},"text":"Future<void> create(CarePlanModel plan);"}},{"message":"functional method get increase metric value","codeSpan":{"start":{"offset":283,"line":8,"column":3},"end":{"offset":354,"line":8,"column":74},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId});"}},{"message":"functional method update increase metric value","codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":397,"line":9,"column":43},"text":"Future<void> update(CarePlanModel plan);"}},{"message":"functional method getUsersByIds increase metric value","codeSpan":{"start":{"offset":400,"line":10,"column":3},"end":{"offset":467,"line":10,"column":70},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids);"}},{"message":"functional method registerExecution increase metric value","codeSpan":{"start":{"offset":470,"line":11,"column":3},"end":{"offset":521,"line":11,"column":54},"text":"Future<void> registerExecution(CarePlanModel plan);"}},{"message":"functional method getTodaysTaskLogs increase metric value","codeSpan":{"start":{"offset":524,"line":12,"column":3},"end":{"offset":579,"line":12,"column":58},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId);"}},{"message":"functional method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":582,"line":13,"column":3},"end":{"offset":684,"line":16,"column":5},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"}}]}]},"ParseCarePlanDataSourceImpl":{"codeSpan":{"start":{"offset":688,"line":19,"column":1},"end":{"offset":9409,"line":276,"column":2},"text":"class ParseCarePlanDataSourceImpl implements CarePlanRemoteDataSource {\n  @override\n  Future<void> registerExecution(CarePlanModel plan) async {\n    final taskLog = TaskLog.createForPlan(plan);\n    final response = await taskLog.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }\n  }\n\n  @override\n  Future<List<TaskLog>> getTodaysTaskLogs(String planId) async {\n    final now = DateTime.now();\n    final startOfDay = DateTime(now.year, now.month, now.day);\n\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereEqualTo('planId', ParseObject('CarePlan')..objectId = planId)\n      ..whereGreaterThanOrEqualsTo('executedAt', startOfDay);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }\n\n  @override\n  Future<void> create(CarePlanModel plan) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final parseObject = ParseObject('CarePlan');\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set('patientId', plan.patientId); // String column\n    parseObject.set<DateTime>('startDate', plan.startDate);\n\n    // Pointer to current doctor\n    parseObject.set('doctor', user.toPointer());\n\n    // Define ACLs\n    final acl = ParseACL(owner: user);\n    acl.setPublicReadAccess(\n      allowed: true,\n    ); // Allow patients to find it (simplify for now, or use setReadAccess(userId))\n    // acl.setReadAccess(userId: plan.patientId, allowed: true); // Better, but requires patientId to be exactly valid ObjectId of a User.\n    // Given patientId is just a string in our entity/model, let's assume it IS the ObjectId.\n    // However, if the user types a random string, this might fail or do nothing.\n    // For safety, let's allow Public Read for now, or try setting if it looks like an ID.\n    if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }\n    acl.setWriteAccess(\n      userId: user.objectId!,\n      allowed: true,\n    ); // Redundant if owner is set, but explicit.\n\n    parseObject.setACL(acl);\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }\n  }\n\n  @override\n  Future<List<CarePlanModel>> get({String? patientId, String? doctorId}) async {\n    QueryBuilder<ParseObject> query;\n\n    if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }\n\n    if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }\n\n    // Include doctor details if needed\n    query.includeObject([\n      'doctor',\n      'patient',\n    ]); // Include patient too just in case\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }\n  }\n\n  @override\n  Future<void> update(CarePlanModel plan) async {\n    final parseObject = ParseObject('CarePlan')..objectId = plan.id;\n\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set<DateTime>('startDate', plan.startDate);\n    // Note: patientId and doctor usually don't change in update, or locked by logic.\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }\n  }\n\n  @override\n  Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids) async {\n    // Sub-query for Object IDs\n    final qId = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('objectId', ids);\n\n    // Sub-query for Usernames (often emails in this app)\n    final qUsername = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('username', ids);\n\n    // Sub-query for Emails\n    final qEmail = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('email', ids);\n\n    // Combine queries\n    final query = QueryBuilder.or(ParseUser.forQuery(), [\n      qId,\n      qUsername,\n      qEmail,\n    ]);\n\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }\n  }\n\n  @override\n  Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    // 1. Fetch plans for patient to get their IDs\n    final plans = await get(patientId: patientId);\n\n    if (plans.isEmpty) return [];\n\n    final planPointers = plans\n        .map((p) => (ParseObject('CarePlan')..objectId = p.id).toPointer())\n        .toList();\n\n    // 2. Query TaskLog where planId IN planPointers AND executedAt >= fromDate\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereContainedIn('planId', planPointers)\n      ..whereGreaterThanOrEqualsTo('executedAt', fromDate)\n      ..includeObject(['planId']);\n\n    // Limit to large number just in case\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":7,"unitType":"methods","level":"none","comment":"This class has 7 methods.","context":[{"message":"method registerExecution increase metric value","codeSpan":{"start":{"offset":774,"line":21,"column":3},"end":{"offset":1077,"line":30,"column":4},"text":"Future<void> registerExecution(CarePlanModel plan) async {\n    final taskLog = TaskLog.createForPlan(plan);\n    final response = await taskLog.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }\n  }"}},{"message":"method getTodaysTaskLogs increase metric value","codeSpan":{"start":{"offset":1093,"line":33,"column":3},"end":{"offset":1862,"line":54,"column":4},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId) async {\n    final now = DateTime.now();\n    final startOfDay = DateTime(now.year, now.month, now.day);\n\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereEqualTo('planId', ParseObject('CarePlan')..objectId = planId)\n      ..whereGreaterThanOrEqualsTo('executedAt', startOfDay);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}},{"message":"method create increase metric value","codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":3496,"line":99,"column":4},"text":"Future<void> create(CarePlanModel plan) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final parseObject = ParseObject('CarePlan');\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set('patientId', plan.patientId); // String column\n    parseObject.set<DateTime>('startDate', plan.startDate);\n\n    // Pointer to current doctor\n    parseObject.set('doctor', user.toPointer());\n\n    // Define ACLs\n    final acl = ParseACL(owner: user);\n    acl.setPublicReadAccess(\n      allowed: true,\n    ); // Allow patients to find it (simplify for now, or use setReadAccess(userId))\n    // acl.setReadAccess(userId: plan.patientId, allowed: true); // Better, but requires patientId to be exactly valid ObjectId of a User.\n    // Given patientId is just a string in our entity/model, let's assume it IS the ObjectId.\n    // However, if the user types a random string, this might fail or do nothing.\n    // For safety, let's allow Public Read for now, or try setting if it looks like an ID.\n    if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }\n    acl.setWriteAccess(\n      userId: user.objectId!,\n      allowed: true,\n    ); // Redundant if owner is set, but explicit.\n\n    parseObject.setACL(acl);\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }\n  }"}},{"message":"method get increase metric value","codeSpan":{"start":{"offset":3512,"line":102,"column":3},"end":{"offset":5176,"line":150,"column":4},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId}) async {\n    QueryBuilder<ParseObject> query;\n\n    if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }\n\n    if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }\n\n    // Include doctor details if needed\n    query.includeObject([\n      'doctor',\n      'patient',\n    ]); // Include patient too just in case\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }\n  }"}},{"message":"method update increase metric value","codeSpan":{"start":{"offset":5192,"line":153,"column":3},"end":{"offset":5744,"line":168,"column":4},"text":"Future<void> update(CarePlanModel plan) async {\n    final parseObject = ParseObject('CarePlan')..objectId = plan.id;\n\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set<DateTime>('startDate', plan.startDate);\n    // Note: patientId and doctor usually don't change in update, or locked by logic.\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }\n  }"}},{"message":"method getUsersByIds increase metric value","codeSpan":{"start":{"offset":5760,"line":171,"column":3},"end":{"offset":8251,"line":237,"column":4},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids) async {\n    // Sub-query for Object IDs\n    final qId = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('objectId', ids);\n\n    // Sub-query for Usernames (often emails in this app)\n    final qUsername = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('username', ids);\n\n    // Sub-query for Emails\n    final qEmail = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('email', ids);\n\n    // Combine queries\n    final query = QueryBuilder.or(ParseUser.forQuery(), [\n      qId,\n      qUsername,\n      qEmail,\n    ]);\n\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }\n  }"}},{"message":"method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":8267,"line":240,"column":3},"end":{"offset":9407,"line":275,"column":4},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    // 1. Fetch plans for patient to get their IDs\n    final plans = await get(patientId: patientId);\n\n    if (plans.isEmpty) return [];\n\n    final planPointers = plans\n        .map((p) => (ParseObject('CarePlan')..objectId = p.id).toPointer())\n        .toList();\n\n    // 2. Query TaskLog where planId IN planPointers AND executedAt >= fromDate\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereContainedIn('planId', planPointers)\n      ..whereGreaterThanOrEqualsTo('executedAt', fromDate)\n      ..includeObject(['planId']);\n\n    // Limit to large number just in case\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method registerExecution increase metric value","codeSpan":{"start":{"offset":774,"line":21,"column":3},"end":{"offset":1077,"line":30,"column":4},"text":"Future<void> registerExecution(CarePlanModel plan) async {\n    final taskLog = TaskLog.createForPlan(plan);\n    final response = await taskLog.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }\n  }"}},{"message":"functional method getTodaysTaskLogs increase metric value","codeSpan":{"start":{"offset":1093,"line":33,"column":3},"end":{"offset":1862,"line":54,"column":4},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId) async {\n    final now = DateTime.now();\n    final startOfDay = DateTime(now.year, now.month, now.day);\n\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereEqualTo('planId', ParseObject('CarePlan')..objectId = planId)\n      ..whereGreaterThanOrEqualsTo('executedAt', startOfDay);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}},{"message":"functional method create increase metric value","codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":3496,"line":99,"column":4},"text":"Future<void> create(CarePlanModel plan) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final parseObject = ParseObject('CarePlan');\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set('patientId', plan.patientId); // String column\n    parseObject.set<DateTime>('startDate', plan.startDate);\n\n    // Pointer to current doctor\n    parseObject.set('doctor', user.toPointer());\n\n    // Define ACLs\n    final acl = ParseACL(owner: user);\n    acl.setPublicReadAccess(\n      allowed: true,\n    ); // Allow patients to find it (simplify for now, or use setReadAccess(userId))\n    // acl.setReadAccess(userId: plan.patientId, allowed: true); // Better, but requires patientId to be exactly valid ObjectId of a User.\n    // Given patientId is just a string in our entity/model, let's assume it IS the ObjectId.\n    // However, if the user types a random string, this might fail or do nothing.\n    // For safety, let's allow Public Read for now, or try setting if it looks like an ID.\n    if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }\n    acl.setWriteAccess(\n      userId: user.objectId!,\n      allowed: true,\n    ); // Redundant if owner is set, but explicit.\n\n    parseObject.setACL(acl);\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }\n  }"}},{"message":"functional method get increase metric value","codeSpan":{"start":{"offset":3512,"line":102,"column":3},"end":{"offset":5176,"line":150,"column":4},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId}) async {\n    QueryBuilder<ParseObject> query;\n\n    if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }\n\n    if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }\n\n    // Include doctor details if needed\n    query.includeObject([\n      'doctor',\n      'patient',\n    ]); // Include patient too just in case\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }\n  }"}},{"message":"functional method update increase metric value","codeSpan":{"start":{"offset":5192,"line":153,"column":3},"end":{"offset":5744,"line":168,"column":4},"text":"Future<void> update(CarePlanModel plan) async {\n    final parseObject = ParseObject('CarePlan')..objectId = plan.id;\n\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set<DateTime>('startDate', plan.startDate);\n    // Note: patientId and doctor usually don't change in update, or locked by logic.\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }\n  }"}},{"message":"functional method getUsersByIds increase metric value","codeSpan":{"start":{"offset":5760,"line":171,"column":3},"end":{"offset":8251,"line":237,"column":4},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids) async {\n    // Sub-query for Object IDs\n    final qId = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('objectId', ids);\n\n    // Sub-query for Usernames (often emails in this app)\n    final qUsername = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('username', ids);\n\n    // Sub-query for Emails\n    final qEmail = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('email', ids);\n\n    // Combine queries\n    final query = QueryBuilder.or(ParseUser.forQuery(), [\n      qId,\n      qUsername,\n      qEmail,\n    ]);\n\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }\n  }"}},{"message":"functional method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":8267,"line":240,"column":3},"end":{"offset":9407,"line":275,"column":4},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    // 1. Fetch plans for patient to get their IDs\n    final plans = await get(patientId: patientId);\n\n    if (plans.isEmpty) return [];\n\n    final planPointers = plans\n        .map((p) => (ParseObject('CarePlan')..objectId = p.id).toPointer())\n        .toList();\n\n    // 2. Query TaskLog where planId IN planPointers AND executedAt >= fromDate\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereContainedIn('planId', planPointers)\n      ..whereGreaterThanOrEqualsTo('executedAt', fromDate)\n      ..includeObject(['planId']);\n\n    // Limit to large number just in case\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}}]}]}},"functions":{"CarePlanRemoteDataSource.create":{"codeSpan":{"start":{"offset":240,"line":7,"column":3},"end":{"offset":280,"line":7,"column":43},"text":"Future<void> create(CarePlanModel plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.get":{"codeSpan":{"start":{"offset":283,"line":8,"column":3},"end":{"offset":354,"line":8,"column":74},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.update":{"codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":397,"line":9,"column":43},"text":"Future<void> update(CarePlanModel plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.getUsersByIds":{"codeSpan":{"start":{"offset":400,"line":10,"column":3},"end":{"offset":467,"line":10,"column":70},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.registerExecution":{"codeSpan":{"start":{"offset":470,"line":11,"column":3},"end":{"offset":521,"line":11,"column":54},"text":"Future<void> registerExecution(CarePlanModel plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.getTodaysTaskLogs":{"codeSpan":{"start":{"offset":524,"line":12,"column":3},"end":{"offset":579,"line":12,"column":58},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRemoteDataSource.getTaskLogsForPatientFromDate":{"codeSpan":{"start":{"offset":582,"line":13,"column":3},"end":{"offset":684,"line":16,"column":5},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ParseCarePlanDataSourceImpl.registerExecution":{"codeSpan":{"start":{"offset":774,"line":21,"column":3},"end":{"offset":1077,"line":30,"column":4},"text":"Future<void> registerExecution(CarePlanModel plan) async {\n    final taskLog = TaskLog.createForPlan(plan);\n    final response = await taskLog.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":930,"line":25,"column":5},"end":{"offset":1073,"line":29,"column":6},"text":"if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1015,"line":27,"column":32},"end":{"offset":1017,"line":27,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1025,"line":27,"column":42},"end":{"offset":1027,"line":27,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":78.13781191217038,"level":"none","comment":"This method has a halstead volume of 78.13781191217038.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":831,"line":21,"column":60},"end":{"offset":1077,"line":30,"column":4},"text":"{\n    final taskLog = TaskLog.createForPlan(plan);\n    final response = await taskLog.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":953,"line":25,"column":28},"end":{"offset":1073,"line":29,"column":6},"text":"{\n      throw ServerException(\n        message: response.error?.message ?? 'Error registering execution',\n      );\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":833,"line":22,"column":0},"end":{"offset":833,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":882,"line":23,"column":0},"end":{"offset":882,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":926,"line":25,"column":0},"end":{"offset":926,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":955,"line":26,"column":0},"end":{"offset":955,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":984,"line":27,"column":0},"end":{"offset":984,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1059,"line":28,"column":0},"end":{"offset":1059,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1068,"line":29,"column":0},"end":{"offset":1068,"line":29,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.getTodaysTaskLogs":{"codeSpan":{"start":{"offset":1093,"line":33,"column":3},"end":{"offset":1862,"line":54,"column":4},"text":"Future<List<TaskLog>> getTodaysTaskLogs(String planId) async {\n    final now = DateTime.now();\n    final startOfDay = DateTime(now.year, now.month, now.day);\n\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereEqualTo('planId', ParseObject('CarePlan')..objectId = planId)\n      ..whereGreaterThanOrEqualsTo('executedAt', startOfDay);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1488,"line":43,"column":5},"end":{"offset":1858,"line":53,"column":6},"text":"if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1509,"line":43,"column":26},"end":{"offset":1511,"line":43,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1661,"line":47,"column":12},"end":{"offset":1858,"line":53,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1682,"line":47,"column":33},"end":{"offset":1684,"line":47,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1803,"line":51,"column":32},"end":{"offset":1805,"line":51,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1813,"line":51,"column":42},"end":{"offset":1815,"line":51,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":359.0498111861476,"level":"none","comment":"This method has a halstead volume of 359.0498111861476.","context":[]},{"metricsId":"lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1154,"line":33,"column":64},"end":{"offset":1862,"line":54,"column":4},"text":"{\n    final now = DateTime.now();\n    final startOfDay = DateTime(now.year, now.month, now.day);\n\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereEqualTo('planId', ParseObject('CarePlan')..objectId = planId)\n      ..whereGreaterThanOrEqualsTo('executedAt', startOfDay);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1538,"line":43,"column":55},"end":{"offset":1655,"line":47,"column":6},"text":"{\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1156,"line":34,"column":0},"end":{"offset":1156,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1188,"line":35,"column":0},"end":{"offset":1188,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1252,"line":37,"column":0},"end":{"offset":1252,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1303,"line":38,"column":0},"end":{"offset":1303,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1378,"line":39,"column":0},"end":{"offset":1378,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1441,"line":41,"column":0},"end":{"offset":1441,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1484,"line":43,"column":0},"end":{"offset":1484,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1540,"line":44,"column":0},"end":{"offset":1540,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1593,"line":45,"column":0},"end":{"offset":1593,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1629,"line":46,"column":0},"end":{"offset":1629,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1650,"line":47,"column":0},"end":{"offset":1650,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1713,"line":48,"column":0},"end":{"offset":1713,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1730,"line":49,"column":0},"end":{"offset":1730,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1743,"line":50,"column":0},"end":{"offset":1743,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1772,"line":51,"column":0},"end":{"offset":1772,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1844,"line":52,"column":0},"end":{"offset":1844,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1853,"line":53,"column":0},"end":{"offset":1853,"line":53,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.create":{"codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":3496,"line":99,"column":4},"text":"Future<void> create(CarePlanModel plan) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final parseObject = ParseObject('CarePlan');\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set('patientId', plan.patientId); // String column\n    parseObject.set<DateTime>('startDate', plan.startDate);\n\n    // Pointer to current doctor\n    parseObject.set('doctor', user.toPointer());\n\n    // Define ACLs\n    final acl = ParseACL(owner: user);\n    acl.setPublicReadAccess(\n      allowed: true,\n    ); // Allow patients to find it (simplify for now, or use setReadAccess(userId))\n    // acl.setReadAccess(userId: plan.patientId, allowed: true); // Better, but requires patientId to be exactly valid ObjectId of a User.\n    // Given patientId is just a string in our entity/model, let's assume it IS the ObjectId.\n    // However, if the user types a random string, this might fail or do nothing.\n    // For safety, let's allow Public Read for now, or try setting if it looks like an ID.\n    if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }\n    acl.setWriteAccess(\n      userId: user.objectId!,\n      allowed: true,\n    ); // Redundant if owner is set, but explicit.\n\n    parseObject.setACL(acl);\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1993,"line":60,"column":5},"end":{"offset":2084,"line":62,"column":6},"text":"if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3045,"line":82,"column":5},"end":{"offset":3147,"line":84,"column":6},"text":"if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3357,"line":94,"column":5},"end":{"offset":3492,"line":98,"column":6},"text":"if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":3442,"line":96,"column":32},"end":{"offset":3444,"line":96,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3452,"line":96,"column":42},"end":{"offset":3454,"line":96,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":425.754247590989,"level":"none","comment":"This method has a halstead volume of 425.754247590989.","context":[]},{"metricsId":"lines-of-code","value":44,"unitType":"lines","level":"none","comment":"This method has 44 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1924,"line":57,"column":49},"end":{"offset":3496,"line":99,"column":4},"text":"{\n    final user = await ParseUser.currentUser() as ParseUser?;\n\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final parseObject = ParseObject('CarePlan');\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set('patientId', plan.patientId); // String column\n    parseObject.set<DateTime>('startDate', plan.startDate);\n\n    // Pointer to current doctor\n    parseObject.set('doctor', user.toPointer());\n\n    // Define ACLs\n    final acl = ParseACL(owner: user);\n    acl.setPublicReadAccess(\n      allowed: true,\n    ); // Allow patients to find it (simplify for now, or use setReadAccess(userId))\n    // acl.setReadAccess(userId: plan.patientId, allowed: true); // Better, but requires patientId to be exactly valid ObjectId of a User.\n    // Given patientId is just a string in our entity/model, let's assume it IS the ObjectId.\n    // However, if the user types a random string, this might fail or do nothing.\n    // For safety, let's allow Public Read for now, or try setting if it looks like an ID.\n    if (plan.patientId.isNotEmpty) {\n      acl.setReadAccess(userId: plan.patientId, allowed: true);\n    }\n    acl.setWriteAccess(\n      userId: user.objectId!,\n      allowed: true,\n    ); // Redundant if owner is set, but explicit.\n\n    parseObject.setACL(acl);\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error creating plan',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2011,"line":60,"column":23},"end":{"offset":2084,"line":62,"column":6},"text":"{\n      throw const ServerException(message: 'User not logged in');\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":28,"unitType":"lines","level":"none","comment":"This method has 28 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1926,"line":58,"column":0},"end":{"offset":1926,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1989,"line":60,"column":0},"end":{"offset":1989,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2013,"line":61,"column":0},"end":{"offset":2013,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2079,"line":62,"column":0},"end":{"offset":2079,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2086,"line":64,"column":0},"end":{"offset":2086,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2135,"line":65,"column":0},"end":{"offset":2135,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2177,"line":66,"column":0},"end":{"offset":2177,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2231,"line":67,"column":0},"end":{"offset":2231,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2298,"line":68,"column":0},"end":{"offset":2298,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2392,"line":71,"column":0},"end":{"offset":2392,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2461,"line":74,"column":0},"end":{"offset":2461,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2500,"line":75,"column":0},"end":{"offset":2500,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2529,"line":76,"column":0},"end":{"offset":2529,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2550,"line":77,"column":0},"end":{"offset":2550,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3041,"line":82,"column":0},"end":{"offset":3041,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3078,"line":83,"column":0},"end":{"offset":3078,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3142,"line":84,"column":0},"end":{"offset":3142,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3148,"line":85,"column":0},"end":{"offset":3148,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3172,"line":86,"column":0},"end":{"offset":3172,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3202,"line":87,"column":0},"end":{"offset":3202,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3223,"line":88,"column":0},"end":{"offset":3223,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3275,"line":90,"column":0},"end":{"offset":3275,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3305,"line":92,"column":0},"end":{"offset":3305,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3353,"line":94,"column":0},"end":{"offset":3353,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3382,"line":95,"column":0},"end":{"offset":3382,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3411,"line":96,"column":0},"end":{"offset":3411,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3478,"line":97,"column":0},"end":{"offset":3478,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3487,"line":98,"column":0},"end":{"offset":3487,"line":98,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.get":{"codeSpan":{"start":{"offset":3512,"line":102,"column":3},"end":{"offset":5176,"line":150,"column":4},"text":"Future<List<CarePlanModel>> get({String? patientId, String? doctorId}) async {\n    QueryBuilder<ParseObject> query;\n\n    if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }\n\n    if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }\n\n    // Include doctor details if needed\n    query.includeObject([\n      'doctor',\n      'patient',\n    ]); // Include patient too just in case\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":10,"level":"alarm","comment":"This method has a cyclomatic complexity of 10, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3633,"line":105,"column":5},"end":{"offset":4283,"line":119,"column":6},"text":"if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4289,"line":121,"column":5},"end":{"offset":4487,"line":125,"column":6},"text":"if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4680,"line":135,"column":5},"end":{"offset":5172,"line":149,"column":6},"text":"if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":4701,"line":135,"column":26},"end":{"offset":4703,"line":135,"column":28},"text":"&&"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4882,"line":140,"column":9},"end":{"offset":4967,"line":142,"column":8},"text":"catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4979,"line":143,"column":12},"end":{"offset":5172,"line":149,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":5000,"line":143,"column":33},"end":{"offset":5002,"line":143,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":5121,"line":147,"column":32},"end":{"offset":5123,"line":147,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":5131,"line":147,"column":42},"end":{"offset":5133,"line":147,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":566.7761714519072,"level":"none","comment":"This method has a halstead volume of 566.7761714519072.","context":[]},{"metricsId":"lines-of-code","value":50,"unitType":"lines","level":"none","comment":"This method has 50 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3589,"line":102,"column":80},"end":{"offset":5176,"line":150,"column":4},"text":"{\n    QueryBuilder<ParseObject> query;\n\n    if (patientId != null) {\n      // Query 1: Check String column 'patientId'\n      final qString = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patientId', patientId);\n\n      // Query 2: Check Pointer column 'patient'\n      final patientPointer = ParseUser(null, null, null)..objectId = patientId;\n      final qPointer = QueryBuilder<ParseObject>(ParseObject('CarePlan'))\n        ..whereEqualTo('patient', patientPointer.toPointer());\n\n      // Combine queries\n      query = QueryBuilder.or(ParseObject('CarePlan'), [qString, qPointer]);\n    } else {\n      query = QueryBuilder<ParseObject>(ParseObject('CarePlan'));\n    }\n\n    if (doctorId != null) {\n      // Pointer comparison\n      final doctorPointer = ParseUser(null, null, null)..objectId = doctorId;\n      query.whereEqualTo('doctor', doctorPointer.toPointer());\n    }\n\n    // Include doctor details if needed\n    query.includeObject([\n      'doctor',\n      'patient',\n    ]); // Include patient too just in case\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching plans',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":4730,"line":135,"column":55},"end":{"offset":4973,"line":143,"column":6},"text":"{\n      try {\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      } catch (e) {\n        throw ServerException(message: 'Error mapping data: $e');\n      }\n    }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":4742,"line":136,"column":11},"end":{"offset":4881,"line":140,"column":8},"text":"{\n        return (response.results as List<ParseObject>)\n            .map((e) => CarePlanModel.fromParse(e))\n            .toList();\n      }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":35,"unitType":"lines","level":"none","comment":"This method has 35 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3591,"line":103,"column":0},"end":{"offset":3591,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3629,"line":105,"column":0},"end":{"offset":3629,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3708,"line":107,"column":0},"end":{"offset":3708,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3781,"line":108,"column":0},"end":{"offset":3781,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3879,"line":111,"column":0},"end":{"offset":3879,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3959,"line":112,"column":0},"end":{"offset":3959,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4033,"line":113,"column":0},"end":{"offset":4033,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4122,"line":116,"column":0},"end":{"offset":4122,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4199,"line":117,"column":0},"end":{"offset":4199,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4212,"line":118,"column":0},"end":{"offset":4212,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4278,"line":119,"column":0},"end":{"offset":4278,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4285,"line":121,"column":0},"end":{"offset":4285,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4341,"line":123,"column":0},"end":{"offset":4341,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4419,"line":124,"column":0},"end":{"offset":4419,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4482,"line":125,"column":0},"end":{"offset":4482,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4529,"line":128,"column":0},"end":{"offset":4529,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4555,"line":129,"column":0},"end":{"offset":4555,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4571,"line":130,"column":0},"end":{"offset":4571,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4588,"line":131,"column":0},"end":{"offset":4588,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4633,"line":133,"column":0},"end":{"offset":4633,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4676,"line":135,"column":0},"end":{"offset":4676,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4732,"line":136,"column":0},"end":{"offset":4732,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4744,"line":137,"column":0},"end":{"offset":4744,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4799,"line":138,"column":0},"end":{"offset":4799,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4851,"line":139,"column":0},"end":{"offset":4851,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4874,"line":140,"column":0},"end":{"offset":4874,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4894,"line":141,"column":0},"end":{"offset":4894,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4960,"line":142,"column":0},"end":{"offset":4960,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4968,"line":143,"column":0},"end":{"offset":4968,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5031,"line":144,"column":0},"end":{"offset":5031,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5048,"line":145,"column":0},"end":{"offset":5048,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5061,"line":146,"column":0},"end":{"offset":5061,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5090,"line":147,"column":0},"end":{"offset":5090,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5158,"line":148,"column":0},"end":{"offset":5158,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5167,"line":149,"column":0},"end":{"offset":5167,"line":149,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":46,"level":"alarm","comment":"This method has 46 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.update":{"codeSpan":{"start":{"offset":5192,"line":153,"column":3},"end":{"offset":5744,"line":168,"column":4},"text":"Future<void> update(CarePlanModel plan) async {\n    final parseObject = ParseObject('CarePlan')..objectId = plan.id;\n\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set<DateTime>('startDate', plan.startDate);\n    // Note: patientId and doctor usually don't change in update, or locked by logic.\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5605,"line":163,"column":5},"end":{"offset":5740,"line":167,"column":6},"text":"if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":5690,"line":165,"column":32},"end":{"offset":5692,"line":165,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":5700,"line":165,"column":42},"end":{"offset":5702,"line":165,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":174.22857502740396,"level":"none","comment":"This method has a halstead volume of 174.22857502740396.","context":[]},{"metricsId":"lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5238,"line":153,"column":49},"end":{"offset":5744,"line":168,"column":4},"text":"{\n    final parseObject = ParseObject('CarePlan')..objectId = plan.id;\n\n    parseObject.set('title', plan.title);\n    parseObject.set('description', plan.description);\n    parseObject.set<DateTime>('startDate', plan.startDate);\n    // Note: patientId and doctor usually don't change in update, or locked by logic.\n\n    final response = await parseObject.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":5628,"line":163,"column":28},"end":{"offset":5740,"line":167,"column":6},"text":"{\n      throw ServerException(\n        message: response.error?.message ?? 'Error updating plan',\n      );\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This method has 10 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5240,"line":154,"column":0},"end":{"offset":5240,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5310,"line":156,"column":0},"end":{"offset":5310,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5352,"line":157,"column":0},"end":{"offset":5352,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5406,"line":158,"column":0},"end":{"offset":5406,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5553,"line":161,"column":0},"end":{"offset":5553,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5601,"line":163,"column":0},"end":{"offset":5601,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5630,"line":164,"column":0},"end":{"offset":5630,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5659,"line":165,"column":0},"end":{"offset":5659,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5726,"line":166,"column":0},"end":{"offset":5726,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5735,"line":167,"column":0},"end":{"offset":5735,"line":167,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":62,"level":"warning","comment":"This method has 62 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.getUsersByIds":{"codeSpan":{"start":{"offset":5760,"line":171,"column":3},"end":{"offset":8251,"line":237,"column":4},"text":"Future<List<Map<String, dynamic>>> getUsersByIds(List<String> ids) async {\n    // Sub-query for Object IDs\n    final qId = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('objectId', ids);\n\n    // Sub-query for Usernames (often emails in this app)\n    final qUsername = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('username', ids);\n\n    // Sub-query for Emails\n    final qEmail = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('email', ids);\n\n    // Combine queries\n    final query = QueryBuilder.or(ParseUser.forQuery(), [\n      qId,\n      qUsername,\n      qEmail,\n    ]);\n\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":13,"level":"alarm","comment":"This method has a cyclomatic complexity of 13, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":6483,"line":195,"column":5},"end":{"offset":8247,"line":236,"column":6},"text":"if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":6504,"line":195,"column":26},"end":{"offset":6506,"line":195,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":7510,"line":214,"column":13},"end":{"offset":7571,"line":214,"column":74},"text":"if (fullName != null && fullName.isNotEmpty) return fullName;"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":7531,"line":214,"column":34},"end":{"offset":7533,"line":214,"column":36},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":7641,"line":217,"column":13},"end":{"offset":7702,"line":217,"column":74},"text":"if (username != null && username.isNotEmpty) return username;"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":7662,"line":217,"column":34},"end":{"offset":7664,"line":217,"column":36},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":7766,"line":220,"column":13},"end":{"offset":7865,"line":222,"column":14},"text":"if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":7784,"line":220,"column":31},"end":{"offset":7786,"line":220,"column":33},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":8054,"line":230,"column":12},"end":{"offset":8247,"line":236,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":8075,"line":230,"column":33},"end":{"offset":8077,"line":230,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":8196,"line":234,"column":32},"end":{"offset":8198,"line":234,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":8206,"line":234,"column":42},"end":{"offset":8208,"line":234,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":1218.663737548,"level":"none","comment":"This method has a halstead volume of 1218.663737548.","context":[]},{"metricsId":"lines-of-code","value":68,"unitType":"lines","level":"none","comment":"This method has 68 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":5,"level":"alarm","comment":"This method has a nesting level of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5833,"line":171,"column":76},"end":{"offset":8251,"line":237,"column":4},"text":"{\n    // Sub-query for Object IDs\n    final qId = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('objectId', ids);\n\n    // Sub-query for Usernames (often emails in this app)\n    final qUsername = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('username', ids);\n\n    // Sub-query for Emails\n    final qEmail = QueryBuilder<ParseUser>(ParseUser.forQuery())\n      ..whereContainedIn('email', ids);\n\n    // Combine queries\n    final query = QueryBuilder.or(ParseUser.forQuery(), [\n      qId,\n      qUsername,\n      qEmail,\n    ]);\n\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching users',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":6533,"line":195,"column":55},"end":{"offset":8048,"line":230,"column":6},"text":"{\n      return (response.results as List<ParseObject>).map((e) {\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }).toList();\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":6596,"line":196,"column":62},"end":{"offset":8031,"line":229,"column":8},"text":"{\n        return {\n          'id': e.objectId, // Return actual ObjectId\n          'lookupKey': e.objectId,\n          // WAIT: If I search by 'email', the Repo expects the key `patientId` (which is the email) to match.\n          // The Repo maps namesMap[models.patientId].\n          // If model.patientId is 'john@email.com', but result.objectId is 'XyZ', result map will have key 'XyZ'.\n          // Repo lookup: namesMap['john@email.com'] -> Null.\n\n          // I need to return the 'matched' key. But I don't know which one matched easiest.\n          // Better approach: In Repository, if the ID doesn't match, search by details?\n          // No, datasource should return enough info.\n\n          // If I return the object, I can match it back in Repository?\n          // Or I check if 'username' IS in the `ids` list.\n          'name': () {\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }(),\n          'email': e.get<String>('email'),\n          'username': e.get<String>('username'),\n        };\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":7439,"line":211,"column":22},"end":{"offset":7917,"line":225,"column":12},"text":"{\n            final fullName = e.get<String>('fullName');\n\n            if (fullName != null && fullName.isNotEmpty) return fullName;\n\n            final username = e.get<String>('username');\n            if (username != null && username.isNotEmpty) return username;\n\n            final email = e.get<String>('email');\n            if (email != null && email.contains('@')) {\n              return email.split('@')[0];\n            }\n\n            return 'Usu√°rio Sem Nome';\n          }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":7808,"line":220,"column":55},"end":{"offset":7865,"line":222,"column":14},"text":"{\n              return email.split('@')[0];\n            }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":40,"unitType":"lines","level":"none","comment":"This method has 40 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5867,"line":173,"column":0},"end":{"offset":5867,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5929,"line":174,"column":0},"end":{"offset":5929,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6031,"line":177,"column":0},"end":{"offset":6031,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6099,"line":178,"column":0},"end":{"offset":6099,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6171,"line":181,"column":0},"end":{"offset":6171,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6236,"line":182,"column":0},"end":{"offset":6236,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6300,"line":185,"column":0},"end":{"offset":6300,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6358,"line":186,"column":0},"end":{"offset":6358,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6369,"line":187,"column":0},"end":{"offset":6369,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6386,"line":188,"column":0},"end":{"offset":6386,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6400,"line":189,"column":0},"end":{"offset":6400,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6409,"line":191,"column":0},"end":{"offset":6409,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6436,"line":193,"column":0},"end":{"offset":6436,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6479,"line":195,"column":0},"end":{"offset":6479,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6535,"line":196,"column":0},"end":{"offset":6535,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6598,"line":197,"column":0},"end":{"offset":6598,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6615,"line":198,"column":0},"end":{"offset":6615,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6669,"line":199,"column":0},"end":{"offset":6669,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7418,"line":211,"column":0},"end":{"offset":7418,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7441,"line":212,"column":0},"end":{"offset":7441,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7498,"line":214,"column":0},"end":{"offset":7498,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7573,"line":216,"column":0},"end":{"offset":7573,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7629,"line":217,"column":0},"end":{"offset":7629,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7704,"line":219,"column":0},"end":{"offset":7704,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7754,"line":220,"column":0},"end":{"offset":7754,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7810,"line":221,"column":0},"end":{"offset":7810,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7852,"line":222,"column":0},"end":{"offset":7852,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7867,"line":224,"column":0},"end":{"offset":7867,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7906,"line":225,"column":0},"end":{"offset":7906,"line":225,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7921,"line":226,"column":0},"end":{"offset":7921,"line":226,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7964,"line":227,"column":0},"end":{"offset":7964,"line":227,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8013,"line":228,"column":0},"end":{"offset":8013,"line":228,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8024,"line":229,"column":0},"end":{"offset":8024,"line":229,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8043,"line":230,"column":0},"end":{"offset":8043,"line":230,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8106,"line":231,"column":0},"end":{"offset":8106,"line":231,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8123,"line":232,"column":0},"end":{"offset":8123,"line":232,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8136,"line":233,"column":0},"end":{"offset":8136,"line":233,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8165,"line":234,"column":0},"end":{"offset":8165,"line":234,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8233,"line":235,"column":0},"end":{"offset":8233,"line":235,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8242,"line":236,"column":0},"end":{"offset":8242,"line":236,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":42,"level":"alarm","comment":"This method has 42 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCarePlanDataSourceImpl.getTaskLogsForPatientFromDate":{"codeSpan":{"start":{"offset":8267,"line":240,"column":3},"end":{"offset":9407,"line":275,"column":4},"text":"Future<List<TaskLog>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    // 1. Fetch plans for patient to get their IDs\n    final plans = await get(patientId: patientId);\n\n    if (plans.isEmpty) return [];\n\n    final planPointers = plans\n        .map((p) => (ParseObject('CarePlan')..objectId = p.id).toPointer())\n        .toList();\n\n    // 2. Query TaskLog where planId IN planPointers AND executedAt >= fromDate\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereContainedIn('planId', planPointers)\n      ..whereGreaterThanOrEqualsTo('executedAt', fromDate)\n      ..includeObject(['planId']);\n\n    // Limit to large number just in case\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":8,"level":"alarm","comment":"This method has a cyclomatic complexity of 8, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":8484,"line":247,"column":5},"end":{"offset":8513,"line":247,"column":34},"text":"if (plans.isEmpty) return [];"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":9033,"line":264,"column":5},"end":{"offset":9403,"line":274,"column":6},"text":"if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":9054,"line":264,"column":26},"end":{"offset":9056,"line":264,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":9206,"line":268,"column":12},"end":{"offset":9403,"line":274,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":9227,"line":268,"column":33},"end":{"offset":9229,"line":268,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":9348,"line":272,"column":32},"end":{"offset":9350,"line":272,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":9358,"line":272,"column":42},"end":{"offset":9360,"line":272,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":449.25918860329114,"level":"none","comment":"This method has a halstead volume of 449.25918860329114.","context":[]},{"metricsId":"lines-of-code","value":37,"unitType":"lines","level":"none","comment":"This method has 37 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":8375,"line":243,"column":11},"end":{"offset":9407,"line":275,"column":4},"text":"{\n    // 1. Fetch plans for patient to get their IDs\n    final plans = await get(patientId: patientId);\n\n    if (plans.isEmpty) return [];\n\n    final planPointers = plans\n        .map((p) => (ParseObject('CarePlan')..objectId = p.id).toPointer())\n        .toList();\n\n    // 2. Query TaskLog where planId IN planPointers AND executedAt >= fromDate\n    final query = QueryBuilder<TaskLog>(TaskLog())\n      ..whereContainedIn('planId', planPointers)\n      ..whereGreaterThanOrEqualsTo('executedAt', fromDate)\n      ..includeObject(['planId']);\n\n    // Limit to large number just in case\n    query.setLimit(1000);\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Error fetching task logs',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":9083,"line":264,"column":55},"end":{"offset":9200,"line":268,"column":6},"text":"{\n      return (response.results as List<ParseObject>)\n          .map((e) => e as TaskLog)\n          .toList();\n    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":22,"unitType":"lines","level":"none","comment":"This method has 22 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":8428,"line":245,"column":0},"end":{"offset":8428,"line":245,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8480,"line":247,"column":0},"end":{"offset":8480,"line":247,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8515,"line":249,"column":0},"end":{"offset":8515,"line":249,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8546,"line":250,"column":0},"end":{"offset":8546,"line":250,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8622,"line":251,"column":0},"end":{"offset":8622,"line":251,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8722,"line":254,"column":0},"end":{"offset":8722,"line":254,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8773,"line":255,"column":0},"end":{"offset":8773,"line":255,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8822,"line":256,"column":0},"end":{"offset":8822,"line":256,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8881,"line":257,"column":0},"end":{"offset":8881,"line":257,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8959,"line":260,"column":0},"end":{"offset":8959,"line":260,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8986,"line":262,"column":0},"end":{"offset":8986,"line":262,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9029,"line":264,"column":0},"end":{"offset":9029,"line":264,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9085,"line":265,"column":0},"end":{"offset":9085,"line":265,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9138,"line":266,"column":0},"end":{"offset":9138,"line":266,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9174,"line":267,"column":0},"end":{"offset":9174,"line":267,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9195,"line":268,"column":0},"end":{"offset":9195,"line":268,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9258,"line":269,"column":0},"end":{"offset":9258,"line":269,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9275,"line":270,"column":0},"end":{"offset":9275,"line":270,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9288,"line":271,"column":0},"end":{"offset":9288,"line":271,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9317,"line":272,"column":0},"end":{"offset":9317,"line":272,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9389,"line":273,"column":0},"end":{"offset":9389,"line":273,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":9398,"line":274,"column":0},"end":{"offset":9398,"line":274,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":52,"level":"warning","comment":"This method has 52 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/infra/repositories/care_plan_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanRepositoryImpl":{"codeSpan":{"start":{"offset":379,"line":10,"column":1},"end":{"offset":5672,"line":187,"column":2},"text":"class CarePlanRepositoryImpl implements CarePlanRepository {\n  final CarePlanRemoteDataSource dataSource;\n\n  CarePlanRepositoryImpl(this.dataSource);\n\n  @override\n  Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  ) async {\n    try {\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  ) async {\n    try {\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }\n\n  @override\n  Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }\n  }\n\n  @override\n  Future<Either<Failure, int>> getTodaysTaskCount(String planId) async {\n    try {\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    try {\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":8,"unitType":"methods","level":"none","comment":"This class has 8 methods.","context":[{"message":"constructor CarePlanRepositoryImpl increase metric value","codeSpan":{"start":{"offset":488,"line":13,"column":3},"end":{"offset":528,"line":13,"column":43},"text":"CarePlanRepositoryImpl(this.dataSource);"}},{"message":"method createPlan increase metric value","codeSpan":{"start":{"offset":544,"line":16,"column":3},"end":{"offset":1177,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }\n  }"}},{"message":"method updatePlan increase metric value","codeSpan":{"start":{"offset":1193,"line":38,"column":3},"end":{"offset":1826,"line":57,"column":4},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }\n  }"}},{"message":"method getPlansByDoctorId increase metric value","codeSpan":{"start":{"offset":1842,"line":60,"column":3},"end":{"offset":3019,"line":96,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  ) async {\n    try {\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }\n  }"}},{"message":"method getPlansByPatientId increase metric value","codeSpan":{"start":{"offset":3035,"line":99,"column":3},"end":{"offset":4116,"line":132,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  ) async {\n    try {\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"method registerExecution increase metric value","codeSpan":{"start":{"offset":4132,"line":135,"column":3},"end":{"offset":4808,"line":156,"column":4},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }\n  }"}},{"message":"method getTodaysTaskCount increase metric value","codeSpan":{"start":{"offset":4824,"line":159,"column":3},"end":{"offset":5190,"line":168,"column":4},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId) async {\n    try {\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }\n  }"}},{"message":"method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":5206,"line":171,"column":3},"end":{"offset":5670,"line":186,"column":4},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    try {\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.875,"level":"none","comment":"This class has a weight of 0.875.","context":[{"message":"public constructor CarePlanRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":488,"line":13,"column":3},"end":{"offset":528,"line":13,"column":43},"text":"CarePlanRepositoryImpl(this.dataSource);"}},{"message":"functional method createPlan increase metric value","codeSpan":{"start":{"offset":544,"line":16,"column":3},"end":{"offset":1177,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }\n  }"}},{"message":"functional method updatePlan increase metric value","codeSpan":{"start":{"offset":1193,"line":38,"column":3},"end":{"offset":1826,"line":57,"column":4},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }\n  }"}},{"message":"functional method getPlansByDoctorId increase metric value","codeSpan":{"start":{"offset":1842,"line":60,"column":3},"end":{"offset":3019,"line":96,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  ) async {\n    try {\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }\n  }"}},{"message":"functional method getPlansByPatientId increase metric value","codeSpan":{"start":{"offset":3035,"line":99,"column":3},"end":{"offset":4116,"line":132,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  ) async {\n    try {\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"functional method registerExecution increase metric value","codeSpan":{"start":{"offset":4132,"line":135,"column":3},"end":{"offset":4808,"line":156,"column":4},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }\n  }"}},{"message":"functional method getTodaysTaskCount increase metric value","codeSpan":{"start":{"offset":4824,"line":159,"column":3},"end":{"offset":5190,"line":168,"column":4},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId) async {\n    try {\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }\n  }"}},{"message":"functional method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":5206,"line":171,"column":3},"end":{"offset":5670,"line":186,"column":4},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    try {\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }\n  }"}}]}]}},"functions":{"CarePlanRepositoryImpl.CarePlanRepositoryImpl":{"codeSpan":{"start":{"offset":488,"line":13,"column":3},"end":{"offset":528,"line":13,"column":43},"text":"CarePlanRepositoryImpl(this.dataSource);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanRepositoryImpl.createPlan":{"codeSpan":{"start":{"offset":544,"line":16,"column":3},"end":{"offset":1177,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1000,"line":30,"column":7},"end":{"offset":1081,"line":32,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1082,"line":32,"column":7},"end":{"offset":1173,"line":34,"column":6},"text":"catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }"}}]},{"metricsId":"halstead-volume","value":194.51316411045156,"level":"none","comment":"This method has a halstead volume of 194.51316411045156.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":612,"line":16,"column":71},"end":{"offset":1177,"line":35,"column":4},"text":"{\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error creating plan'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":622,"line":17,"column":9},"end":{"offset":999,"line":30,"column":6},"text":"{\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.create(model);\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":18,"unitType":"lines","level":"none","comment":"This method has 18 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":614,"line":17,"column":0},"end":{"offset":614,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":624,"line":18,"column":0},"end":{"offset":624,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":659,"line":19,"column":0},"end":{"offset":659,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":680,"line":20,"column":0},"end":{"offset":680,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":707,"line":21,"column":0},"end":{"offset":707,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":746,"line":22,"column":0},"end":{"offset":746,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":779,"line":23,"column":0},"end":{"offset":779,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":814,"line":24,"column":0},"end":{"offset":814,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":849,"line":25,"column":0},"end":{"offset":849,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":880,"line":26,"column":0},"end":{"offset":880,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":915,"line":27,"column":0},"end":{"offset":915,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":924,"line":28,"column":0},"end":{"offset":924,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":962,"line":29,"column":0},"end":{"offset":962,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":994,"line":30,"column":0},"end":{"offset":994,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1031,"line":31,"column":0},"end":{"offset":1031,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1076,"line":32,"column":0},"end":{"offset":1076,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1094,"line":33,"column":0},"end":{"offset":1094,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1168,"line":34,"column":0},"end":{"offset":1168,"line":34,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.updatePlan":{"codeSpan":{"start":{"offset":1193,"line":38,"column":3},"end":{"offset":1826,"line":57,"column":4},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1649,"line":52,"column":7},"end":{"offset":1730,"line":54,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1731,"line":54,"column":7},"end":{"offset":1822,"line":56,"column":6},"text":"catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }"}}]},{"metricsId":"halstead-volume","value":194.51316411045156,"level":"none","comment":"This method has a halstead volume of 194.51316411045156.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1261,"line":38,"column":71},"end":{"offset":1826,"line":57,"column":4},"text":"{\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error updating plan'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1271,"line":39,"column":9},"end":{"offset":1648,"line":52,"column":6},"text":"{\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.update(model);\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":18,"unitType":"lines","level":"none","comment":"This method has 18 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1263,"line":39,"column":0},"end":{"offset":1263,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1273,"line":40,"column":0},"end":{"offset":1273,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1308,"line":41,"column":0},"end":{"offset":1308,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1329,"line":42,"column":0},"end":{"offset":1329,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1356,"line":43,"column":0},"end":{"offset":1356,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1395,"line":44,"column":0},"end":{"offset":1395,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1428,"line":45,"column":0},"end":{"offset":1428,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1463,"line":46,"column":0},"end":{"offset":1463,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1498,"line":47,"column":0},"end":{"offset":1498,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1529,"line":48,"column":0},"end":{"offset":1529,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1564,"line":49,"column":0},"end":{"offset":1564,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1573,"line":50,"column":0},"end":{"offset":1573,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1611,"line":51,"column":0},"end":{"offset":1611,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1643,"line":52,"column":0},"end":{"offset":1643,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1680,"line":53,"column":0},"end":{"offset":1680,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1725,"line":54,"column":0},"end":{"offset":1725,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1743,"line":55,"column":0},"end":{"offset":1743,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1817,"line":56,"column":0},"end":{"offset":1817,"line":56,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.getPlansByDoctorId":{"codeSpan":{"start":{"offset":1842,"line":60,"column":3},"end":{"offset":3019,"line":96,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  ) async {\n    try {\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2841,"line":91,"column":7},"end":{"offset":2922,"line":93,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2923,"line":93,"column":7},"end":{"offset":3015,"line":95,"column":6},"text":"catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }"}}]},{"metricsId":"halstead-volume","value":589.8675469486711,"level":"none","comment":"This method has a halstead volume of 589.8675469486711.","context":[]},{"metricsId":"lines-of-code","value":38,"unitType":"lines","level":"none","comment":"This method has 38 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1939,"line":62,"column":11},"end":{"offset":3019,"line":96,"column":4},"text":"{\n    try {\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching plans'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1949,"line":63,"column":9},"end":{"offset":2840,"line":91,"column":6},"text":"{\n      final models = await dataSource.get(doctorId: doctorId);\n\n      // Smart Fetching: Get Patient Names\n      final patientIds = models.map((e) => e.patientId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(patientIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }).toList();\n\n      return Right(entities);\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2387,"line":76,"column":43},"end":{"offset":2792,"line":88,"column":8},"text":"{\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          patientName: namesMap[model.patientId.trim()], // Populate name\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":27,"unitType":"lines","level":"none","comment":"This method has 27 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1941,"line":63,"column":0},"end":{"offset":1941,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1951,"line":64,"column":0},"end":{"offset":1951,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2058,"line":67,"column":0},"end":{"offset":2058,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2140,"line":69,"column":0},"end":{"offset":2140,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2209,"line":71,"column":0},"end":{"offset":2209,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2234,"line":72,"column":0},"end":{"offset":2234,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2270,"line":73,"column":0},"end":{"offset":2270,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2335,"line":74,"column":0},"end":{"offset":2335,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2345,"line":76,"column":0},"end":{"offset":2345,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2389,"line":77,"column":0},"end":{"offset":2389,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2420,"line":78,"column":0},"end":{"offset":2420,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2444,"line":79,"column":0},"end":{"offset":2444,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2474,"line":80,"column":0},"end":{"offset":2474,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2516,"line":81,"column":0},"end":{"offset":2516,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2552,"line":82,"column":0},"end":{"offset":2552,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2590,"line":83,"column":0},"end":{"offset":2590,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2628,"line":84,"column":0},"end":{"offset":2628,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2662,"line":85,"column":0},"end":{"offset":2662,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2700,"line":86,"column":0},"end":{"offset":2700,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2774,"line":87,"column":0},"end":{"offset":2774,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2785,"line":88,"column":0},"end":{"offset":2785,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2805,"line":90,"column":0},"end":{"offset":2805,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2835,"line":91,"column":0},"end":{"offset":2835,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2872,"line":92,"column":0},"end":{"offset":2872,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2917,"line":93,"column":0},"end":{"offset":2917,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2935,"line":94,"column":0},"end":{"offset":2935,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3010,"line":95,"column":0},"end":{"offset":3010,"line":95,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":49,"level":"alarm","comment":"This method has 49 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.getPlansByPatientId":{"codeSpan":{"start":{"offset":3035,"line":99,"column":3},"end":{"offset":4116,"line":132,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  ) async {\n    try {\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4031,"line":129,"column":7},"end":{"offset":4112,"line":131,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}}]},{"metricsId":"halstead-volume","value":574.4796978978362,"level":"none","comment":"This method has a halstead volume of 574.4796978978362.","context":[]},{"metricsId":"lines-of-code","value":35,"unitType":"lines","level":"none","comment":"This method has 35 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3134,"line":101,"column":11},"end":{"offset":4116,"line":132,"column":4},"text":"{\n    try {\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":3144,"line":102,"column":9},"end":{"offset":4030,"line":129,"column":6},"text":"{\n      final models = await dataSource.get(patientId: patientId);\n\n      // Smart Fetching: Get Doctor Names\n      final doctorIds = models.map((e) => e.doctorId.trim()).toSet().toList();\n\n      final usersData = await dataSource.getUsersByIds(doctorIds);\n\n      final namesMap = {\n        for (var user in usersData)\n          (user['id'] as String).trim(): user['name'] as String,\n      };\n\n      final entities = models.map((model) {\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }).toList();\n      return Right(entities);\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3580,"line":115,"column":43},"end":{"offset":3983,"line":127,"column":8},"text":"{\n        return CarePlanEntity(\n          id: model.id,\n          title: model.title,\n          description: model.description,\n          doctorId: model.doctorId,\n          patientId: model.patientId,\n          startDate: model.startDate,\n          endDate: model.endDate,\n          frequency: model.frequency,\n          doctorName: namesMap[model.doctorId.trim()], // Populate name\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":25,"unitType":"lines","level":"none","comment":"This method has 25 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3136,"line":102,"column":0},"end":{"offset":3136,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3146,"line":103,"column":0},"end":{"offset":3146,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3254,"line":106,"column":0},"end":{"offset":3254,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3334,"line":108,"column":0},"end":{"offset":3334,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3402,"line":110,"column":0},"end":{"offset":3402,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3427,"line":111,"column":0},"end":{"offset":3427,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3463,"line":112,"column":0},"end":{"offset":3463,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3528,"line":113,"column":0},"end":{"offset":3528,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3538,"line":115,"column":0},"end":{"offset":3538,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3582,"line":116,"column":0},"end":{"offset":3582,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3613,"line":117,"column":0},"end":{"offset":3613,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3637,"line":118,"column":0},"end":{"offset":3637,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3667,"line":119,"column":0},"end":{"offset":3667,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3709,"line":120,"column":0},"end":{"offset":3709,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3745,"line":121,"column":0},"end":{"offset":3745,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3783,"line":122,"column":0},"end":{"offset":3783,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3821,"line":123,"column":0},"end":{"offset":3821,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3855,"line":124,"column":0},"end":{"offset":3855,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3893,"line":125,"column":0},"end":{"offset":3893,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3965,"line":126,"column":0},"end":{"offset":3965,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3976,"line":127,"column":0},"end":{"offset":3976,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3995,"line":128,"column":0},"end":{"offset":3995,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4025,"line":129,"column":0},"end":{"offset":4025,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4062,"line":130,"column":0},"end":{"offset":4062,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4107,"line":131,"column":0},"end":{"offset":4107,"line":131,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.registerExecution":{"codeSpan":{"start":{"offset":4132,"line":135,"column":3},"end":{"offset":4808,"line":156,"column":4},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan) async {\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4606,"line":149,"column":7},"end":{"offset":4687,"line":151,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4688,"line":151,"column":7},"end":{"offset":4804,"line":155,"column":6},"text":"catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }"}}]},{"metricsId":"halstead-volume","value":194.51316411045156,"level":"none","comment":"This method has a halstead volume of 194.51316411045156.","context":[]},{"metricsId":"lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4207,"line":135,"column":78},"end":{"offset":4808,"line":156,"column":4},"text":"{\n    try {\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(\n        ServerFailure('Unexpected error registering execution'),\n      );\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":4217,"line":136,"column":9},"end":{"offset":4605,"line":149,"column":6},"text":"{\n      final model = CarePlanModel(\n        id: plan.id,\n        title: plan.title,\n        description: plan.description,\n        doctorId: plan.doctorId,\n        patientId: plan.patientId,\n        startDate: plan.startDate,\n        endDate: plan.endDate,\n        frequency: plan.frequency,\n      );\n      await dataSource.registerExecution(model);\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":4209,"line":136,"column":0},"end":{"offset":4209,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4219,"line":137,"column":0},"end":{"offset":4219,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4254,"line":138,"column":0},"end":{"offset":4254,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4275,"line":139,"column":0},"end":{"offset":4275,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4302,"line":140,"column":0},"end":{"offset":4302,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4341,"line":141,"column":0},"end":{"offset":4341,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4374,"line":142,"column":0},"end":{"offset":4374,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4409,"line":143,"column":0},"end":{"offset":4409,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4444,"line":144,"column":0},"end":{"offset":4444,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4475,"line":145,"column":0},"end":{"offset":4475,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4510,"line":146,"column":0},"end":{"offset":4510,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4519,"line":147,"column":0},"end":{"offset":4519,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4568,"line":148,"column":0},"end":{"offset":4568,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4600,"line":149,"column":0},"end":{"offset":4600,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4637,"line":150,"column":0},"end":{"offset":4637,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4682,"line":151,"column":0},"end":{"offset":4682,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4700,"line":152,"column":0},"end":{"offset":4700,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4725,"line":153,"column":0},"end":{"offset":4725,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4790,"line":154,"column":0},"end":{"offset":4790,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4799,"line":155,"column":0},"end":{"offset":4799,"line":155,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":56,"level":"warning","comment":"This method has 56 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.getTodaysTaskCount":{"codeSpan":{"start":{"offset":4824,"line":159,"column":3},"end":{"offset":5190,"line":168,"column":4},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId) async {\n    try {\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":5007,"line":163,"column":7},"end":{"offset":5088,"line":165,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":5089,"line":165,"column":7},"end":{"offset":5186,"line":167,"column":6},"text":"catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }"}}]},{"metricsId":"halstead-volume","value":72.33974351909447,"level":"none","comment":"This method has a halstead volume of 72.33974351909447.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4893,"line":159,"column":72},"end":{"offset":5190,"line":168,"column":4},"text":"{\n    try {\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task count'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":4903,"line":160,"column":9},"end":{"offset":5006,"line":163,"column":6},"text":"{\n      final logs = await dataSource.getTodaysTaskLogs(planId);\n      return Right(logs.length);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":4895,"line":160,"column":0},"end":{"offset":4895,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4905,"line":161,"column":0},"end":{"offset":4905,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4968,"line":162,"column":0},"end":{"offset":4968,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5001,"line":163,"column":0},"end":{"offset":5001,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5038,"line":164,"column":0},"end":{"offset":5038,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5083,"line":165,"column":0},"end":{"offset":5083,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5101,"line":166,"column":0},"end":{"offset":5101,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5181,"line":167,"column":0},"end":{"offset":5181,"line":167,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanRepositoryImpl.getTaskLogsForPatientFromDate":{"codeSpan":{"start":{"offset":5206,"line":171,"column":3},"end":{"offset":5670,"line":186,"column":4},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  ) async {\n    try {\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":5488,"line":181,"column":7},"end":{"offset":5569,"line":183,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":5570,"line":183,"column":7},"end":{"offset":5666,"line":185,"column":6},"text":"catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }"}}]},{"metricsId":"halstead-volume","value":72.33974351909447,"level":"none","comment":"This method has a halstead volume of 72.33974351909447.","context":[]},{"metricsId":"lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5331,"line":174,"column":11},"end":{"offset":5670,"line":186,"column":4},"text":"{\n    try {\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return const Left(ServerFailure('Unexpected error fetching task logs'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":5341,"line":175,"column":9},"end":{"offset":5487,"line":181,"column":6},"text":"{\n      final logs = await dataSource.getTaskLogsForPatientFromDate(\n        patientId,\n        fromDate,\n      );\n      return Right(logs);\n    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5333,"line":175,"column":0},"end":{"offset":5333,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5343,"line":176,"column":0},"end":{"offset":5343,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5410,"line":177,"column":0},"end":{"offset":5410,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5429,"line":178,"column":0},"end":{"offset":5429,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5447,"line":179,"column":0},"end":{"offset":5447,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5456,"line":180,"column":0},"end":{"offset":5456,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5482,"line":181,"column":0},"end":{"offset":5482,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5519,"line":182,"column":0},"end":{"offset":5519,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5564,"line":183,"column":0},"end":{"offset":5564,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5582,"line":184,"column":0},"end":{"offset":5582,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5661,"line":185,"column":0},"end":{"offset":5661,"line":185,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":64,"level":"warning","comment":"This method has 64 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/infra/models/care_plan_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanModel":{"codeSpan":{"start":{"offset":128,"line":4,"column":1},"end":{"offset":2465,"line":71,"column":2},"text":"class CarePlanModel extends CarePlanEntity {\n  const CarePlanModel({\n    required super.id,\n    required super.title,\n    required super.description,\n    required super.doctorId,\n    required super.patientId,\n    required super.startDate,\n    super.doctorName,\n    super.frequency,\n    super.endDate,\n  });\n\n  factory CarePlanModel.fromParse(ParseObject object) {\n    // Handling doctor pointer or id\n    String doctorId = '';\n    String doctorName = '';\n    if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }\n\n    return CarePlanModel(\n      id: object.objectId ?? '',\n      title: object.get<String>('title') ?? '',\n      description: object.get<String>('description') ?? '',\n      doctorId: doctorId,\n      patientId: object.get<String>('patientId') ?? '',\n      startDate: object.get<DateTime>('startDate') ?? DateTime.now(),\n      doctorName: doctorName.isNotEmpty ? doctorName : null,\n      frequency: object.get<int>('frequency'),\n      endDate: object.get<DateTime>('endDate'),\n    );\n  }\n\n  ParseObject toParse() {\n    final parseObject = ParseObject('CarePlan');\n    if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }\n    parseObject.set('title', title);\n    parseObject.set('description', description);\n    parseObject.set('patientId', patientId);\n    parseObject.set('startDate', startDate);\n    if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }\n    if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }\n    // Note: 'doctor' pointer is better handled in the DataSource where we have access to context/currentUser\n    // or we can expect it to be passed.\n    // However, adhering to the prompt \"In create... set title, description and create a Pointer for the doctor (current User)\",\n    // this logic seems to belong to the DataSource.\n\n    return parseObject;\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"constructor CarePlanModel increase metric value","codeSpan":{"start":{"offset":175,"line":5,"column":3},"end":{"offset":434,"line":15,"column":6},"text":"const CarePlanModel({\n    required super.id,\n    required super.title,\n    required super.description,\n    required super.doctorId,\n    required super.patientId,\n    required super.startDate,\n    super.doctorName,\n    super.frequency,\n    super.endDate,\n  });"}},{"message":"constructor fromParse increase metric value","codeSpan":{"start":{"offset":438,"line":17,"column":3},"end":{"offset":1535,"line":45,"column":4},"text":"factory CarePlanModel.fromParse(ParseObject object) {\n    // Handling doctor pointer or id\n    String doctorId = '';\n    String doctorName = '';\n    if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }\n\n    return CarePlanModel(\n      id: object.objectId ?? '',\n      title: object.get<String>('title') ?? '',\n      description: object.get<String>('description') ?? '',\n      doctorId: doctorId,\n      patientId: object.get<String>('patientId') ?? '',\n      startDate: object.get<DateTime>('startDate') ?? DateTime.now(),\n      doctorName: doctorName.isNotEmpty ? doctorName : null,\n      frequency: object.get<int>('frequency'),\n      endDate: object.get<DateTime>('endDate'),\n    );\n  }"}},{"message":"method toParse increase metric value","codeSpan":{"start":{"offset":1539,"line":47,"column":3},"end":{"offset":2463,"line":70,"column":4},"text":"ParseObject toParse() {\n    final parseObject = ParseObject('CarePlan');\n    if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }\n    parseObject.set('title', title);\n    parseObject.set('description', description);\n    parseObject.set('patientId', patientId);\n    parseObject.set('startDate', startDate);\n    if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }\n    if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }\n    // Note: 'doctor' pointer is better handled in the DataSource where we have access to context/currentUser\n    // or we can expect it to be passed.\n    // However, adhering to the prompt \"In create... set title, description and create a Pointer for the doctor (current User)\",\n    // this logic seems to belong to the DataSource.\n\n    return parseObject;\n  }"}}]},{"metricsId":"weight-of-class","value":0.3333333333333333,"level":"none","comment":"This class has a weight of 0.3333333333333333.","context":[{"message":"public constructor CarePlanModel decrease metric value","codeSpan":{"start":{"offset":175,"line":5,"column":3},"end":{"offset":434,"line":15,"column":6},"text":"const CarePlanModel({\n    required super.id,\n    required super.title,\n    required super.description,\n    required super.doctorId,\n    required super.patientId,\n    required super.startDate,\n    super.doctorName,\n    super.frequency,\n    super.endDate,\n  });"}},{"message":"public constructor fromParse decrease metric value","codeSpan":{"start":{"offset":438,"line":17,"column":3},"end":{"offset":1535,"line":45,"column":4},"text":"factory CarePlanModel.fromParse(ParseObject object) {\n    // Handling doctor pointer or id\n    String doctorId = '';\n    String doctorName = '';\n    if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }\n\n    return CarePlanModel(\n      id: object.objectId ?? '',\n      title: object.get<String>('title') ?? '',\n      description: object.get<String>('description') ?? '',\n      doctorId: doctorId,\n      patientId: object.get<String>('patientId') ?? '',\n      startDate: object.get<DateTime>('startDate') ?? DateTime.now(),\n      doctorName: doctorName.isNotEmpty ? doctorName : null,\n      frequency: object.get<int>('frequency'),\n      endDate: object.get<DateTime>('endDate'),\n    );\n  }"}},{"message":"functional method toParse increase metric value","codeSpan":{"start":{"offset":1539,"line":47,"column":3},"end":{"offset":2463,"line":70,"column":4},"text":"ParseObject toParse() {\n    final parseObject = ParseObject('CarePlan');\n    if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }\n    parseObject.set('title', title);\n    parseObject.set('description', description);\n    parseObject.set('patientId', patientId);\n    parseObject.set('startDate', startDate);\n    if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }\n    if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }\n    // Note: 'doctor' pointer is better handled in the DataSource where we have access to context/currentUser\n    // or we can expect it to be passed.\n    // However, adhering to the prompt \"In create... set title, description and create a Pointer for the doctor (current User)\",\n    // this logic seems to belong to the DataSource.\n\n    return parseObject;\n  }"}}]}]}},"functions":{"CarePlanModel.CarePlanModel":{"codeSpan":{"start":{"offset":175,"line":5,"column":3},"end":{"offset":434,"line":15,"column":6},"text":"const CarePlanModel({\n    required super.id,\n    required super.title,\n    required super.description,\n    required super.doctorId,\n    required super.patientId,\n    required super.startDate,\n    super.doctorName,\n    super.frequency,\n    super.endDate,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This constructor has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanModel.fromParse":{"codeSpan":{"start":{"offset":438,"line":17,"column":3},"end":{"offset":1535,"line":45,"column":4},"text":"factory CarePlanModel.fromParse(ParseObject object) {\n    // Handling doctor pointer or id\n    String doctorId = '';\n    String doctorName = '';\n    if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }\n\n    return CarePlanModel(\n      id: object.objectId ?? '',\n      title: object.get<String>('title') ?? '',\n      description: object.get<String>('description') ?? '',\n      doctorId: doctorId,\n      patientId: object.get<String>('patientId') ?? '',\n      startDate: object.get<DateTime>('startDate') ?? DateTime.now(),\n      doctorName: doctorName.isNotEmpty ? doctorName : null,\n      frequency: object.get<int>('frequency'),\n      endDate: object.get<DateTime>('endDate'),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":13,"level":"alarm","comment":"This constructor has a cyclomatic complexity of 13, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":587,"line":21,"column":5},"end":{"offset":1048,"line":32,"column":6},"text":"if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":750,"line":24,"column":7},"end":{"offset":1042,"line":31,"column":8},"text":"if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":801,"line":25,"column":33},"end":{"offset":803,"line":25,"column":35},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":900,"line":28,"column":11},"end":{"offset":961,"line":28,"column":72},"text":"if (fullName != null && fullName.isNotEmpty) return fullName;"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":921,"line":28,"column":32},"end":{"offset":923,"line":28,"column":34},"text":"&&"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1007,"line":29,"column":46},"end":{"offset":1009,"line":29,"column":48},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1102,"line":35,"column":27},"end":{"offset":1104,"line":35,"column":29},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1150,"line":36,"column":42},"end":{"offset":1152,"line":36,"column":44},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1210,"line":37,"column":54},"end":{"offset":1212,"line":37,"column":56},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1292,"line":39,"column":50},"end":{"offset":1294,"line":39,"column":52},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1350,"line":40,"column":52},"end":{"offset":1352,"line":40,"column":54},"text":"??"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":1387,"line":41,"column":19},"end":{"offset":1428,"line":41,"column":60},"text":"doctorName.isNotEmpty ? doctorName : null"}}]},{"metricsId":"halstead-volume","value":562.4605258807396,"level":"none","comment":"This constructor has a halstead volume of 562.4605258807396.","context":[]},{"metricsId":"lines-of-code","value":29,"unitType":"lines","level":"none","comment":"This constructor has 29 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This constructor has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":490,"line":17,"column":55},"end":{"offset":1535,"line":45,"column":4},"text":"{\n    // Handling doctor pointer or id\n    String doctorId = '';\n    String doctorName = '';\n    if (object.get('doctor') != null) {\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }\n\n    return CarePlanModel(\n      id: object.objectId ?? '',\n      title: object.get<String>('title') ?? '',\n      description: object.get<String>('description') ?? '',\n      doctorId: doctorId,\n      patientId: object.get<String>('patientId') ?? '',\n      startDate: object.get<DateTime>('startDate') ?? DateTime.now(),\n      doctorName: doctorName.isNotEmpty ? doctorName : null,\n      frequency: object.get<int>('frequency'),\n      endDate: object.get<DateTime>('endDate'),\n    );\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":621,"line":21,"column":39},"end":{"offset":1048,"line":32,"column":6},"text":"{\n      // If included, we might get the object, otherwise just the ptr\n      var doc = object.get<ParseObject>('doctor');\n      if (doc != null) {\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":767,"line":24,"column":24},"end":{"offset":1042,"line":31,"column":8},"text":"{\n        doctorId = doc.objectId ?? '';\n        doctorName = () {\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }();\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":832,"line":26,"column":25},"end":{"offset":1031,"line":30,"column":10},"text":"{\n          final fullName = doc.get<String>('fullName');\n          if (fullName != null && fullName.isNotEmpty) return fullName;\n          return doc.get<String>('username') ?? 'Sem Nome';\n        }"}}]},{"metricsId":"source-lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This constructor has 24 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":529,"line":19,"column":0},"end":{"offset":529,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":555,"line":20,"column":0},"end":{"offset":555,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":583,"line":21,"column":0},"end":{"offset":583,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":693,"line":23,"column":0},"end":{"offset":693,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":744,"line":24,"column":0},"end":{"offset":744,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":769,"line":25,"column":0},"end":{"offset":769,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":808,"line":26,"column":0},"end":{"offset":808,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":834,"line":27,"column":0},"end":{"offset":834,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":890,"line":28,"column":0},"end":{"offset":890,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":962,"line":29,"column":0},"end":{"offset":962,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1022,"line":30,"column":0},"end":{"offset":1022,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1035,"line":31,"column":0},"end":{"offset":1035,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1043,"line":32,"column":0},"end":{"offset":1043,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1050,"line":34,"column":0},"end":{"offset":1050,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1076,"line":35,"column":0},"end":{"offset":1076,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1109,"line":36,"column":0},"end":{"offset":1109,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1157,"line":37,"column":0},"end":{"offset":1157,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1217,"line":38,"column":0},"end":{"offset":1217,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1243,"line":39,"column":0},"end":{"offset":1243,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1299,"line":40,"column":0},"end":{"offset":1299,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1369,"line":41,"column":0},"end":{"offset":1369,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1430,"line":42,"column":0},"end":{"offset":1430,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1477,"line":43,"column":0},"end":{"offset":1477,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1525,"line":44,"column":0},"end":{"offset":1525,"line":44,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":49,"level":"alarm","comment":"This constructor has 49 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CarePlanModel.toParse":{"codeSpan":{"start":{"offset":1539,"line":47,"column":3},"end":{"offset":2463,"line":70,"column":4},"text":"ParseObject toParse() {\n    final parseObject = ParseObject('CarePlan');\n    if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }\n    parseObject.set('title', title);\n    parseObject.set('description', description);\n    parseObject.set('patientId', patientId);\n    parseObject.set('startDate', startDate);\n    if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }\n    if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }\n    // Note: 'doctor' pointer is better handled in the DataSource where we have access to context/currentUser\n    // or we can expect it to be passed.\n    // However, adhering to the prompt \"In create... set title, description and create a Pointer for the doctor (current User)\",\n    // this logic seems to belong to the DataSource.\n\n    return parseObject;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1616,"line":49,"column":5},"end":{"offset":1675,"line":51,"column":6},"text":"if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1856,"line":56,"column":5},"end":{"offset":1934,"line":58,"column":6},"text":"if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1939,"line":59,"column":5},"end":{"offset":2101,"line":63,"column":6},"text":"if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }"}}]},{"metricsId":"halstead-volume","value":144.0,"level":"none","comment":"This method has a halstead volume of 144.0.","context":[]},{"metricsId":"lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1561,"line":47,"column":25},"end":{"offset":2463,"line":70,"column":4},"text":"{\n    final parseObject = ParseObject('CarePlan');\n    if (id.isNotEmpty) {\n      parseObject.objectId = id;\n    }\n    parseObject.set('title', title);\n    parseObject.set('description', description);\n    parseObject.set('patientId', patientId);\n    parseObject.set('startDate', startDate);\n    if (frequency != null) {\n      parseObject.set('frequency', frequency!);\n    }\n    if (endDate != null) {\n      parseObject.set('endDate', endDate!);\n    } else {\n      parseObject.unset('endDate'); // Explicitly unset if null (continuous)\n    }\n    // Note: 'doctor' pointer is better handled in the DataSource where we have access to context/currentUser\n    // or we can expect it to be passed.\n    // However, adhering to the prompt \"In create... set title, description and create a Pointer for the doctor (current User)\",\n    // this logic seems to belong to the DataSource.\n\n    return parseObject;\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1635,"line":49,"column":24},"end":{"offset":1675,"line":51,"column":6},"text":"{\n      parseObject.objectId = id;\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1563,"line":48,"column":0},"end":{"offset":1563,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1612,"line":49,"column":0},"end":{"offset":1612,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1637,"line":50,"column":0},"end":{"offset":1637,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1670,"line":51,"column":0},"end":{"offset":1670,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1676,"line":52,"column":0},"end":{"offset":1676,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1713,"line":53,"column":0},"end":{"offset":1713,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1762,"line":54,"column":0},"end":{"offset":1762,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1807,"line":55,"column":0},"end":{"offset":1807,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1852,"line":56,"column":0},"end":{"offset":1852,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1881,"line":57,"column":0},"end":{"offset":1881,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1929,"line":58,"column":0},"end":{"offset":1929,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1935,"line":59,"column":0},"end":{"offset":1935,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1962,"line":60,"column":0},"end":{"offset":1962,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2006,"line":61,"column":0},"end":{"offset":2006,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2019,"line":62,"column":0},"end":{"offset":2019,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2096,"line":63,"column":0},"end":{"offset":2096,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2436,"line":69,"column":0},"end":{"offset":2436,"line":69,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":58,"level":"warning","comment":"This method has 58 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/infra/models/task_log.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"TaskLog":{"codeSpan":{"start":{"offset":128,"line":4,"column":1},"end":{"offset":796,"line":27,"column":2},"text":"class TaskLog extends ParseObject implements ParseCloneable {\n  TaskLog() : super('TaskLog');\n\n  TaskLog.clone() : this();\n\n  @override\n  TaskLog clone(Map<String, dynamic> map) => TaskLog.clone()..fromJson(map);\n\n  static const String keyPlanId = 'planId';\n  static const String keyExecutedAt = 'executedAt';\n\n  factory TaskLog.createForPlan(CarePlanEntity plan) {\n    final log = TaskLog();\n    log.set(keyPlanId, ParseObject('CarePlan')..objectId = plan.id);\n    log.set(keyExecutedAt, DateTime.now());\n\n    final acl = ParseACL();\n    acl.setPublicReadAccess(allowed: true);\n    acl.setPublicWriteAccess(allowed: false);\n    log.setACL(acl);\n\n    return log;\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"constructor TaskLog increase metric value","codeSpan":{"start":{"offset":192,"line":5,"column":3},"end":{"offset":221,"line":5,"column":32},"text":"TaskLog() : super('TaskLog');"}},{"message":"constructor clone increase metric value","codeSpan":{"start":{"offset":225,"line":7,"column":3},"end":{"offset":250,"line":7,"column":28},"text":"TaskLog.clone() : this();"}},{"message":"method clone increase metric value","codeSpan":{"start":{"offset":266,"line":10,"column":3},"end":{"offset":340,"line":10,"column":77},"text":"TaskLog clone(Map<String, dynamic> map) => TaskLog.clone()..fromJson(map);"}},{"message":"constructor createForPlan increase metric value","codeSpan":{"start":{"offset":441,"line":15,"column":3},"end":{"offset":794,"line":26,"column":4},"text":"factory TaskLog.createForPlan(CarePlanEntity plan) {\n    final log = TaskLog();\n    log.set(keyPlanId, ParseObject('CarePlan')..objectId = plan.id);\n    log.set(keyExecutedAt, DateTime.now());\n\n    final acl = ParseACL();\n    acl.setPublicReadAccess(allowed: true);\n    acl.setPublicWriteAccess(allowed: false);\n    log.setACL(acl);\n\n    return log;\n  }"}}]},{"metricsId":"weight-of-class","value":0.25,"level":"none","comment":"This class has a weight of 0.25.","context":[{"message":"public constructor TaskLog decrease metric value","codeSpan":{"start":{"offset":192,"line":5,"column":3},"end":{"offset":221,"line":5,"column":32},"text":"TaskLog() : super('TaskLog');"}},{"message":"public constructor clone decrease metric value","codeSpan":{"start":{"offset":225,"line":7,"column":3},"end":{"offset":250,"line":7,"column":28},"text":"TaskLog.clone() : this();"}},{"message":"functional method clone increase metric value","codeSpan":{"start":{"offset":266,"line":10,"column":3},"end":{"offset":340,"line":10,"column":77},"text":"TaskLog clone(Map<String, dynamic> map) => TaskLog.clone()..fromJson(map);"}},{"message":"public constructor createForPlan decrease metric value","codeSpan":{"start":{"offset":441,"line":15,"column":3},"end":{"offset":794,"line":26,"column":4},"text":"factory TaskLog.createForPlan(CarePlanEntity plan) {\n    final log = TaskLog();\n    log.set(keyPlanId, ParseObject('CarePlan')..objectId = plan.id);\n    log.set(keyExecutedAt, DateTime.now());\n\n    final acl = ParseACL();\n    acl.setPublicReadAccess(allowed: true);\n    acl.setPublicWriteAccess(allowed: false);\n    log.setACL(acl);\n\n    return log;\n  }"}}]}]}},"functions":{"TaskLog.TaskLog":{"codeSpan":{"start":{"offset":192,"line":5,"column":3},"end":{"offset":221,"line":5,"column":32},"text":"TaskLog() : super('TaskLog');"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"TaskLog.clone":{"codeSpan":{"start":{"offset":266,"line":10,"column":3},"end":{"offset":340,"line":10,"column":77},"text":"TaskLog clone(Map<String, dynamic> map) => TaskLog.clone()..fromJson(map);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":11.60964047443681,"level":"none","comment":"This method has a halstead volume of 11.60964047443681.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":264,"line":10,"column":0},"end":{"offset":264,"line":10,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This method has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]},"TaskLog.createForPlan":{"codeSpan":{"start":{"offset":441,"line":15,"column":3},"end":{"offset":794,"line":26,"column":4},"text":"factory TaskLog.createForPlan(CarePlanEntity plan) {\n    final log = TaskLog();\n    log.set(keyPlanId, ParseObject('CarePlan')..objectId = plan.id);\n    log.set(keyExecutedAt, DateTime.now());\n\n    final acl = ParseACL();\n    acl.setPublicReadAccess(allowed: true);\n    acl.setPublicWriteAccess(allowed: false);\n    log.setACL(acl);\n\n    return log;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":127.43782540330756,"level":"none","comment":"This constructor has a halstead volume of 127.43782540330756.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This constructor has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This constructor has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":492,"line":15,"column":54},"end":{"offset":794,"line":26,"column":4},"text":"{\n    final log = TaskLog();\n    log.set(keyPlanId, ParseObject('CarePlan')..objectId = plan.id);\n    log.set(keyExecutedAt, DateTime.now());\n\n    final acl = ParseACL();\n    acl.setPublicReadAccess(allowed: true);\n    acl.setPublicWriteAccess(allowed: false);\n    log.setACL(acl);\n\n    return log;\n  }"}}]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This constructor has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":494,"line":16,"column":0},"end":{"offset":494,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":521,"line":17,"column":0},"end":{"offset":521,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":590,"line":18,"column":0},"end":{"offset":590,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":635,"line":20,"column":0},"end":{"offset":635,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":663,"line":21,"column":0},"end":{"offset":663,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":707,"line":22,"column":0},"end":{"offset":707,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":753,"line":23,"column":0},"end":{"offset":753,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":775,"line":25,"column":0},"end":{"offset":775,"line":25,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":66,"level":"warning","comment":"This constructor has 66 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/domain/repositories/care_plan_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanRepository":{"codeSpan":{"start":{"offset":170,"line":6,"column":1},"end":{"offset":787,"line":21,"column":2},"text":"abstract class CarePlanRepository {\n  Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan);\n  Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan);\n  Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  );\n  Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  );\n  Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan);\n  Future<Either<Failure, int>> getTodaysTaskCount(String planId);\n  Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );\n}"},"metrics":[{"metricsId":"number-of-methods","value":7,"unitType":"methods","level":"none","comment":"This class has 7 methods.","context":[{"message":"method createPlan increase metric value","codeSpan":{"start":{"offset":208,"line":7,"column":3},"end":{"offset":270,"line":7,"column":65},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan);"}},{"message":"method updatePlan increase metric value","codeSpan":{"start":{"offset":273,"line":8,"column":3},"end":{"offset":335,"line":8,"column":65},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan);"}},{"message":"method getPlansByPatientId increase metric value","codeSpan":{"start":{"offset":338,"line":9,"column":3},"end":{"offset":431,"line":11,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  );"}},{"message":"method getPlansByDoctorId increase metric value","codeSpan":{"start":{"offset":434,"line":12,"column":3},"end":{"offset":525,"line":14,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  );"}},{"message":"method registerExecution increase metric value","codeSpan":{"start":{"offset":528,"line":15,"column":3},"end":{"offset":597,"line":15,"column":72},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan);"}},{"message":"method getTodaysTaskCount increase metric value","codeSpan":{"start":{"offset":600,"line":16,"column":3},"end":{"offset":663,"line":16,"column":66},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId);"}},{"message":"method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":666,"line":17,"column":3},"end":{"offset":785,"line":20,"column":5},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method createPlan increase metric value","codeSpan":{"start":{"offset":208,"line":7,"column":3},"end":{"offset":270,"line":7,"column":65},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan);"}},{"message":"functional method updatePlan increase metric value","codeSpan":{"start":{"offset":273,"line":8,"column":3},"end":{"offset":335,"line":8,"column":65},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan);"}},{"message":"functional method getPlansByPatientId increase metric value","codeSpan":{"start":{"offset":338,"line":9,"column":3},"end":{"offset":431,"line":11,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  );"}},{"message":"functional method getPlansByDoctorId increase metric value","codeSpan":{"start":{"offset":434,"line":12,"column":3},"end":{"offset":525,"line":14,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  );"}},{"message":"functional method registerExecution increase metric value","codeSpan":{"start":{"offset":528,"line":15,"column":3},"end":{"offset":597,"line":15,"column":72},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan);"}},{"message":"functional method getTodaysTaskCount increase metric value","codeSpan":{"start":{"offset":600,"line":16,"column":3},"end":{"offset":663,"line":16,"column":66},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId);"}},{"message":"functional method getTaskLogsForPatientFromDate increase metric value","codeSpan":{"start":{"offset":666,"line":17,"column":3},"end":{"offset":785,"line":20,"column":5},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"}}]}]}},"functions":{"CarePlanRepository.createPlan":{"codeSpan":{"start":{"offset":208,"line":7,"column":3},"end":{"offset":270,"line":7,"column":65},"text":"Future<Either<Failure, Unit>> createPlan(CarePlanEntity plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.updatePlan":{"codeSpan":{"start":{"offset":273,"line":8,"column":3},"end":{"offset":335,"line":8,"column":65},"text":"Future<Either<Failure, Unit>> updatePlan(CarePlanEntity plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.getPlansByPatientId":{"codeSpan":{"start":{"offset":338,"line":9,"column":3},"end":{"offset":431,"line":11,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByPatientId(\n    String patientId,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.getPlansByDoctorId":{"codeSpan":{"start":{"offset":434,"line":12,"column":3},"end":{"offset":525,"line":14,"column":5},"text":"Future<Either<Failure, List<CarePlanEntity>>> getPlansByDoctorId(\n    String doctorId,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.registerExecution":{"codeSpan":{"start":{"offset":528,"line":15,"column":3},"end":{"offset":597,"line":15,"column":72},"text":"Future<Either<Failure, Unit>> registerExecution(CarePlanEntity plan);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.getTodaysTaskCount":{"codeSpan":{"start":{"offset":600,"line":16,"column":3},"end":{"offset":663,"line":16,"column":66},"text":"Future<Either<Failure, int>> getTodaysTaskCount(String planId);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CarePlanRepository.getTaskLogsForPatientFromDate":{"codeSpan":{"start":{"offset":666,"line":17,"column":3},"end":{"offset":785,"line":20,"column":5},"text":"Future<Either<Failure, List<TaskLog>>> getTaskLogsForPatientFromDate(\n    String patientId,\n    DateTime fromDate,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/domain/usecases/get_plans_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetPlansUseCase":{"codeSpan":{"start":{"offset":179,"line":6,"column":1},"end":{"offset":554,"line":18,"column":2},"text":"class GetPlansUseCase {\n  final CarePlanRepository repository;\n\n  GetPlansUseCase(this.repository);\n\n  Future<Either<Failure, List<CarePlanEntity>>> byPatientId(String patientId) {\n    return repository.getPlansByPatientId(patientId);\n  }\n\n  Future<Either<Failure, List<CarePlanEntity>>> byDoctorId(String doctorId) {\n    return repository.getPlansByDoctorId(doctorId);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"constructor GetPlansUseCase increase metric value","codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":278,"line":9,"column":36},"text":"GetPlansUseCase(this.repository);"}},{"message":"method byPatientId increase metric value","codeSpan":{"start":{"offset":282,"line":11,"column":3},"end":{"offset":417,"line":13,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byPatientId(String patientId) {\n    return repository.getPlansByPatientId(patientId);\n  }"}},{"message":"method byDoctorId increase metric value","codeSpan":{"start":{"offset":421,"line":15,"column":3},"end":{"offset":552,"line":17,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byDoctorId(String doctorId) {\n    return repository.getPlansByDoctorId(doctorId);\n  }"}}]},{"metricsId":"weight-of-class","value":0.6666666666666666,"level":"none","comment":"This class has a weight of 0.6666666666666666.","context":[{"message":"public constructor GetPlansUseCase decrease metric value","codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":278,"line":9,"column":36},"text":"GetPlansUseCase(this.repository);"}},{"message":"functional method byPatientId increase metric value","codeSpan":{"start":{"offset":282,"line":11,"column":3},"end":{"offset":417,"line":13,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byPatientId(String patientId) {\n    return repository.getPlansByPatientId(patientId);\n  }"}},{"message":"functional method byDoctorId increase metric value","codeSpan":{"start":{"offset":421,"line":15,"column":3},"end":{"offset":552,"line":17,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byDoctorId(String doctorId) {\n    return repository.getPlansByDoctorId(doctorId);\n  }"}}]}]}},"functions":{"GetPlansUseCase.GetPlansUseCase":{"codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":278,"line":9,"column":36},"text":"GetPlansUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetPlansUseCase.byPatientId":{"codeSpan":{"start":{"offset":282,"line":11,"column":3},"end":{"offset":417,"line":13,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byPatientId(String patientId) {\n    return repository.getPlansByPatientId(patientId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":358,"line":11,"column":79},"end":{"offset":417,"line":13,"column":4},"text":"{\n    return repository.getPlansByPatientId(patientId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":360,"line":12,"column":0},"end":{"offset":360,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This method has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]},"GetPlansUseCase.byDoctorId":{"codeSpan":{"start":{"offset":421,"line":15,"column":3},"end":{"offset":552,"line":17,"column":4},"text":"Future<Either<Failure, List<CarePlanEntity>>> byDoctorId(String doctorId) {\n    return repository.getPlansByDoctorId(doctorId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":495,"line":15,"column":77},"end":{"offset":552,"line":17,"column":4},"text":"{\n    return repository.getPlansByDoctorId(doctorId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":497,"line":16,"column":0},"end":{"offset":497,"line":16,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This method has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/domain/usecases/create_care_plan_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CreateCarePlanUseCase":{"codeSpan":{"start":{"offset":179,"line":6,"column":1},"end":{"offset":509,"line":17,"column":2},"text":"class CreateCarePlanUseCase {\n  final CarePlanRepository repository;\n\n  CreateCarePlanUseCase(this.repository);\n\n  Future<Either<Failure, Unit>> call(CarePlanEntity plan) async {\n    if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }\n    return repository.createPlan(plan);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CreateCarePlanUseCase increase metric value","codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"CreateCarePlanUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":507,"line":16,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) async {\n    if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }\n    return repository.createPlan(plan);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor CreateCarePlanUseCase decrease metric value","codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"CreateCarePlanUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":507,"line":16,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) async {\n    if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }\n    return repository.createPlan(plan);\n  }"}}]}]}},"functions":{"CreateCarePlanUseCase.CreateCarePlanUseCase":{"codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"CreateCarePlanUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CreateCarePlanUseCase.call":{"codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":507,"line":16,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) async {\n    if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }\n    return repository.createPlan(plan);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":362,"line":12,"column":5},"end":{"offset":463,"line":14,"column":6},"text":"if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }"}}]},{"metricsId":"halstead-volume","value":22.458839376460833,"level":"none","comment":"This method has a halstead volume of 22.458839376460833.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":356,"line":11,"column":65},"end":{"offset":507,"line":16,"column":4},"text":"{\n    if (plan.title.isEmpty) {\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }\n    return repository.createPlan(plan);\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":386,"line":12,"column":29},"end":{"offset":463,"line":14,"column":6},"text":"{\n      return const Left(InvalidDataFailure('Title cannot be empty'));\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":358,"line":12,"column":0},"end":{"offset":358,"line":12,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":388,"line":13,"column":0},"end":{"offset":388,"line":13,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":458,"line":14,"column":0},"end":{"offset":458,"line":14,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":464,"line":15,"column":0},"end":{"offset":464,"line":15,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":78,"level":"warning","comment":"This method has 78 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/domain/usecases/update_care_plan_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UpdateCarePlanUseCase":{"codeSpan":{"start":{"offset":179,"line":6,"column":1},"end":{"offset":397,"line":14,"column":2},"text":"class UpdateCarePlanUseCase {\n  final CarePlanRepository repository;\n\n  UpdateCarePlanUseCase(this.repository);\n\n  Future<Either<Failure, Unit>> call(CarePlanEntity plan) {\n    return repository.updatePlan(plan);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor UpdateCarePlanUseCase increase metric value","codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"UpdateCarePlanUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":395,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) {\n    return repository.updatePlan(plan);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor UpdateCarePlanUseCase decrease metric value","codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"UpdateCarePlanUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":395,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) {\n    return repository.updatePlan(plan);\n  }"}}]}]}},"functions":{"UpdateCarePlanUseCase.UpdateCarePlanUseCase":{"codeSpan":{"start":{"offset":251,"line":9,"column":3},"end":{"offset":290,"line":9,"column":42},"text":"UpdateCarePlanUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"UpdateCarePlanUseCase.call":{"codeSpan":{"start":{"offset":294,"line":11,"column":3},"end":{"offset":395,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(CarePlanEntity plan) {\n    return repository.updatePlan(plan);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":350,"line":11,"column":59},"end":{"offset":395,"line":13,"column":4},"text":"{\n    return repository.updatePlan(plan);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":352,"line":12,"column":0},"end":{"offset":352,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This method has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/care_plan/domain/entities/care_plan_entity.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CarePlanEntity":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":809,"line":41,"column":2},"text":"class CarePlanEntity extends Equatable {\n  final String id;\n  final String title;\n  final String description;\n  final String doctorId;\n  final String patientId;\n  final DateTime startDate;\n  final String? patientName;\n  final String? doctorName;\n  final int? frequency;\n  final DateTime? endDate;\n\n  const CarePlanEntity({\n    required this.id,\n    required this.title,\n    required this.description,\n    required this.doctorId,\n    required this.patientId,\n    required this.startDate,\n    this.patientName,\n    this.doctorName,\n    this.frequency,\n    this.endDate,\n  });\n\n  @override\n  List<Object?> get props => [\n    id,\n    title,\n    description,\n    doctorId,\n    patientId,\n    startDate,\n    patientName,\n    doctorName,\n    frequency,\n    endDate,\n  ];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CarePlanEntity increase metric value","codeSpan":{"start":{"offset":344,"line":15,"column":3},"end":{"offset":617,"line":26,"column":6},"text":"const CarePlanEntity({\n    required this.id,\n    required this.title,\n    required this.description,\n    required this.doctorId,\n    required this.patientId,\n    required this.startDate,\n    this.patientName,\n    this.doctorName,\n    this.frequency,\n    this.endDate,\n  });"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":633,"line":29,"column":3},"end":{"offset":807,"line":40,"column":5},"text":"List<Object?> get props => [\n    id,\n    title,\n    description,\n    doctorId,\n    patientId,\n    startDate,\n    patientName,\n    doctorName,\n    frequency,\n    endDate,\n  ];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor CarePlanEntity decrease metric value","codeSpan":{"start":{"offset":344,"line":15,"column":3},"end":{"offset":617,"line":26,"column":6},"text":"const CarePlanEntity({\n    required this.id,\n    required this.title,\n    required this.description,\n    required this.doctorId,\n    required this.patientId,\n    required this.startDate,\n    this.patientName,\n    this.doctorName,\n    this.frequency,\n    this.endDate,\n  });"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":633,"line":29,"column":3},"end":{"offset":807,"line":40,"column":5},"text":"List<Object?> get props => [\n    id,\n    title,\n    description,\n    doctorId,\n    patientId,\n    startDate,\n    patientName,\n    doctorName,\n    frequency,\n    endDate,\n  ];"}}]}]}},"functions":{"CarePlanEntity.CarePlanEntity":{"codeSpan":{"start":{"offset":344,"line":15,"column":3},"end":{"offset":617,"line":26,"column":6},"text":"const CarePlanEntity({\n    required this.id,\n    required this.title,\n    required this.description,\n    required this.doctorId,\n    required this.patientId,\n    required this.startDate,\n    this.patientName,\n    this.doctorName,\n    this.frequency,\n    this.endDate,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This constructor has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CarePlanEntity.props":{"codeSpan":{"start":{"offset":633,"line":29,"column":3},"end":{"offset":807,"line":40,"column":5},"text":"List<Object?> get props => [\n    id,\n    title,\n    description,\n    doctorId,\n    patientId,\n    startDate,\n    patientName,\n    doctorName,\n    frequency,\n    endDate,\n  ];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":33.219280948873624,"level":"none","comment":"This getter has a halstead volume of 33.219280948873624.","context":[]},{"metricsId":"lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This getter has 13 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This getter has 12 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":631,"line":29,"column":0},"end":{"offset":631,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":662,"line":30,"column":0},"end":{"offset":662,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":670,"line":31,"column":0},"end":{"offset":670,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":681,"line":32,"column":0},"end":{"offset":681,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":698,"line":33,"column":0},"end":{"offset":698,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":712,"line":34,"column":0},"end":{"offset":712,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":727,"line":35,"column":0},"end":{"offset":727,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":742,"line":36,"column":0},"end":{"offset":742,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":759,"line":37,"column":0},"end":{"offset":759,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":775,"line":38,"column":0},"end":{"offset":775,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":790,"line":39,"column":0},"end":{"offset":790,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":803,"line":40,"column":0},"end":{"offset":803,"line":40,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":66,"level":"warning","comment":"This getter has 66 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/view_model/home_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"HomeViewModel":{"codeSpan":{"start":{"offset":157,"line":6,"column":1},"end":{"offset":1362,"line":55,"column":2},"text":"class HomeViewModel extends ChangeNotifier {\n  final GetDoctorStatsUseCase?\n  getDoctorStatsUseCase; // Optional for Patient flavor, but we can standardise\n\n  HomeViewModel({this.getDoctorStatsUseCase});\n\n  int _currentIndex = 0;\n  int get currentIndex => _currentIndex;\n\n  bool _isLoading = false;\n  bool get isLoading => _isLoading;\n\n  DashboardStats? _stats;\n  DashboardStats? get stats => _stats;\n\n  void setIndex(int index) {\n    _currentIndex = index;\n    notifyListeners();\n  }\n\n  Future<void> fetchDoctorStats(String doctorId) async {\n    if (getDoctorStatsUseCase == null) return;\n\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await getDoctorStatsUseCase!(doctorId);\n\n    result.fold(\n      (failure) {\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      },\n      (stats) {\n        _stats = stats;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }\n\n  void logout() {\n    _currentIndex = 0;\n    _stats = null;\n    notifyListeners();\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":7,"unitType":"methods","level":"none","comment":"This class has 7 methods.","context":[{"message":"constructor HomeViewModel increase metric value","codeSpan":{"start":{"offset":316,"line":10,"column":3},"end":{"offset":360,"line":10,"column":47},"text":"HomeViewModel({this.getDoctorStatsUseCase});"}},{"message":"getter currentIndex increase metric value","codeSpan":{"start":{"offset":389,"line":13,"column":3},"end":{"offset":427,"line":13,"column":41},"text":"int get currentIndex => _currentIndex;"}},{"message":"getter isLoading increase metric value","codeSpan":{"start":{"offset":458,"line":16,"column":3},"end":{"offset":491,"line":16,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"getter stats increase metric value","codeSpan":{"start":{"offset":521,"line":19,"column":3},"end":{"offset":557,"line":19,"column":39},"text":"DashboardStats? get stats => _stats;"}},{"message":"method setIndex increase metric value","codeSpan":{"start":{"offset":561,"line":21,"column":3},"end":{"offset":641,"line":24,"column":4},"text":"void setIndex(int index) {\n    _currentIndex = index;\n    notifyListeners();\n  }"}},{"message":"method fetchDoctorStats increase metric value","codeSpan":{"start":{"offset":645,"line":26,"column":3},"end":{"offset":1272,"line":48,"column":4},"text":"Future<void> fetchDoctorStats(String doctorId) async {\n    if (getDoctorStatsUseCase == null) return;\n\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await getDoctorStatsUseCase!(doctorId);\n\n    result.fold(\n      (failure) {\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      },\n      (stats) {\n        _stats = stats;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":1276,"line":50,"column":3},"end":{"offset":1360,"line":54,"column":4},"text":"void logout() {\n    _currentIndex = 0;\n    _stats = null;\n    notifyListeners();\n  }"}}]},{"metricsId":"weight-of-class","value":0.42857142857142855,"level":"none","comment":"This class has a weight of 0.42857142857142855.","context":[{"message":"public constructor HomeViewModel decrease metric value","codeSpan":{"start":{"offset":316,"line":10,"column":3},"end":{"offset":360,"line":10,"column":47},"text":"HomeViewModel({this.getDoctorStatsUseCase});"}},{"message":"public getter currentIndex decrease metric value","codeSpan":{"start":{"offset":389,"line":13,"column":3},"end":{"offset":427,"line":13,"column":41},"text":"int get currentIndex => _currentIndex;"}},{"message":"public getter isLoading decrease metric value","codeSpan":{"start":{"offset":458,"line":16,"column":3},"end":{"offset":491,"line":16,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"public getter stats decrease metric value","codeSpan":{"start":{"offset":521,"line":19,"column":3},"end":{"offset":557,"line":19,"column":39},"text":"DashboardStats? get stats => _stats;"}},{"message":"functional method setIndex increase metric value","codeSpan":{"start":{"offset":561,"line":21,"column":3},"end":{"offset":641,"line":24,"column":4},"text":"void setIndex(int index) {\n    _currentIndex = index;\n    notifyListeners();\n  }"}},{"message":"functional method fetchDoctorStats increase metric value","codeSpan":{"start":{"offset":645,"line":26,"column":3},"end":{"offset":1272,"line":48,"column":4},"text":"Future<void> fetchDoctorStats(String doctorId) async {\n    if (getDoctorStatsUseCase == null) return;\n\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await getDoctorStatsUseCase!(doctorId);\n\n    result.fold(\n      (failure) {\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      },\n      (stats) {\n        _stats = stats;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":1276,"line":50,"column":3},"end":{"offset":1360,"line":54,"column":4},"text":"void logout() {\n    _currentIndex = 0;\n    _stats = null;\n    notifyListeners();\n  }"}}]}]}},"functions":{"HomeViewModel.HomeViewModel":{"codeSpan":{"start":{"offset":316,"line":10,"column":3},"end":{"offset":360,"line":10,"column":47},"text":"HomeViewModel({this.getDoctorStatsUseCase});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"HomeViewModel.currentIndex":{"codeSpan":{"start":{"offset":389,"line":13,"column":3},"end":{"offset":427,"line":13,"column":41},"text":"int get currentIndex => _currentIndex;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":387,"line":13,"column":0},"end":{"offset":387,"line":13,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"HomeViewModel.isLoading":{"codeSpan":{"start":{"offset":458,"line":16,"column":3},"end":{"offset":491,"line":16,"column":36},"text":"bool get isLoading => _isLoading;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":456,"line":16,"column":0},"end":{"offset":456,"line":16,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"HomeViewModel.stats":{"codeSpan":{"start":{"offset":521,"line":19,"column":3},"end":{"offset":557,"line":19,"column":39},"text":"DashboardStats? get stats => _stats;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":519,"line":19,"column":0},"end":{"offset":519,"line":19,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"HomeViewModel.setIndex":{"codeSpan":{"start":{"offset":561,"line":21,"column":3},"end":{"offset":641,"line":24,"column":4},"text":"void setIndex(int index) {\n    _currentIndex = index;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This method has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":586,"line":21,"column":28},"end":{"offset":641,"line":24,"column":4},"text":"{\n    _currentIndex = index;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":588,"line":22,"column":0},"end":{"offset":588,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":615,"line":23,"column":0},"end":{"offset":615,"line":23,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":87,"level":"warning","comment":"This method has 87 maintainability index, below the minimum of 100 allowed.","context":[]}]},"HomeViewModel.fetchDoctorStats":{"codeSpan":{"start":{"offset":645,"line":26,"column":3},"end":{"offset":1272,"line":48,"column":4},"text":"Future<void> fetchDoctorStats(String doctorId) async {\n    if (getDoctorStatsUseCase == null) return;\n\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await getDoctorStatsUseCase!(doctorId);\n\n    result.fold(\n      (failure) {\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      },\n      (stats) {\n        _stats = stats;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":704,"line":27,"column":5},"end":{"offset":746,"line":27,"column":47},"text":"if (getDoctorStatsUseCase == null) return;"}}]},{"metricsId":"halstead-volume","value":122.11451069865605,"level":"none","comment":"This method has a halstead volume of 122.11451069865605.","context":[]},{"metricsId":"lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":698,"line":26,"column":56},"end":{"offset":1272,"line":48,"column":4},"text":"{\n    if (getDoctorStatsUseCase == null) return;\n\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await getDoctorStatsUseCase!(doctorId);\n\n    result.fold(\n      (failure) {\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      },\n      (stats) {\n        _stats = stats;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":888,"line":35,"column":17},"end":{"offset":1156,"line":41,"column":8},"text":"{\n        // Handle error if needed, maybe show snackbar via UI listener\n        // Handle error if needed, maybe show snackbar via UI listener\n        // print('Error fetching stats: ${failure.message}');\n        _isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":700,"line":27,"column":0},"end":{"offset":700,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":748,"line":29,"column":0},"end":{"offset":748,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":771,"line":30,"column":0},"end":{"offset":771,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":795,"line":32,"column":0},"end":{"offset":795,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":855,"line":34,"column":0},"end":{"offset":855,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":872,"line":35,"column":0},"end":{"offset":872,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1094,"line":39,"column":0},"end":{"offset":1094,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1122,"line":40,"column":0},"end":{"offset":1122,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1149,"line":41,"column":0},"end":{"offset":1149,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1158,"line":42,"column":0},"end":{"offset":1158,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1174,"line":43,"column":0},"end":{"offset":1174,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1198,"line":44,"column":0},"end":{"offset":1198,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1226,"line":45,"column":0},"end":{"offset":1226,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1253,"line":46,"column":0},"end":{"offset":1253,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1262,"line":47,"column":0},"end":{"offset":1262,"line":47,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":60,"level":"warning","comment":"This method has 60 maintainability index, below the minimum of 100 allowed.","context":[]}]},"HomeViewModel.logout":{"codeSpan":{"start":{"offset":1276,"line":50,"column":3},"end":{"offset":1360,"line":54,"column":4},"text":"void logout() {\n    _currentIndex = 0;\n    _stats = null;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":10.0,"level":"none","comment":"This method has a halstead volume of 10.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1290,"line":50,"column":17},"end":{"offset":1360,"line":54,"column":4},"text":"{\n    _currentIndex = 0;\n    _stats = null;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1292,"line":51,"column":0},"end":{"offset":1292,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1315,"line":52,"column":0},"end":{"offset":1315,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1334,"line":53,"column":0},"end":{"offset":1334,"line":53,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":83,"level":"warning","comment":"This method has 83 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/view_model/patient_detail_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PatientDetailViewModel":{"codeSpan":{"start":{"offset":456,"line":9,"column":1},"end":{"offset":5205,"line":151,"column":2},"text":"class PatientDetailViewModel extends ChangeNotifier {\n  final GetPatientCheckInsUseCase getPatientCheckInsUseCase;\n  final CarePlanRepository carePlanRepository;\n\n  PatientDetailViewModel({\n    required this.getPatientCheckInsUseCase,\n    required this.carePlanRepository,\n  });\n\n  List<CheckInEntity> history = [];\n  bool isLoading = false;\n  String? errorMessage;\n\n  // Adherence Data\n  // planId -> count\n  Map<String, int> adherenceCounts = {};\n  // planId -> goal per day (freq) -> total goal for 7 days\n  Map<String, int> adherenceGoals = {};\n  double overallAdherence = 0.0;\n  List<CarePlanEntity> patientPlans = [];\n\n  Future<void> fetchHistory(String patientId) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    // Parallel execution: History + Adherence\n    await Future.wait([_loadHistory(patientId), loadAdherenceData(patientId)]);\n\n    isLoading = false;\n    notifyListeners();\n  }\n\n  Future<void> _loadHistory(String patientId) async {\n    final result = await getPatientCheckInsUseCase(patientId);\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n      },\n      (checkIns) {\n        history = checkIns;\n      },\n    );\n  }\n\n  Future<void> loadAdherenceData(String patientId) async {\n    final plansResult = await carePlanRepository.getPlansByPatientId(patientId);\n\n    plansResult.fold(\n      (failure) {\n        debugPrint('Error fetching plans for adherence: ${failure.message}');\n      },\n      (plans) async {\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      },\n    );\n  }\n\n  void _calculateAdherence(List<CarePlanEntity> plans, List<TaskLog> logs) {\n    int totalExpected = 0;\n    int totalExecuted = 0;\n\n    adherenceCounts.clear();\n    adherenceGoals.clear();\n\n    final now = DateTime.now();\n\n    for (final plan in plans) {\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }\n\n    // Overall Adherence (Average of percentages or Total/Total?)\n    // Request implies individual tracking, but card also needs overall.\n    // Let's keep overall as TotalRealized / TotalExpected for simplicity validation\n    if (totalExpected > 0) {\n      overallAdherence = (totalExecuted / totalExpected) * 100;\n      if (overallAdherence > 100) overallAdherence = 100;\n    } else {\n      overallAdherence = 0.0;\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":5,"unitType":"methods","level":"none","comment":"This class has 5 methods.","context":[{"message":"constructor PatientDetailViewModel increase metric value","codeSpan":{"start":{"offset":621,"line":13,"column":3},"end":{"offset":734,"line":16,"column":6},"text":"PatientDetailViewModel({\n    required this.getPatientCheckInsUseCase,\n    required this.carePlanRepository,\n  });"}},{"message":"method fetchHistory increase metric value","codeSpan":{"start":{"offset":1083,"line":30,"column":3},"end":{"offset":1383,"line":40,"column":4},"text":"Future<void> fetchHistory(String patientId) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    // Parallel execution: History + Adherence\n    await Future.wait([_loadHistory(patientId), loadAdherenceData(patientId)]);\n\n    isLoading = false;\n    notifyListeners();\n  }"}},{"message":"method _loadHistory increase metric value","codeSpan":{"start":{"offset":1387,"line":42,"column":3},"end":{"offset":1652,"line":52,"column":4},"text":"Future<void> _loadHistory(String patientId) async {\n    final result = await getPatientCheckInsUseCase(patientId);\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n      },\n      (checkIns) {\n        history = checkIns;\n      },\n    );\n  }"}},{"message":"method loadAdherenceData increase metric value","codeSpan":{"start":{"offset":1656,"line":54,"column":3},"end":{"offset":2552,"line":81,"column":4},"text":"Future<void> loadAdherenceData(String patientId) async {\n    final plansResult = await carePlanRepository.getPlansByPatientId(patientId);\n\n    plansResult.fold(\n      (failure) {\n        debugPrint('Error fetching plans for adherence: ${failure.message}');\n      },\n      (plans) async {\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      },\n    );\n  }"}},{"message":"method _calculateAdherence increase metric value","codeSpan":{"start":{"offset":2556,"line":83,"column":3},"end":{"offset":5203,"line":150,"column":4},"text":"void _calculateAdherence(List<CarePlanEntity> plans, List<TaskLog> logs) {\n    int totalExpected = 0;\n    int totalExecuted = 0;\n\n    adherenceCounts.clear();\n    adherenceGoals.clear();\n\n    final now = DateTime.now();\n\n    for (final plan in plans) {\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }\n\n    // Overall Adherence (Average of percentages or Total/Total?)\n    // Request implies individual tracking, but card also needs overall.\n    // Let's keep overall as TotalRealized / TotalExpected for simplicity validation\n    if (totalExpected > 0) {\n      overallAdherence = (totalExecuted / totalExpected) * 100;\n      if (overallAdherence > 100) overallAdherence = 100;\n    } else {\n      overallAdherence = 0.0;\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.6666666666666666,"level":"none","comment":"This class has a weight of 0.6666666666666666.","context":[{"message":"public constructor PatientDetailViewModel decrease metric value","codeSpan":{"start":{"offset":621,"line":13,"column":3},"end":{"offset":734,"line":16,"column":6},"text":"PatientDetailViewModel({\n    required this.getPatientCheckInsUseCase,\n    required this.carePlanRepository,\n  });"}},{"message":"functional method fetchHistory increase metric value","codeSpan":{"start":{"offset":1083,"line":30,"column":3},"end":{"offset":1383,"line":40,"column":4},"text":"Future<void> fetchHistory(String patientId) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    // Parallel execution: History + Adherence\n    await Future.wait([_loadHistory(patientId), loadAdherenceData(patientId)]);\n\n    isLoading = false;\n    notifyListeners();\n  }"}},{"message":"functional method loadAdherenceData increase metric value","codeSpan":{"start":{"offset":1656,"line":54,"column":3},"end":{"offset":2552,"line":81,"column":4},"text":"Future<void> loadAdherenceData(String patientId) async {\n    final plansResult = await carePlanRepository.getPlansByPatientId(patientId);\n\n    plansResult.fold(\n      (failure) {\n        debugPrint('Error fetching plans for adherence: ${failure.message}');\n      },\n      (plans) async {\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      },\n    );\n  }"}}]}]}},"functions":{"PatientDetailViewModel.PatientDetailViewModel":{"codeSpan":{"start":{"offset":621,"line":13,"column":3},"end":{"offset":734,"line":16,"column":6},"text":"PatientDetailViewModel({\n    required this.getPatientCheckInsUseCase,\n    required this.carePlanRepository,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This constructor has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"PatientDetailViewModel.fetchHistory":{"codeSpan":{"start":{"offset":1083,"line":30,"column":3},"end":{"offset":1383,"line":40,"column":4},"text":"Future<void> fetchHistory(String patientId) async {\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    // Parallel execution: History + Adherence\n    await Future.wait([_loadHistory(patientId), loadAdherenceData(patientId)]);\n\n    isLoading = false;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":49.82892142331044,"level":"none","comment":"This method has a halstead volume of 49.82892142331044.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1133,"line":30,"column":53},"end":{"offset":1383,"line":40,"column":4},"text":"{\n    isLoading = true;\n    errorMessage = null;\n    notifyListeners();\n\n    // Parallel execution: History + Adherence\n    await Future.wait([_loadHistory(patientId), loadAdherenceData(patientId)]);\n\n    isLoading = false;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1135,"line":31,"column":0},"end":{"offset":1135,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1157,"line":32,"column":0},"end":{"offset":1157,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1182,"line":33,"column":0},"end":{"offset":1182,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1253,"line":36,"column":0},"end":{"offset":1253,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1334,"line":38,"column":0},"end":{"offset":1334,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1357,"line":39,"column":0},"end":{"offset":1357,"line":39,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":72,"level":"warning","comment":"This method has 72 maintainability index, below the minimum of 100 allowed.","context":[]}]},"PatientDetailViewModel._loadHistory":{"codeSpan":{"start":{"offset":1387,"line":42,"column":3},"end":{"offset":1652,"line":52,"column":4},"text":"Future<void> _loadHistory(String patientId) async {\n    final result = await getPatientCheckInsUseCase(patientId);\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n      },\n      (checkIns) {\n        history = checkIns;\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":79.56692722865785,"level":"none","comment":"This method has a halstead volume of 79.56692722865785.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1437,"line":42,"column":53},"end":{"offset":1652,"line":52,"column":4},"text":"{\n    final result = await getPatientCheckInsUseCase(patientId);\n    result.fold(\n      (failure) {\n        errorMessage = failure.message;\n      },\n      (checkIns) {\n        history = checkIns;\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1535,"line":45,"column":17},"end":{"offset":1584,"line":47,"column":8},"text":"{\n        errorMessage = failure.message;\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1439,"line":43,"column":0},"end":{"offset":1439,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1502,"line":44,"column":0},"end":{"offset":1502,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1519,"line":45,"column":0},"end":{"offset":1519,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1537,"line":46,"column":0},"end":{"offset":1537,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1577,"line":47,"column":0},"end":{"offset":1577,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1586,"line":48,"column":0},"end":{"offset":1586,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1605,"line":49,"column":0},"end":{"offset":1605,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1633,"line":50,"column":0},"end":{"offset":1633,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1642,"line":51,"column":0},"end":{"offset":1642,"line":51,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":66,"level":"warning","comment":"This method has 66 maintainability index, below the minimum of 100 allowed.","context":[]}]},"PatientDetailViewModel.loadAdherenceData":{"codeSpan":{"start":{"offset":1656,"line":54,"column":3},"end":{"offset":2552,"line":81,"column":4},"text":"Future<void> loadAdherenceData(String patientId) async {\n    final plansResult = await carePlanRepository.getPlansByPatientId(patientId);\n\n    plansResult.fold(\n      (failure) {\n        debugPrint('Error fetching plans for adherence: ${failure.message}');\n      },\n      (plans) async {\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":311.1788228318901,"level":"none","comment":"This method has a halstead volume of 311.1788228318901.","context":[]},{"metricsId":"lines-of-code","value":28,"unitType":"lines","level":"none","comment":"This method has 28 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1711,"line":54,"column":58},"end":{"offset":2552,"line":81,"column":4},"text":"{\n    final plansResult = await carePlanRepository.getPlansByPatientId(patientId);\n\n    plansResult.fold(\n      (failure) {\n        debugPrint('Error fetching plans for adherence: ${failure.message}');\n      },\n      (plans) async {\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1942,"line":61,"column":21},"end":{"offset":2540,"line":79,"column":8},"text":"{\n        patientPlans = plans;\n\n        // Fetch logs for all history (since 2000) to calculate accumulated adherence\n        final startOfTime = DateTime(2000);\n\n        final logsResult = await carePlanRepository\n            .getTaskLogsForPatientFromDate(patientId, startOfTime);\n\n        logsResult.fold(\n          (failure) {\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          },\n          (logs) {\n            _calculateAdherence(plans, logs);\n            notifyListeners(); // Notify to update UI with new calculations\n          },\n        );\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2272,"line":71,"column":21},"end":{"offset":2366,"line":73,"column":12},"text":"{\n            debugPrint('Error fetching logs for adherence: ${failure.message}');\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1713,"line":55,"column":0},"end":{"offset":1713,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1795,"line":57,"column":0},"end":{"offset":1795,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1817,"line":58,"column":0},"end":{"offset":1817,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1835,"line":59,"column":0},"end":{"offset":1835,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1913,"line":60,"column":0},"end":{"offset":1913,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1922,"line":61,"column":0},"end":{"offset":1922,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1944,"line":62,"column":0},"end":{"offset":1944,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2061,"line":65,"column":0},"end":{"offset":2061,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2106,"line":67,"column":0},"end":{"offset":2106,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2158,"line":68,"column":0},"end":{"offset":2158,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2227,"line":70,"column":0},"end":{"offset":2227,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2252,"line":71,"column":0},"end":{"offset":2252,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2274,"line":72,"column":0},"end":{"offset":2274,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2355,"line":73,"column":0},"end":{"offset":2355,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2368,"line":74,"column":0},"end":{"offset":2368,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2387,"line":75,"column":0},"end":{"offset":2387,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2433,"line":76,"column":0},"end":{"offset":2433,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2509,"line":77,"column":0},"end":{"offset":2509,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2522,"line":78,"column":0},"end":{"offset":2522,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2533,"line":79,"column":0},"end":{"offset":2533,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2542,"line":80,"column":0},"end":{"offset":2542,"line":80,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":54,"level":"warning","comment":"This method has 54 maintainability index, below the minimum of 100 allowed.","context":[]}]},"PatientDetailViewModel._calculateAdherence":{"codeSpan":{"start":{"offset":2556,"line":83,"column":3},"end":{"offset":5203,"line":150,"column":4},"text":"void _calculateAdherence(List<CarePlanEntity> plans, List<TaskLog> logs) {\n    int totalExpected = 0;\n    int totalExecuted = 0;\n\n    adherenceCounts.clear();\n    adherenceGoals.clear();\n\n    final now = DateTime.now();\n\n    for (final plan in plans) {\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }\n\n    // Overall Adherence (Average of percentages or Total/Total?)\n    // Request implies individual tracking, but card also needs overall.\n    // Let's keep overall as TotalRealized / TotalExpected for simplicity validation\n    if (totalExpected > 0) {\n      overallAdherence = (totalExecuted / totalExpected) * 100;\n      if (overallAdherence > 100) overallAdherence = 100;\n    } else {\n      overallAdherence = 0.0;\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":13,"level":"alarm","comment":"This method has a cyclomatic complexity of 13, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":2781,"line":92,"column":5},"end":{"offset":4774,"line":139,"column":6},"text":"for (final plan in plans) {\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3111,"line":99,"column":7},"end":{"offset":3213,"line":101,"column":8},"text":"if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":3136,"line":99,"column":32},"end":{"offset":3138,"line":99,"column":34},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3438,"line":106,"column":7},"end":{"offset":3475,"line":106,"column":44},"text":"if (daysElapsed < 1) daysElapsed = 1;"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3734,"line":111,"column":42},"end":{"offset":3736,"line":111,"column":44},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3775,"line":113,"column":7},"end":{"offset":4059,"line":119,"column":8},"text":"if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3874,"line":115,"column":14},"end":{"offset":4059,"line":119,"column":8},"text":"if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3973,"line":117,"column":14},"end":{"offset":4059,"line":119,"column":8},"text":"if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4175,"line":123,"column":7},"end":{"offset":4218,"line":123,"column":50},"text":"if (dailyFrequency < 1) dailyFrequency = 1;"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":4652,"line":134,"column":23},"end":{"offset":4654,"line":134,"column":25},"text":"?."}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5004,"line":144,"column":5},"end":{"offset":5199,"line":149,"column":6},"text":"if (totalExpected > 0) {\n      overallAdherence = (totalExecuted / totalExpected) * 100;\n      if (overallAdherence > 100) overallAdherence = 100;\n    } else {\n      overallAdherence = 0.0;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5099,"line":146,"column":7},"end":{"offset":5150,"line":146,"column":58},"text":"if (overallAdherence > 100) overallAdherence = 100;"}}]},{"metricsId":"halstead-volume","value":805.4153834932574,"level":"none","comment":"This method has a halstead volume of 805.4153834932574.","context":[]},{"metricsId":"lines-of-code","value":68,"unitType":"lines","level":"none","comment":"This method has 68 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2629,"line":83,"column":76},"end":{"offset":5203,"line":150,"column":4},"text":"{\n    int totalExpected = 0;\n    int totalExecuted = 0;\n\n    adherenceCounts.clear();\n    adherenceGoals.clear();\n\n    final now = DateTime.now();\n\n    for (final plan in plans) {\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }\n\n    // Overall Adherence (Average of percentages or Total/Total?)\n    // Request implies individual tracking, but card also needs overall.\n    // Let's keep overall as TotalRealized / TotalExpected for simplicity validation\n    if (totalExpected > 0) {\n      overallAdherence = (totalExecuted / totalExpected) * 100;\n      if (overallAdherence > 100) overallAdherence = 100;\n    } else {\n      overallAdherence = 0.0;\n    }\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":2807,"line":92,"column":31},"end":{"offset":4774,"line":139,"column":6},"text":"{\n      // 1. Calculate Expected Doses (Accumulated)\n      final startDate = plan.startDate; // Assuming startDate is reliable\n\n      // Determine cutoff date: Min(now, plan.endDate)\n      // If plan has ended, we calculate expected doses only up to that end date.\n      DateTime cutoffDate = now;\n      if (plan.endDate != null && plan.endDate!.isBefore(now)) {\n        cutoffDate = plan.endDate!;\n      }\n\n      // Calculate days elapsed (inclusive of start and end dates)\n      // We use +1 to count the first day as a full day of treatment opportunity\n      int daysElapsed = cutoffDate.difference(startDate).inDays + 1;\n      if (daysElapsed < 1) daysElapsed = 1;\n\n      // Heuristic for Frequency (Interval in Hours)\n      // UX Fix: Users often confuse \"1x per day\" with \"Frequency = 1\" (which means every 1 hour)\n      // We apply a \"Sanity Check\" to fix these common mistakes.\n      int hoursInterval = plan.frequency ?? 24; // Default to 24h (1x day)\n\n      if (hoursInterval == 1) {\n        hoursInterval = 24; // User likely meant 1x per day\n      } else if (hoursInterval == 2) {\n        hoursInterval = 12; // User likely meant 2x per day\n      } else if (hoursInterval <= 0) {\n        hoursInterval = 24; // Fallback for bad data\n      }\n\n      // Calculate Daily Frequency (Doses per day)\n      int dailyFrequency = (24 / hoursInterval).floor();\n      if (dailyFrequency < 1) dailyFrequency = 1;\n\n      // Total expected since start\n      final planExpected = daysElapsed * dailyFrequency;\n      adherenceGoals[plan.id] = planExpected;\n      totalExpected += planExpected;\n\n      // 2. Count Realized Doses (Total logs for this plan)\n      final planLogs = logs.where((l) {\n        final pointer = l.get<ParseObject>('planId');\n        // print('CoreLOG: Log ${l.objectId} points to ${pointer?.objectId}');\n        return pointer?.objectId == plan.id;\n      }).length;\n\n      adherenceCounts[plan.id] = planLogs;\n      totalExecuted += planLogs;\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3168,"line":99,"column":64},"end":{"offset":3213,"line":101,"column":8},"text":"{\n        cutoffDate = plan.endDate!;\n      }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":39,"unitType":"lines","level":"none","comment":"This method has 39 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2631,"line":84,"column":0},"end":{"offset":2631,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2658,"line":85,"column":0},"end":{"offset":2658,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2686,"line":87,"column":0},"end":{"offset":2686,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2715,"line":88,"column":0},"end":{"offset":2715,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2744,"line":90,"column":0},"end":{"offset":2744,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2777,"line":92,"column":0},"end":{"offset":2777,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2860,"line":94,"column":0},"end":{"offset":2860,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3072,"line":98,"column":0},"end":{"offset":3072,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3105,"line":99,"column":0},"end":{"offset":3105,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3170,"line":100,"column":0},"end":{"offset":3170,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3206,"line":101,"column":0},"end":{"offset":3206,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3363,"line":105,"column":0},"end":{"offset":3363,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3432,"line":106,"column":0},"end":{"offset":3432,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3693,"line":111,"column":0},"end":{"offset":3693,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3769,"line":113,"column":0},"end":{"offset":3769,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3801,"line":114,"column":0},"end":{"offset":3801,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3861,"line":115,"column":0},"end":{"offset":3861,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3900,"line":116,"column":0},"end":{"offset":3900,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3960,"line":117,"column":0},"end":{"offset":3960,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3999,"line":118,"column":0},"end":{"offset":3999,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4052,"line":119,"column":0},"end":{"offset":4052,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4112,"line":122,"column":0},"end":{"offset":4112,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4169,"line":123,"column":0},"end":{"offset":4169,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4256,"line":126,"column":0},"end":{"offset":4256,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4313,"line":127,"column":0},"end":{"offset":4313,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4359,"line":128,"column":0},"end":{"offset":4359,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4457,"line":131,"column":0},"end":{"offset":4457,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4497,"line":132,"column":0},"end":{"offset":4497,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4630,"line":134,"column":0},"end":{"offset":4630,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4675,"line":135,"column":0},"end":{"offset":4675,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4693,"line":137,"column":0},"end":{"offset":4693,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4736,"line":138,"column":0},"end":{"offset":4736,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4769,"line":139,"column":0},"end":{"offset":4769,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5000,"line":144,"column":0},"end":{"offset":5000,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5029,"line":145,"column":0},"end":{"offset":5029,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5093,"line":146,"column":0},"end":{"offset":5093,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5151,"line":147,"column":0},"end":{"offset":5151,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5164,"line":148,"column":0},"end":{"offset":5164,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5194,"line":149,"column":0},"end":{"offset":5194,"line":149,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":44,"level":"alarm","comment":"This method has 44 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/doctor_home_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"DoctorHomeScreen":{"codeSpan":{"start":{"offset":291,"line":8,"column":1},"end":{"offset":461,"line":13,"column":2},"text":"class DoctorHomeScreen extends StatefulWidget {\n  const DoctorHomeScreen({super.key});\n\n  @override\n  State<DoctorHomeScreen> createState() => _DoctorHomeScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor DoctorHomeScreen increase metric value","codeSpan":{"start":{"offset":341,"line":9,"column":3},"end":{"offset":377,"line":9,"column":39},"text":"const DoctorHomeScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":393,"line":12,"column":3},"end":{"offset":459,"line":12,"column":69},"text":"State<DoctorHomeScreen> createState() => _DoctorHomeScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor DoctorHomeScreen decrease metric value","codeSpan":{"start":{"offset":341,"line":9,"column":3},"end":{"offset":377,"line":9,"column":39},"text":"const DoctorHomeScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":393,"line":12,"column":3},"end":{"offset":459,"line":12,"column":69},"text":"State<DoctorHomeScreen> createState() => _DoctorHomeScreenState();"}}]}]},"_DoctorHomeScreenState":{"codeSpan":{"start":{"offset":463,"line":15,"column":1},"end":{"offset":1406,"line":43,"column":2},"text":"class _DoctorHomeScreenState extends State<DoctorHomeScreen> {\n  final List<Widget> _pages = const [\n    DoctorDashboardWidget(),\n    CarePlanHomeScreen(),\n    ProfileScreen(),\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    final viewModel = context.watch<HomeViewModel>();\n    final currentIndex = viewModel.currentIndex;\n\n    return Scaffold(\n      body: IndexedStack(index: currentIndex, children: _pages),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: currentIndex,\n        onTap: (index) {\n          viewModel.setIndex(index);\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Dashboard'),\n          BottomNavigationBarItem(icon: Icon(Icons.list), label: 'Planos'),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"method build increase metric value","codeSpan":{"start":{"offset":660,"line":23,"column":3},"end":{"offset":1404,"line":42,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<HomeViewModel>();\n    final currentIndex = viewModel.currentIndex;\n\n    return Scaffold(\n      body: IndexedStack(index: currentIndex, children: _pages),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: currentIndex,\n        onTap: (index) {\n          viewModel.setIndex(index);\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Dashboard'),\n          BottomNavigationBarItem(icon: Icon(Icons.list), label: 'Planos'),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":660,"line":23,"column":3},"end":{"offset":1404,"line":42,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<HomeViewModel>();\n    final currentIndex = viewModel.currentIndex;\n\n    return Scaffold(\n      body: IndexedStack(index: currentIndex, children: _pages),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: currentIndex,\n        onTap: (index) {\n          viewModel.setIndex(index);\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Dashboard'),\n          BottomNavigationBarItem(icon: Icon(Icons.list), label: 'Planos'),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}}]}]}},"functions":{"DoctorHomeScreen.DoctorHomeScreen":{"codeSpan":{"start":{"offset":341,"line":9,"column":3},"end":{"offset":377,"line":9,"column":39},"text":"const DoctorHomeScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"DoctorHomeScreen.createState":{"codeSpan":{"start":{"offset":393,"line":12,"column":3},"end":{"offset":459,"line":12,"column":69},"text":"State<DoctorHomeScreen> createState() => _DoctorHomeScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":391,"line":12,"column":0},"end":{"offset":391,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_DoctorHomeScreenState.build":{"codeSpan":{"start":{"offset":660,"line":23,"column":3},"end":{"offset":1404,"line":42,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<HomeViewModel>();\n    final currentIndex = viewModel.currentIndex;\n\n    return Scaffold(\n      body: IndexedStack(index: currentIndex, children: _pages),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: currentIndex,\n        onTap: (index) {\n          viewModel.setIndex(index);\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Dashboard'),\n          BottomNavigationBarItem(icon: Icon(Icons.list), label: 'Planos'),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":270.0,"level":"none","comment":"This method has a halstead volume of 270.0.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":695,"line":23,"column":38},"end":{"offset":1404,"line":42,"column":4},"text":"{\n    final viewModel = context.watch<HomeViewModel>();\n    final currentIndex = viewModel.currentIndex;\n\n    return Scaffold(\n      body: IndexedStack(index: currentIndex, children: _pages),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: currentIndex,\n        onTap: (index) {\n          viewModel.setIndex(index);\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'Dashboard'),\n          BottomNavigationBarItem(icon: Icon(Icons.list), label: 'Planos'),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":994,"line":31,"column":24},"end":{"offset":1042,"line":33,"column":10},"text":"{\n          viewModel.setIndex(index);\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":697,"line":24,"column":0},"end":{"offset":697,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":751,"line":25,"column":0},"end":{"offset":751,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":801,"line":27,"column":0},"end":{"offset":801,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":822,"line":28,"column":0},"end":{"offset":822,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":887,"line":29,"column":0},"end":{"offset":887,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":935,"line":30,"column":0},"end":{"offset":935,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":971,"line":31,"column":0},"end":{"offset":971,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":996,"line":32,"column":0},"end":{"offset":996,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1033,"line":33,"column":0},"end":{"offset":1033,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1044,"line":34,"column":0},"end":{"offset":1044,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1118,"line":35,"column":0},"end":{"offset":1118,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1141,"line":36,"column":0},"end":{"offset":1141,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1220,"line":37,"column":0},"end":{"offset":1220,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1296,"line":38,"column":0},"end":{"offset":1296,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1374,"line":39,"column":0},"end":{"offset":1374,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1385,"line":40,"column":0},"end":{"offset":1385,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1394,"line":41,"column":0},"end":{"offset":1394,"line":41,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/adherence_report_card.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AdherenceReportCard":{"codeSpan":{"start":{"offset":108,"line":4,"column":1},"end":{"offset":7196,"line":191,"column":2},"text":"class AdherenceReportCard extends StatelessWidget {\n  final double overallAdherence;\n  final List<CarePlanEntity> plans;\n  final Map<String, int> counts;\n  final Map<String, int> goals;\n\n  const AdherenceReportCard({\n    super.key,\n    required this.overallAdherence,\n    required this.plans,\n    required this.counts,\n    required this.goals,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final adherencePercent = overallAdherence / 100;\n    Color statusColor;\n    if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }\n\n    return Card(\n      margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      elevation: 4,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Row(\n              children: [\n                Icon(Icons.analytics_outlined, color: statusColor),\n                const SizedBox(width: 8),\n                Text(\n                  'Ades√£o Acumulada',\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                    fontWeight: FontWeight.bold,\n                    color: Colors.grey[800],\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            // Overall Summary (Optional or keep as header)\n            Row(\n              children: [\n                Expanded(\n                  child: ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: adherencePercent,\n                      backgroundColor: Colors.grey[200],\n                      color: statusColor,\n                      minHeight: 10,\n                    ),\n                  ),\n                ),\n                const SizedBox(width: 12),\n                Text(\n                  '${overallAdherence.toStringAsFixed(0)}%',\n                  style: TextStyle(\n                    fontWeight: FontWeight.bold,\n                    fontSize: 18,\n                    color: statusColor,\n                  ),\n                ),\n              ],\n            ),\n            if (plans.isNotEmpty) ...[\n              const SizedBox(height: 16),\n              const Divider(),\n              const SizedBox(height: 8),\n              ...plans.map((plan) {\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }),\n            ] else\n              Padding(\n                padding: const EdgeInsets.only(top: 12.0),\n                child: Text(\n                  'Nenhum plano ativo.',\n                  style: TextStyle(\n                    color: Colors.grey[600],\n                    fontStyle: FontStyle.italic,\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor AdherenceReportCard increase metric value","codeSpan":{"start":{"offset":297,"line":10,"column":3},"end":{"offset":457,"line":16,"column":6},"text":"const AdherenceReportCard({\n    super.key,\n    required this.overallAdherence,\n    required this.plans,\n    required this.counts,\n    required this.goals,\n  });"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":473,"line":19,"column":3},"end":{"offset":7194,"line":190,"column":4},"text":"Widget build(BuildContext context) {\n    final adherencePercent = overallAdherence / 100;\n    Color statusColor;\n    if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }\n\n    return Card(\n      margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      elevation: 4,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Row(\n              children: [\n                Icon(Icons.analytics_outlined, color: statusColor),\n                const SizedBox(width: 8),\n                Text(\n                  'Ades√£o Acumulada',\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                    fontWeight: FontWeight.bold,\n                    color: Colors.grey[800],\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            // Overall Summary (Optional or keep as header)\n            Row(\n              children: [\n                Expanded(\n                  child: ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: adherencePercent,\n                      backgroundColor: Colors.grey[200],\n                      color: statusColor,\n                      minHeight: 10,\n                    ),\n                  ),\n                ),\n                const SizedBox(width: 12),\n                Text(\n                  '${overallAdherence.toStringAsFixed(0)}%',\n                  style: TextStyle(\n                    fontWeight: FontWeight.bold,\n                    fontSize: 18,\n                    color: statusColor,\n                  ),\n                ),\n              ],\n            ),\n            if (plans.isNotEmpty) ...[\n              const SizedBox(height: 16),\n              const Divider(),\n              const SizedBox(height: 8),\n              ...plans.map((plan) {\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }),\n            ] else\n              Padding(\n                padding: const EdgeInsets.only(top: 12.0),\n                child: Text(\n                  'Nenhum plano ativo.',\n                  style: TextStyle(\n                    color: Colors.grey[600],\n                    fontStyle: FontStyle.italic,\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor AdherenceReportCard decrease metric value","codeSpan":{"start":{"offset":297,"line":10,"column":3},"end":{"offset":457,"line":16,"column":6},"text":"const AdherenceReportCard({\n    super.key,\n    required this.overallAdherence,\n    required this.plans,\n    required this.counts,\n    required this.goals,\n  });"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":473,"line":19,"column":3},"end":{"offset":7194,"line":190,"column":4},"text":"Widget build(BuildContext context) {\n    final adherencePercent = overallAdherence / 100;\n    Color statusColor;\n    if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }\n\n    return Card(\n      margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      elevation: 4,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Row(\n              children: [\n                Icon(Icons.analytics_outlined, color: statusColor),\n                const SizedBox(width: 8),\n                Text(\n                  'Ades√£o Acumulada',\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                    fontWeight: FontWeight.bold,\n                    color: Colors.grey[800],\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            // Overall Summary (Optional or keep as header)\n            Row(\n              children: [\n                Expanded(\n                  child: ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: adherencePercent,\n                      backgroundColor: Colors.grey[200],\n                      color: statusColor,\n                      minHeight: 10,\n                    ),\n                  ),\n                ),\n                const SizedBox(width: 12),\n                Text(\n                  '${overallAdherence.toStringAsFixed(0)}%',\n                  style: TextStyle(\n                    fontWeight: FontWeight.bold,\n                    fontSize: 18,\n                    color: statusColor,\n                  ),\n                ),\n              ],\n            ),\n            if (plans.isNotEmpty) ...[\n              const SizedBox(height: 16),\n              const Divider(),\n              const SizedBox(height: 8),\n              ...plans.map((plan) {\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }),\n            ] else\n              Padding(\n                padding: const EdgeInsets.only(top: 12.0),\n                child: Text(\n                  'Nenhum plano ativo.',\n                  style: TextStyle(\n                    color: Colors.grey[600],\n                    fontStyle: FontStyle.italic,\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"AdherenceReportCard.AdherenceReportCard":{"codeSpan":{"start":{"offset":297,"line":10,"column":3},"end":{"offset":457,"line":16,"column":6},"text":"const AdherenceReportCard({\n    super.key,\n    required this.overallAdherence,\n    required this.plans,\n    required this.counts,\n    required this.goals,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This constructor has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"AdherenceReportCard.build":{"codeSpan":{"start":{"offset":473,"line":19,"column":3},"end":{"offset":7194,"line":190,"column":4},"text":"Widget build(BuildContext context) {\n    final adherencePercent = overallAdherence / 100;\n    Color statusColor;\n    if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }\n\n    return Card(\n      margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      elevation: 4,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Row(\n              children: [\n                Icon(Icons.analytics_outlined, color: statusColor),\n                const SizedBox(width: 8),\n                Text(\n                  'Ades√£o Acumulada',\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                    fontWeight: FontWeight.bold,\n                    color: Colors.grey[800],\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            // Overall Summary (Optional or keep as header)\n            Row(\n              children: [\n                Expanded(\n                  child: ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: adherencePercent,\n                      backgroundColor: Colors.grey[200],\n                      color: statusColor,\n                      minHeight: 10,\n                    ),\n                  ),\n                ),\n                const SizedBox(width: 12),\n                Text(\n                  '${overallAdherence.toStringAsFixed(0)}%',\n                  style: TextStyle(\n                    fontWeight: FontWeight.bold,\n                    fontSize: 18,\n                    color: statusColor,\n                  ),\n                ),\n              ],\n            ),\n            if (plans.isNotEmpty) ...[\n              const SizedBox(height: 16),\n              const Divider(),\n              const SizedBox(height: 8),\n              ...plans.map((plan) {\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }),\n            ] else\n              Padding(\n                padding: const EdgeInsets.only(top: 12.0),\n                child: Text(\n                  'Nenhum plano ativo.',\n                  style: TextStyle(\n                    color: Colors.grey[600],\n                    fontStyle: FontStyle.italic,\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":11,"level":"alarm","comment":"This method has a cyclomatic complexity of 11, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":590,"line":22,"column":5},"end":{"offset":780,"line":28,"column":6},"text":"if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":665,"line":24,"column":12},"end":{"offset":780,"line":28,"column":6},"text":"if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1413,"line":45,"column":65},"end":{"offset":1415,"line":45,"column":67},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2746,"line":83,"column":47},"end":{"offset":2748,"line":83,"column":49},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2796,"line":84,"column":45},"end":{"offset":2798,"line":84,"column":47},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2860,"line":86,"column":17},"end":{"offset":2999,"line":89,"column":18},"text":"if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2940,"line":88,"column":19},"end":{"offset":2981,"line":88,"column":60},"text":"if (planPercent > 1.0) planPercent = 1.0;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3050,"line":92,"column":17},"end":{"offset":3298,"line":98,"column":18},"text":"if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3143,"line":94,"column":24},"end":{"offset":3298,"line":98,"column":18},"text":"if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":4380,"line":123,"column":58},"end":{"offset":4382,"line":123,"column":60},"text":"&&"}}]},{"metricsId":"halstead-volume","value":3042.874688616541,"level":"none","comment":"This method has a halstead volume of 3042.874688616541.","context":[]},{"metricsId":"lines-of-code","value":173,"unitType":"lines","level":"none","comment":"This method has 173 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":508,"line":19,"column":38},"end":{"offset":7194,"line":190,"column":4},"text":"{\n    final adherencePercent = overallAdherence / 100;\n    Color statusColor;\n    if (overallAdherence >= 80) {\n      statusColor = Colors.green;\n    } else if (overallAdherence >= 50) {\n      statusColor = Colors.orange;\n    } else {\n      statusColor = Colors.red;\n    }\n\n    return Card(\n      margin: const EdgeInsets.symmetric(horizontal: 16, vertical: 8),\n      elevation: 4,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Row(\n              children: [\n                Icon(Icons.analytics_outlined, color: statusColor),\n                const SizedBox(width: 8),\n                Text(\n                  'Ades√£o Acumulada',\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(\n                    fontWeight: FontWeight.bold,\n                    color: Colors.grey[800],\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            // Overall Summary (Optional or keep as header)\n            Row(\n              children: [\n                Expanded(\n                  child: ClipRRect(\n                    borderRadius: BorderRadius.circular(8),\n                    child: LinearProgressIndicator(\n                      value: adherencePercent,\n                      backgroundColor: Colors.grey[200],\n                      color: statusColor,\n                      minHeight: 10,\n                    ),\n                  ),\n                ),\n                const SizedBox(width: 12),\n                Text(\n                  '${overallAdherence.toStringAsFixed(0)}%',\n                  style: TextStyle(\n                    fontWeight: FontWeight.bold,\n                    fontSize: 18,\n                    color: statusColor,\n                  ),\n                ),\n              ],\n            ),\n            if (plans.isNotEmpty) ...[\n              const SizedBox(height: 16),\n              const Divider(),\n              const SizedBox(height: 8),\n              ...plans.map((plan) {\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }),\n            ] else\n              Padding(\n                padding: const EdgeInsets.only(top: 12.0),\n                child: Text(\n                  'Nenhum plano ativo.',\n                  style: TextStyle(\n                    color: Colors.grey[600],\n                    fontStyle: FontStyle.italic,\n                  ),\n                ),\n              ),\n          ],\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2698,"line":82,"column":35},"end":{"offset":6790,"line":174,"column":16},"text":"{\n                final count = counts[plan.id] ?? 0;\n                final goal = goals[plan.id] ?? 0;\n                double planPercent = 0.0;\n                if (goal > 0) {\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }\n\n                Color planColor;\n                if (planPercent >= 0.8) {\n                  planColor = Colors.green;\n                } else if (planPercent >= 0.5) {\n                  planColor = Colors.orange;\n                } else {\n                  planColor = Colors.red;\n                }\n\n                return Padding(\n                  padding: const EdgeInsets.symmetric(vertical: 8.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Row(\n                        children: [\n                          const Icon(\n                            Icons.medication,\n                            size: 16,\n                            color: Colors.grey,\n                          ),\n                          const SizedBox(width: 8),\n                          Expanded(\n                            child: Column(\n                              crossAxisAlignment: CrossAxisAlignment.start,\n                              children: [\n                                Text(\n                                  plan.title,\n                                  style: const TextStyle(\n                                    fontWeight: FontWeight.w600,\n                                  ),\n                                ),\n                                if (plan.endDate != null &&\n                                    plan.endDate!.isBefore(DateTime.now()))\n                                  Container(\n                                    margin: const EdgeInsets.only(top: 2),\n                                    padding: const EdgeInsets.symmetric(\n                                      horizontal: 6,\n                                      vertical: 2,\n                                    ),\n                                    decoration: BoxDecoration(\n                                      color: Colors.grey[200],\n                                      borderRadius: BorderRadius.circular(4),\n                                    ),\n                                    child: Text(\n                                      'Conclu√≠do em ${plan.endDate!.day}/${plan.endDate!.month}',\n                                      style: TextStyle(\n                                        fontSize: 10,\n                                        color: Colors.grey[700],\n                                        fontWeight: FontWeight.bold,\n                                      ),\n                                    ),\n                                  ),\n                              ],\n                            ),\n                          ),\n                          Text(\n                            '${(planPercent * 100).toStringAsFixed(0)}%',\n                            style: TextStyle(\n                              color: planColor,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                      const SizedBox(height: 6),\n                      ClipRRect(\n                        borderRadius: BorderRadius.circular(4),\n                        child: LinearProgressIndicator(\n                          value: planPercent,\n                          backgroundColor: Colors.grey[200],\n                          color: planColor,\n                          minHeight: 6,\n                        ),\n                      ),\n                      const SizedBox(height: 4),\n                      Text(\n                        'Tomou $count de $goal esperados desde o in√≠cio',\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                      ),\n                    ],\n                  ),\n                );\n              }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2874,"line":86,"column":31},"end":{"offset":2999,"line":89,"column":18},"text":"{\n                  planPercent = count / goal;\n                  if (planPercent > 1.0) planPercent = 1.0;\n                }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":166,"unitType":"lines","level":"none","comment":"This method has 166 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":510,"line":20,"column":0},"end":{"offset":510,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":563,"line":21,"column":0},"end":{"offset":563,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":586,"line":22,"column":0},"end":{"offset":586,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":620,"line":23,"column":0},"end":{"offset":620,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":654,"line":24,"column":0},"end":{"offset":654,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":695,"line":25,"column":0},"end":{"offset":695,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":730,"line":26,"column":0},"end":{"offset":730,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":743,"line":27,"column":0},"end":{"offset":743,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":775,"line":28,"column":0},"end":{"offset":775,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":782,"line":30,"column":0},"end":{"offset":782,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":799,"line":31,"column":0},"end":{"offset":799,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":870,"line":32,"column":0},"end":{"offset":870,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":890,"line":33,"column":0},"end":{"offset":890,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":968,"line":34,"column":0},"end":{"offset":968,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":990,"line":35,"column":0},"end":{"offset":990,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1035,"line":36,"column":0},"end":{"offset":1035,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1058,"line":37,"column":0},"end":{"offset":1058,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1114,"line":38,"column":0},"end":{"offset":1114,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1136,"line":39,"column":0},"end":{"offset":1136,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1153,"line":40,"column":0},"end":{"offset":1153,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1179,"line":41,"column":0},"end":{"offset":1179,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1247,"line":42,"column":0},"end":{"offset":1247,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1289,"line":43,"column":0},"end":{"offset":1289,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1311,"line":44,"column":0},"end":{"offset":1311,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1349,"line":45,"column":0},"end":{"offset":1349,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1425,"line":46,"column":0},"end":{"offset":1425,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1474,"line":47,"column":0},"end":{"offset":1474,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1519,"line":48,"column":0},"end":{"offset":1519,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1540,"line":49,"column":0},"end":{"offset":1540,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1559,"line":50,"column":0},"end":{"offset":1559,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1576,"line":51,"column":0},"end":{"offset":1576,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1591,"line":52,"column":0},"end":{"offset":1591,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1691,"line":54,"column":0},"end":{"offset":1691,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1708,"line":55,"column":0},"end":{"offset":1708,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1734,"line":56,"column":0},"end":{"offset":1734,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1760,"line":57,"column":0},"end":{"offset":1760,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1796,"line":58,"column":0},"end":{"offset":1796,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1856,"line":59,"column":0},"end":{"offset":1856,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1908,"line":60,"column":0},"end":{"offset":1908,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1955,"line":61,"column":0},"end":{"offset":1955,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2012,"line":62,"column":0},"end":{"offset":2012,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2054,"line":63,"column":0},"end":{"offset":2054,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2091,"line":64,"column":0},"end":{"offset":2091,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2114,"line":65,"column":0},"end":{"offset":2114,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2135,"line":66,"column":0},"end":{"offset":2135,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2154,"line":67,"column":0},"end":{"offset":2154,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2197,"line":68,"column":0},"end":{"offset":2197,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2219,"line":69,"column":0},"end":{"offset":2219,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2280,"line":70,"column":0},"end":{"offset":2280,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2316,"line":71,"column":0},"end":{"offset":2316,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2365,"line":72,"column":0},"end":{"offset":2365,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2399,"line":73,"column":0},"end":{"offset":2399,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2439,"line":74,"column":0},"end":{"offset":2439,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2460,"line":75,"column":0},"end":{"offset":2460,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2479,"line":76,"column":0},"end":{"offset":2479,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2496,"line":77,"column":0},"end":{"offset":2496,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2511,"line":78,"column":0},"end":{"offset":2511,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2550,"line":79,"column":0},"end":{"offset":2550,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2592,"line":80,"column":0},"end":{"offset":2592,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2623,"line":81,"column":0},"end":{"offset":2623,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2664,"line":82,"column":0},"end":{"offset":2664,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2700,"line":83,"column":0},"end":{"offset":2700,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2752,"line":84,"column":0},"end":{"offset":2752,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2802,"line":85,"column":0},"end":{"offset":2802,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2844,"line":86,"column":0},"end":{"offset":2844,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2876,"line":87,"column":0},"end":{"offset":2876,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2922,"line":88,"column":0},"end":{"offset":2922,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2982,"line":89,"column":0},"end":{"offset":2982,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3001,"line":91,"column":0},"end":{"offset":3001,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3034,"line":92,"column":0},"end":{"offset":3034,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3076,"line":93,"column":0},"end":{"offset":3076,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3120,"line":94,"column":0},"end":{"offset":3120,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3169,"line":95,"column":0},"end":{"offset":3169,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3214,"line":96,"column":0},"end":{"offset":3214,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3239,"line":97,"column":0},"end":{"offset":3239,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3281,"line":98,"column":0},"end":{"offset":3281,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3300,"line":100,"column":0},"end":{"offset":3300,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3332,"line":101,"column":0},"end":{"offset":3332,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3402,"line":102,"column":0},"end":{"offset":3402,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3435,"line":103,"column":0},"end":{"offset":3435,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3501,"line":104,"column":0},"end":{"offset":3501,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3533,"line":105,"column":0},"end":{"offset":3533,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3560,"line":106,"column":0},"end":{"offset":3560,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3596,"line":107,"column":0},"end":{"offset":3596,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3634,"line":108,"column":0},"end":{"offset":3634,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3680,"line":109,"column":0},"end":{"offset":3680,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3718,"line":110,"column":0},"end":{"offset":3718,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3766,"line":111,"column":0},"end":{"offset":3766,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3795,"line":112,"column":0},"end":{"offset":3795,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3847,"line":113,"column":0},"end":{"offset":3847,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3883,"line":114,"column":0},"end":{"offset":3883,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3926,"line":115,"column":0},"end":{"offset":3926,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4002,"line":116,"column":0},"end":{"offset":4002,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4044,"line":117,"column":0},"end":{"offset":4044,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4082,"line":118,"column":0},"end":{"offset":4082,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4128,"line":119,"column":0},"end":{"offset":4128,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4186,"line":120,"column":0},"end":{"offset":4186,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4251,"line":121,"column":0},"end":{"offset":4251,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4288,"line":122,"column":0},"end":{"offset":4288,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4323,"line":123,"column":0},"end":{"offset":4323,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4383,"line":124,"column":0},"end":{"offset":4383,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4459,"line":125,"column":0},"end":{"offset":4459,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4504,"line":126,"column":0},"end":{"offset":4504,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4579,"line":127,"column":0},"end":{"offset":4579,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4652,"line":128,"column":0},"end":{"offset":4652,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4705,"line":129,"column":0},"end":{"offset":4705,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4756,"line":130,"column":0},"end":{"offset":4756,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4795,"line":131,"column":0},"end":{"offset":4795,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4858,"line":132,"column":0},"end":{"offset":4858,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4921,"line":133,"column":0},"end":{"offset":4921,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4999,"line":134,"column":0},"end":{"offset":4999,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5038,"line":135,"column":0},"end":{"offset":5038,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5087,"line":136,"column":0},"end":{"offset":5087,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5185,"line":137,"column":0},"end":{"offset":5185,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5241,"line":138,"column":0},"end":{"offset":5241,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5295,"line":139,"column":0},"end":{"offset":5295,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5360,"line":140,"column":0},"end":{"offset":5360,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5429,"line":141,"column":0},"end":{"offset":5429,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5470,"line":142,"column":0},"end":{"offset":5470,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5509,"line":143,"column":0},"end":{"offset":5509,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5546,"line":144,"column":0},"end":{"offset":5546,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5579,"line":145,"column":0},"end":{"offset":5579,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5610,"line":146,"column":0},"end":{"offset":5610,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5639,"line":147,"column":0},"end":{"offset":5639,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5671,"line":148,"column":0},"end":{"offset":5671,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5745,"line":149,"column":0},"end":{"offset":5745,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5791,"line":150,"column":0},"end":{"offset":5791,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5839,"line":151,"column":0},"end":{"offset":5839,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5898,"line":152,"column":0},"end":{"offset":5898,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5929,"line":153,"column":0},"end":{"offset":5929,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5958,"line":154,"column":0},"end":{"offset":5958,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5985,"line":155,"column":0},"end":{"offset":5985,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6010,"line":156,"column":0},"end":{"offset":6010,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6059,"line":157,"column":0},"end":{"offset":6059,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6092,"line":158,"column":0},"end":{"offset":6092,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6156,"line":159,"column":0},"end":{"offset":6156,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6212,"line":160,"column":0},"end":{"offset":6212,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6258,"line":161,"column":0},"end":{"offset":6258,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6319,"line":162,"column":0},"end":{"offset":6319,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6363,"line":163,"column":0},"end":{"offset":6363,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6403,"line":164,"column":0},"end":{"offset":6403,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6430,"line":165,"column":0},"end":{"offset":6430,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6455,"line":166,"column":0},"end":{"offset":6455,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6504,"line":167,"column":0},"end":{"offset":6504,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6532,"line":168,"column":0},"end":{"offset":6532,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6606,"line":169,"column":0},"end":{"offset":6606,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6687,"line":170,"column":0},"end":{"offset":6687,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6712,"line":171,"column":0},"end":{"offset":6712,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6735,"line":172,"column":0},"end":{"offset":6735,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6756,"line":173,"column":0},"end":{"offset":6756,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6775,"line":174,"column":0},"end":{"offset":6775,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6793,"line":175,"column":0},"end":{"offset":6793,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6812,"line":176,"column":0},"end":{"offset":6812,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6835,"line":177,"column":0},"end":{"offset":6835,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6894,"line":178,"column":0},"end":{"offset":6894,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6923,"line":179,"column":0},"end":{"offset":6923,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6964,"line":180,"column":0},"end":{"offset":6964,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7000,"line":181,"column":0},"end":{"offset":7000,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7045,"line":182,"column":0},"end":{"offset":7045,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7094,"line":183,"column":0},"end":{"offset":7094,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7115,"line":184,"column":0},"end":{"offset":7115,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7134,"line":185,"column":0},"end":{"offset":7134,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7151,"line":186,"column":0},"end":{"offset":7151,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7164,"line":187,"column":0},"end":{"offset":7164,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7175,"line":188,"column":0},"end":{"offset":7175,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7184,"line":189,"column":0},"end":{"offset":7184,"line":189,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":26,"level":"alarm","comment":"This method has 26 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/patient_home_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PatientHomeScreen":{"codeSpan":{"start":{"offset":339,"line":9,"column":1},"end":{"offset":513,"line":14,"column":2},"text":"class PatientHomeScreen extends StatefulWidget {\n  const PatientHomeScreen({super.key});\n\n  @override\n  State<PatientHomeScreen> createState() => _PatientHomeScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor PatientHomeScreen increase metric value","codeSpan":{"start":{"offset":390,"line":10,"column":3},"end":{"offset":427,"line":10,"column":40},"text":"const PatientHomeScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":443,"line":13,"column":3},"end":{"offset":511,"line":13,"column":71},"text":"State<PatientHomeScreen> createState() => _PatientHomeScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor PatientHomeScreen decrease metric value","codeSpan":{"start":{"offset":390,"line":10,"column":3},"end":{"offset":427,"line":10,"column":40},"text":"const PatientHomeScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":443,"line":13,"column":3},"end":{"offset":511,"line":13,"column":71},"text":"State<PatientHomeScreen> createState() => _PatientHomeScreenState();"}}]}]},"_PatientHomeScreenState":{"codeSpan":{"start":{"offset":515,"line":16,"column":1},"end":{"offset":2570,"line":80,"column":2},"text":"class _PatientHomeScreenState extends State<PatientHomeScreen> {\n  int _currentIndex = 0;\n\n  final List<Widget> _pages = const [CarePlanHomeScreen(), ProfileScreen()];\n\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    });\n  }\n\n  void _onCarePlansChanged() {\n    final carePlanViewModel = context.read<CarePlanViewModel>();\n    if (carePlanViewModel.plans.isNotEmpty) {\n      _scheduleNotifications(carePlanViewModel.plans);\n    }\n  }\n\n  Future<void> _scheduleNotifications(List<dynamic> plans) async {\n    final notificationService = context.read<NotificationService>();\n    await notificationService.cancelAll();\n\n    for (final plan in plans) {\n      await notificationService.scheduleFromPlan(plan);\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: IndexedStack(index: _currentIndex, children: _pages),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex,\n        onTap: (index) {\n          setState(() {\n            _currentIndex = index;\n          });\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.medical_services),\n            label: 'Meu Tratamento',\n          ),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":698,"line":22,"column":3},"end":{"offset":1375,"line":38,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    });\n  }"}},{"message":"method _onCarePlansChanged increase metric value","codeSpan":{"start":{"offset":1379,"line":40,"column":3},"end":{"offset":1583,"line":45,"column":4},"text":"void _onCarePlansChanged() {\n    final carePlanViewModel = context.read<CarePlanViewModel>();\n    if (carePlanViewModel.plans.isNotEmpty) {\n      _scheduleNotifications(carePlanViewModel.plans);\n    }\n  }"}},{"message":"method _scheduleNotifications increase metric value","codeSpan":{"start":{"offset":1587,"line":47,"column":3},"end":{"offset":1862,"line":54,"column":4},"text":"Future<void> _scheduleNotifications(List<dynamic> plans) async {\n    final notificationService = context.read<NotificationService>();\n    await notificationService.cancelAll();\n\n    for (final plan in plans) {\n      await notificationService.scheduleFromPlan(plan);\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":2568,"line":79,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: IndexedStack(index: _currentIndex, children: _pages),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex,\n        onTap: (index) {\n          setState(() {\n            _currentIndex = index;\n          });\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.medical_services),\n            label: 'Meu Tratamento',\n          ),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":698,"line":22,"column":3},"end":{"offset":1375,"line":38,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    });\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":2568,"line":79,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: IndexedStack(index: _currentIndex, children: _pages),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex,\n        onTap: (index) {\n          setState(() {\n            _currentIndex = index;\n          });\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.medical_services),\n            label: 'Meu Tratamento',\n          ),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}}]}]}},"functions":{"PatientHomeScreen.PatientHomeScreen":{"codeSpan":{"start":{"offset":390,"line":10,"column":3},"end":{"offset":427,"line":10,"column":40},"text":"const PatientHomeScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"PatientHomeScreen.createState":{"codeSpan":{"start":{"offset":443,"line":13,"column":3},"end":{"offset":511,"line":13,"column":71},"text":"State<PatientHomeScreen> createState() => _PatientHomeScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":441,"line":13,"column":0},"end":{"offset":441,"line":13,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_PatientHomeScreenState.initState":{"codeSpan":{"start":{"offset":698,"line":22,"column":3},"end":{"offset":1375,"line":38,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1257,"line":34,"column":7},"end":{"offset":1363,"line":36,"column":8},"text":"if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }"}}]},{"metricsId":"halstead-volume","value":289.50796518764884,"level":"none","comment":"This method has a halstead volume of 289.50796518764884.","context":[]},{"metricsId":"lines-of-code","value":18,"unitType":"lines","level":"none","comment":"This method has 18 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":715,"line":22,"column":20},"end":{"offset":1375,"line":38,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":799,"line":24,"column":60},"end":{"offset":1369,"line":37,"column":6},"text":"{\n      // Initialize Notification Service\n      final notificationService = context.read<NotificationService>();\n      await notificationService.initialize();\n      await notificationService.requestPermissions();\n\n      // Listen to CarePlanViewModel to know when plans are loaded\n      final carePlanViewModel = context.read<CarePlanViewModel>();\n      carePlanViewModel.addListener(_onCarePlansChanged);\n      // Check immediately if already loaded\n      if (carePlanViewModel.plans.isNotEmpty) {\n        _scheduleNotifications(carePlanViewModel.plans);\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1297,"line":34,"column":47},"end":{"offset":1363,"line":36,"column":8},"text":"{\n        _scheduleNotifications(carePlanViewModel.plans);\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":717,"line":23,"column":0},"end":{"offset":717,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":740,"line":24,"column":0},"end":{"offset":740,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":842,"line":26,"column":0},"end":{"offset":842,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":913,"line":27,"column":0},"end":{"offset":913,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":959,"line":28,"column":0},"end":{"offset":959,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1081,"line":31,"column":0},"end":{"offset":1081,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1148,"line":32,"column":0},"end":{"offset":1148,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1251,"line":34,"column":0},"end":{"offset":1251,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1299,"line":35,"column":0},"end":{"offset":1299,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1356,"line":36,"column":0},"end":{"offset":1356,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1364,"line":37,"column":0},"end":{"offset":1364,"line":37,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":60,"level":"warning","comment":"This method has 60 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientHomeScreenState._onCarePlansChanged":{"codeSpan":{"start":{"offset":1379,"line":40,"column":3},"end":{"offset":1583,"line":45,"column":4},"text":"void _onCarePlansChanged() {\n    final carePlanViewModel = context.read<CarePlanViewModel>();\n    if (carePlanViewModel.plans.isNotEmpty) {\n      _scheduleNotifications(carePlanViewModel.plans);\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1477,"line":42,"column":5},"end":{"offset":1579,"line":44,"column":6},"text":"if (carePlanViewModel.plans.isNotEmpty) {\n      _scheduleNotifications(carePlanViewModel.plans);\n    }"}}]},{"metricsId":"halstead-volume","value":43.18506523353572,"level":"none","comment":"This method has a halstead volume of 43.18506523353572.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1406,"line":40,"column":30},"end":{"offset":1583,"line":45,"column":4},"text":"{\n    final carePlanViewModel = context.read<CarePlanViewModel>();\n    if (carePlanViewModel.plans.isNotEmpty) {\n      _scheduleNotifications(carePlanViewModel.plans);\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1517,"line":42,"column":45},"end":{"offset":1579,"line":44,"column":6},"text":"{\n      _scheduleNotifications(carePlanViewModel.plans);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1408,"line":41,"column":0},"end":{"offset":1408,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1473,"line":42,"column":0},"end":{"offset":1473,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1519,"line":43,"column":0},"end":{"offset":1519,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1574,"line":44,"column":0},"end":{"offset":1574,"line":44,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":76,"level":"warning","comment":"This method has 76 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientHomeScreenState._scheduleNotifications":{"codeSpan":{"start":{"offset":1587,"line":47,"column":3},"end":{"offset":1862,"line":54,"column":4},"text":"Future<void> _scheduleNotifications(List<dynamic> plans) async {\n    final notificationService = context.read<NotificationService>();\n    await notificationService.cancelAll();\n\n    for (final plan in plans) {\n      await notificationService.scheduleFromPlan(plan);\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":1769,"line":51,"column":5},"end":{"offset":1858,"line":53,"column":6},"text":"for (final plan in plans) {\n      await notificationService.scheduleFromPlan(plan);\n    }"}}]},{"metricsId":"halstead-volume","value":57.359400011538504,"level":"none","comment":"This method has a halstead volume of 57.359400011538504.","context":[]},{"metricsId":"lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1650,"line":47,"column":66},"end":{"offset":1862,"line":54,"column":4},"text":"{\n    final notificationService = context.read<NotificationService>();\n    await notificationService.cancelAll();\n\n    for (final plan in plans) {\n      await notificationService.scheduleFromPlan(plan);\n    }\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":1795,"line":51,"column":31},"end":{"offset":1858,"line":53,"column":6},"text":"{\n      await notificationService.scheduleFromPlan(plan);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1652,"line":48,"column":0},"end":{"offset":1652,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1721,"line":49,"column":0},"end":{"offset":1721,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1765,"line":51,"column":0},"end":{"offset":1765,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1797,"line":52,"column":0},"end":{"offset":1797,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1853,"line":53,"column":0},"end":{"offset":1853,"line":53,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":73,"level":"warning","comment":"This method has 73 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientHomeScreenState.build":{"codeSpan":{"start":{"offset":1878,"line":57,"column":3},"end":{"offset":2568,"line":79,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: IndexedStack(index: _currentIndex, children: _pages),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex,\n        onTap: (index) {\n          setState(() {\n            _currentIndex = index;\n          });\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.medical_services),\n            label: 'Meu Tratamento',\n          ),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":211.52361657053456,"level":"none","comment":"This method has a halstead volume of 211.52361657053456.","context":[]},{"metricsId":"lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1913,"line":57,"column":38},"end":{"offset":2568,"line":79,"column":4},"text":"{\n    return Scaffold(\n      body: SafeArea(\n        child: IndexedStack(index: _currentIndex, children: _pages),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        currentIndex: _currentIndex,\n        onTap: (index) {\n          setState(() {\n            _currentIndex = index;\n          });\n        },\n        selectedLabelStyle: const TextStyle(fontWeight: FontWeight.w600),\n        items: const [\n          BottomNavigationBarItem(\n            icon: Icon(Icons.medical_services),\n            label: 'Meu Tratamento',\n          ),\n          BottomNavigationBarItem(icon: Icon(Icons.person), label: 'Perfil'),\n        ],\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2144,"line":64,"column":24},"end":{"offset":2228,"line":68,"column":10},"text":"{\n          setState(() {\n            _currentIndex = index;\n          });\n        }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2168,"line":65,"column":23},"end":{"offset":2216,"line":67,"column":12},"text":"{\n            _currentIndex = index;\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1915,"line":58,"column":0},"end":{"offset":1915,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1936,"line":59,"column":0},"end":{"offset":1936,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1958,"line":60,"column":0},"end":{"offset":1958,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2027,"line":61,"column":0},"end":{"offset":2027,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2036,"line":62,"column":0},"end":{"offset":2036,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2084,"line":63,"column":0},"end":{"offset":2084,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2121,"line":64,"column":0},"end":{"offset":2121,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2146,"line":65,"column":0},"end":{"offset":2146,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2170,"line":66,"column":0},"end":{"offset":2170,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2205,"line":67,"column":0},"end":{"offset":2205,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2219,"line":68,"column":0},"end":{"offset":2219,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2230,"line":69,"column":0},"end":{"offset":2230,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2304,"line":70,"column":0},"end":{"offset":2304,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2327,"line":71,"column":0},"end":{"offset":2327,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2362,"line":72,"column":0},"end":{"offset":2362,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2410,"line":73,"column":0},"end":{"offset":2410,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2447,"line":74,"column":0},"end":{"offset":2447,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2460,"line":75,"column":0},"end":{"offset":2460,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2538,"line":76,"column":0},"end":{"offset":2538,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2549,"line":77,"column":0},"end":{"offset":2549,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2558,"line":78,"column":0},"end":{"offset":2558,"line":78,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/doctor_dashboard_widget.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"DoctorDashboardWidget":{"codeSpan":{"start":{"offset":233,"line":7,"column":1},"end":{"offset":423,"line":12,"column":2},"text":"class DoctorDashboardWidget extends StatefulWidget {\n  const DoctorDashboardWidget({super.key});\n\n  @override\n  State<DoctorDashboardWidget> createState() => _DoctorDashboardWidgetState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor DoctorDashboardWidget increase metric value","codeSpan":{"start":{"offset":288,"line":8,"column":3},"end":{"offset":329,"line":8,"column":44},"text":"const DoctorDashboardWidget({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":345,"line":11,"column":3},"end":{"offset":421,"line":11,"column":79},"text":"State<DoctorDashboardWidget> createState() => _DoctorDashboardWidgetState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor DoctorDashboardWidget decrease metric value","codeSpan":{"start":{"offset":288,"line":8,"column":3},"end":{"offset":329,"line":8,"column":44},"text":"const DoctorDashboardWidget({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":345,"line":11,"column":3},"end":{"offset":421,"line":11,"column":79},"text":"State<DoctorDashboardWidget> createState() => _DoctorDashboardWidgetState();"}}]}]},"_DoctorDashboardWidgetState":{"codeSpan":{"start":{"offset":425,"line":14,"column":1},"end":{"offset":3443,"line":100,"column":2},"text":"class _DoctorDashboardWidgetState extends State<DoctorDashboardWidget> {\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // Watch AuthViewModel mainly for the name\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 24.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              'Ol√°, Dr. ${user?.name?.split(' ').first ?? 'M√©dico'}',\n              style: TextStyle(\n                fontSize: 28,\n                fontWeight: FontWeight.w800,\n                color: Theme.of(context).primaryColor,\n                letterSpacing: -0.5,\n              ),\n            ),\n            const SizedBox(height: 8),\n            Text(\n              'Aqui est√° o resumo dos seus planos',\n              style: TextStyle(\n                fontSize: 16,\n                color: Colors.grey[600],\n                fontWeight: FontWeight.w500,\n              ),\n            ),\n            const SizedBox(height: 32),\n            Consumer<HomeViewModel>(\n              builder: (context, viewModel, _) {\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":512,"line":16,"column":3},"end":{"offset":774,"line":24,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    });\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":790,"line":27,"column":3},"end":{"offset":3441,"line":99,"column":4},"text":"Widget build(BuildContext context) {\n    // Watch AuthViewModel mainly for the name\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 24.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              'Ol√°, Dr. ${user?.name?.split(' ').first ?? 'M√©dico'}',\n              style: TextStyle(\n                fontSize: 28,\n                fontWeight: FontWeight.w800,\n                color: Theme.of(context).primaryColor,\n                letterSpacing: -0.5,\n              ),\n            ),\n            const SizedBox(height: 8),\n            Text(\n              'Aqui est√° o resumo dos seus planos',\n              style: TextStyle(\n                fontSize: 16,\n                color: Colors.grey[600],\n                fontWeight: FontWeight.w500,\n              ),\n            ),\n            const SizedBox(height: 32),\n            Consumer<HomeViewModel>(\n              builder: (context, viewModel, _) {\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":512,"line":16,"column":3},"end":{"offset":774,"line":24,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    });\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":790,"line":27,"column":3},"end":{"offset":3441,"line":99,"column":4},"text":"Widget build(BuildContext context) {\n    // Watch AuthViewModel mainly for the name\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 24.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              'Ol√°, Dr. ${user?.name?.split(' ').first ?? 'M√©dico'}',\n              style: TextStyle(\n                fontSize: 28,\n                fontWeight: FontWeight.w800,\n                color: Theme.of(context).primaryColor,\n                letterSpacing: -0.5,\n              ),\n            ),\n            const SizedBox(height: 8),\n            Text(\n              'Aqui est√° o resumo dos seus planos',\n              style: TextStyle(\n                fontSize: 16,\n                color: Colors.grey[600],\n                fontWeight: FontWeight.w500,\n              ),\n            ),\n            const SizedBox(height: 32),\n            Consumer<HomeViewModel>(\n              builder: (context, viewModel, _) {\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}}]}]},"_DashboardCard":{"codeSpan":{"start":{"offset":3445,"line":102,"column":1},"end":{"offset":6140,"line":183,"column":2},"text":"class _DashboardCard extends StatelessWidget {\n  final String title;\n  final String value;\n  final String svgAsset;\n  final VoidCallback? onTap;\n\n  const _DashboardCard({\n    required this.title,\n    required this.value,\n    required this.svgAsset,\n    this.onTap,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      margin: const EdgeInsets.all(0),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 16.0),\n          child: Row(\n            children: [\n              Expanded(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      value,\n                      style: TextStyle(\n                        fontSize: 48,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        height: 1.0,\n                        letterSpacing: -1.5,\n                      ),\n                    ),\n                    const SizedBox(height: 8),\n                    Text(\n                      title,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.w600,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                    if (onTap != null) ...[\n                      const SizedBox(height: 12),\n                      Row(\n                        children: [\n                          Text(\n                            'Ver detalhes',\n                            style: TextStyle(\n                              fontSize: 14,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                          const SizedBox(width: 4),\n                          Icon(\n                            Icons.arrow_forward_rounded,\n                            size: 16,\n                            color: Theme.of(context).primaryColor,\n                          ),\n                        ],\n                      ),\n                    ],\n                  ],\n                ),\n              ),\n              const SizedBox(width: 8),\n              SvgPicture.asset(svgAsset, height: 140),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor _DashboardCard increase metric value","codeSpan":{"start":{"offset":3593,"line":108,"column":3},"end":{"offset":3715,"line":113,"column":6},"text":"const _DashboardCard({\n    required this.title,\n    required this.value,\n    required this.svgAsset,\n    this.onTap,\n  });"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":3731,"line":116,"column":3},"end":{"offset":6138,"line":182,"column":4},"text":"Widget build(BuildContext context) {\n    return Card(\n      margin: const EdgeInsets.all(0),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 16.0),\n          child: Row(\n            children: [\n              Expanded(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      value,\n                      style: TextStyle(\n                        fontSize: 48,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        height: 1.0,\n                        letterSpacing: -1.5,\n                      ),\n                    ),\n                    const SizedBox(height: 8),\n                    Text(\n                      title,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.w600,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                    if (onTap != null) ...[\n                      const SizedBox(height: 12),\n                      Row(\n                        children: [\n                          Text(\n                            'Ver detalhes',\n                            style: TextStyle(\n                              fontSize: 14,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                          const SizedBox(width: 4),\n                          Icon(\n                            Icons.arrow_forward_rounded,\n                            size: 16,\n                            color: Theme.of(context).primaryColor,\n                          ),\n                        ],\n                      ),\n                    ],\n                  ],\n                ),\n              ),\n              const SizedBox(width: 8),\n              SvgPicture.asset(svgAsset, height: 140),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":3731,"line":116,"column":3},"end":{"offset":6138,"line":182,"column":4},"text":"Widget build(BuildContext context) {\n    return Card(\n      margin: const EdgeInsets.all(0),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 16.0),\n          child: Row(\n            children: [\n              Expanded(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      value,\n                      style: TextStyle(\n                        fontSize: 48,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        height: 1.0,\n                        letterSpacing: -1.5,\n                      ),\n                    ),\n                    const SizedBox(height: 8),\n                    Text(\n                      title,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.w600,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                    if (onTap != null) ...[\n                      const SizedBox(height: 12),\n                      Row(\n                        children: [\n                          Text(\n                            'Ver detalhes',\n                            style: TextStyle(\n                              fontSize: 14,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                          const SizedBox(width: 4),\n                          Icon(\n                            Icons.arrow_forward_rounded,\n                            size: 16,\n                            color: Theme.of(context).primaryColor,\n                          ),\n                        ],\n                      ),\n                    ],\n                  ],\n                ),\n              ),\n              const SizedBox(width: 8),\n              SvgPicture.asset(svgAsset, height: 140),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"DoctorDashboardWidget.DoctorDashboardWidget":{"codeSpan":{"start":{"offset":288,"line":8,"column":3},"end":{"offset":329,"line":8,"column":44},"text":"const DoctorDashboardWidget({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"DoctorDashboardWidget.createState":{"codeSpan":{"start":{"offset":345,"line":11,"column":3},"end":{"offset":421,"line":11,"column":79},"text":"State<DoctorDashboardWidget> createState() => _DoctorDashboardWidgetState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":343,"line":11,"column":0},"end":{"offset":343,"line":11,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_DoctorDashboardWidgetState.initState":{"codeSpan":{"start":{"offset":512,"line":16,"column":3},"end":{"offset":774,"line":24,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":670,"line":20,"column":7},"end":{"offset":762,"line":22,"column":8},"text":"if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }"}}]},{"metricsId":"halstead-volume","value":164.0,"level":"none","comment":"This method has a halstead volume of 164.0.","context":[]},{"metricsId":"lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This method has 10 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":529,"line":16,"column":20},"end":{"offset":774,"line":24,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":607,"line":18,"column":54},"end":{"offset":768,"line":23,"column":6},"text":"{\n      final user = context.read<AuthViewModel>().user;\n      if (user != null) {\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":688,"line":20,"column":25},"end":{"offset":762,"line":22,"column":8},"text":"{\n        context.read<HomeViewModel>().fetchDoctorStats(user.id);\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":531,"line":17,"column":0},"end":{"offset":531,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":554,"line":18,"column":0},"end":{"offset":554,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":609,"line":19,"column":0},"end":{"offset":609,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":664,"line":20,"column":0},"end":{"offset":664,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":690,"line":21,"column":0},"end":{"offset":690,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":755,"line":22,"column":0},"end":{"offset":755,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":763,"line":23,"column":0},"end":{"offset":763,"line":23,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":66,"level":"warning","comment":"This method has 66 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_DoctorDashboardWidgetState.build":{"codeSpan":{"start":{"offset":790,"line":27,"column":3},"end":{"offset":3441,"line":99,"column":4},"text":"Widget build(BuildContext context) {\n    // Watch AuthViewModel mainly for the name\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 24.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              'Ol√°, Dr. ${user?.name?.split(' ').first ?? 'M√©dico'}',\n              style: TextStyle(\n                fontSize: 28,\n                fontWeight: FontWeight.w800,\n                color: Theme.of(context).primaryColor,\n                letterSpacing: -0.5,\n              ),\n            ),\n            const SizedBox(height: 8),\n            Text(\n              'Aqui est√° o resumo dos seus planos',\n              style: TextStyle(\n                fontSize: 16,\n                color: Colors.grey[600],\n                fontWeight: FontWeight.w500,\n              ),\n            ),\n            const SizedBox(height: 32),\n            Consumer<HomeViewModel>(\n              builder: (context, viewModel, _) {\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":9,"level":"alarm","comment":"This method has a cyclomatic complexity of 9, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1273,"line":39,"column":31},"end":{"offset":1275,"line":39,"column":33},"text":"?."}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1279,"line":39,"column":37},"end":{"offset":1281,"line":39,"column":39},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1298,"line":39,"column":56},"end":{"offset":1300,"line":39,"column":58},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1975,"line":59,"column":17},"end":{"offset":2094,"line":61,"column":18},"text":"if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":2183,"line":64,"column":41},"end":{"offset":2185,"line":64,"column":43},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2196,"line":64,"column":54},"end":{"offset":2198,"line":64,"column":56},"text":"??"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":2245,"line":65,"column":44},"end":{"offset":2247,"line":65,"column":46},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2261,"line":65,"column":60},"end":{"offset":2263,"line":65,"column":62},"text":"??"}}]},{"metricsId":"halstead-volume","value":1143.3707349601762,"level":"none","comment":"This method has a halstead volume of 1143.3707349601762.","context":[]},{"metricsId":"lines-of-code","value":74,"unitType":"lines","level":"none","comment":"This method has 74 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":825,"line":27,"column":38},"end":{"offset":3441,"line":99,"column":4},"text":"{\n    // Watch AuthViewModel mainly for the name\n    final user = context.select<AuthViewModel, dynamic>((vm) => vm.user);\n\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 24.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            Text(\n              'Ol√°, Dr. ${user?.name?.split(' ').first ?? 'M√©dico'}',\n              style: TextStyle(\n                fontSize: 28,\n                fontWeight: FontWeight.w800,\n                color: Theme.of(context).primaryColor,\n                letterSpacing: -0.5,\n              ),\n            ),\n            const SizedBox(height: 8),\n            Text(\n              'Aqui est√° o resumo dos seus planos',\n              style: TextStyle(\n                fontSize: 16,\n                color: Colors.grey[600],\n                fontWeight: FontWeight.w500,\n              ),\n            ),\n            const SizedBox(height: 32),\n            Consumer<HomeViewModel>(\n              builder: (context, viewModel, _) {\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1957,"line":58,"column":48},"end":{"offset":3381,"line":93,"column":16},"text":"{\n                if (viewModel.isLoading) {\n                  return const Center(child: CircularProgressIndicator());\n                }\n\n                final stats = viewModel.stats;\n                final totalPlans = stats?.totalPlans ?? 0;\n                final checkInsToday = stats?.checkInsToday ?? 0;\n\n                return GridView.count(\n                  crossAxisCount: 1,\n                  childAspectRatio: 1.9,\n                  crossAxisSpacing: 16,\n                  mainAxisSpacing: 16,\n                  shrinkWrap: true,\n                  physics: const NeverScrollableScrollPhysics(),\n                  children: [\n                    _DashboardCard(\n                      title: 'Planos Ativos',\n                      value: '$totalPlans',\n                      svgAsset: 'assets/svg/medical_prescription_amico.svg',\n                      onTap: () => context.read<HomeViewModel>().setIndex(1),\n                    ),\n                    _DashboardCard(\n                      title: 'Ades√£o Hoje',\n                      value: '$checkInsToday',\n                      svgAsset: 'assets/svg/doctor_amico.svg',\n                    ),\n                    _DashboardCard(\n                      title: 'Pr√≥ximas Consultas',\n                      value: '-',\n                      svgAsset: 'assets/svg/online_doctor_amico.svg',\n                    ),\n                  ],\n                );\n              }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2000,"line":59,"column":42},"end":{"offset":2094,"line":61,"column":18},"text":"{\n                  return const Center(child: CircularProgressIndicator());\n                }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":67,"unitType":"lines","level":"none","comment":"This method has 67 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":874,"line":29,"column":0},"end":{"offset":874,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":949,"line":31,"column":0},"end":{"offset":949,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":970,"line":32,"column":0},"end":{"offset":970,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1010,"line":33,"column":0},"end":{"offset":1010,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1045,"line":34,"column":0},"end":{"offset":1045,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1124,"line":35,"column":0},"end":{"offset":1124,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1147,"line":36,"column":0},"end":{"offset":1147,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1203,"line":37,"column":0},"end":{"offset":1203,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1225,"line":38,"column":0},"end":{"offset":1225,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1243,"line":39,"column":0},"end":{"offset":1243,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1313,"line":40,"column":0},"end":{"offset":1313,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1345,"line":41,"column":0},"end":{"offset":1345,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1375,"line":42,"column":0},"end":{"offset":1375,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1420,"line":43,"column":0},"end":{"offset":1420,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1475,"line":44,"column":0},"end":{"offset":1475,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1512,"line":45,"column":0},"end":{"offset":1512,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1529,"line":46,"column":0},"end":{"offset":1529,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1544,"line":47,"column":0},"end":{"offset":1544,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1583,"line":48,"column":0},"end":{"offset":1583,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1601,"line":49,"column":0},"end":{"offset":1601,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1653,"line":50,"column":0},"end":{"offset":1653,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1685,"line":51,"column":0},"end":{"offset":1685,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1715,"line":52,"column":0},"end":{"offset":1715,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1756,"line":53,"column":0},"end":{"offset":1756,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1801,"line":54,"column":0},"end":{"offset":1801,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1818,"line":55,"column":0},"end":{"offset":1818,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1833,"line":56,"column":0},"end":{"offset":1833,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1873,"line":57,"column":0},"end":{"offset":1873,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1910,"line":58,"column":0},"end":{"offset":1910,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1959,"line":59,"column":0},"end":{"offset":1959,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2002,"line":60,"column":0},"end":{"offset":2002,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2077,"line":61,"column":0},"end":{"offset":2077,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2096,"line":63,"column":0},"end":{"offset":2096,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2143,"line":64,"column":0},"end":{"offset":2143,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2202,"line":65,"column":0},"end":{"offset":2202,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2268,"line":67,"column":0},"end":{"offset":2268,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2307,"line":68,"column":0},"end":{"offset":2307,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2344,"line":69,"column":0},"end":{"offset":2344,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2385,"line":70,"column":0},"end":{"offset":2385,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2425,"line":71,"column":0},"end":{"offset":2425,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2464,"line":72,"column":0},"end":{"offset":2464,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2500,"line":73,"column":0},"end":{"offset":2500,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2565,"line":74,"column":0},"end":{"offset":2565,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2595,"line":75,"column":0},"end":{"offset":2595,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2631,"line":76,"column":0},"end":{"offset":2631,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2677,"line":77,"column":0},"end":{"offset":2677,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2721,"line":78,"column":0},"end":{"offset":2721,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2798,"line":79,"column":0},"end":{"offset":2798,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2876,"line":80,"column":0},"end":{"offset":2876,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2899,"line":81,"column":0},"end":{"offset":2899,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2935,"line":82,"column":0},"end":{"offset":2935,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2979,"line":83,"column":0},"end":{"offset":2979,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3026,"line":84,"column":0},"end":{"offset":3026,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3089,"line":85,"column":0},"end":{"offset":3089,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3112,"line":86,"column":0},"end":{"offset":3112,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3148,"line":87,"column":0},"end":{"offset":3148,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3199,"line":88,"column":0},"end":{"offset":3199,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3233,"line":89,"column":0},"end":{"offset":3233,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3303,"line":90,"column":0},"end":{"offset":3303,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3326,"line":91,"column":0},"end":{"offset":3326,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3347,"line":92,"column":0},"end":{"offset":3347,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3366,"line":93,"column":0},"end":{"offset":3366,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3383,"line":94,"column":0},"end":{"offset":3383,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3398,"line":95,"column":0},"end":{"offset":3398,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3411,"line":96,"column":0},"end":{"offset":3411,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3422,"line":97,"column":0},"end":{"offset":3422,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3431,"line":98,"column":0},"end":{"offset":3431,"line":98,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":38,"level":"alarm","comment":"This method has 38 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_DashboardCard._DashboardCard":{"codeSpan":{"start":{"offset":3593,"line":108,"column":3},"end":{"offset":3715,"line":113,"column":6},"text":"const _DashboardCard({\n    required this.title,\n    required this.value,\n    required this.svgAsset,\n    this.onTap,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This constructor has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"_DashboardCard.build":{"codeSpan":{"start":{"offset":3731,"line":116,"column":3},"end":{"offset":6138,"line":182,"column":4},"text":"Widget build(BuildContext context) {\n    return Card(\n      margin: const EdgeInsets.all(0),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 16.0),\n          child: Row(\n            children: [\n              Expanded(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      value,\n                      style: TextStyle(\n                        fontSize: 48,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        height: 1.0,\n                        letterSpacing: -1.5,\n                      ),\n                    ),\n                    const SizedBox(height: 8),\n                    Text(\n                      title,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.w600,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                    if (onTap != null) ...[\n                      const SizedBox(height: 12),\n                      Row(\n                        children: [\n                          Text(\n                            'Ver detalhes',\n                            style: TextStyle(\n                              fontSize: 14,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                          const SizedBox(width: 4),\n                          Icon(\n                            Icons.arrow_forward_rounded,\n                            size: 16,\n                            color: Theme.of(context).primaryColor,\n                          ),\n                        ],\n                      ),\n                    ],\n                  ],\n                ),\n              ),\n              const SizedBox(width: 8),\n              SvgPicture.asset(svgAsset, height: 140),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":585.7980995127572,"level":"none","comment":"This method has a halstead volume of 585.7980995127572.","context":[]},{"metricsId":"lines-of-code","value":68,"unitType":"lines","level":"none","comment":"This method has 68 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3766,"line":116,"column":38},"end":{"offset":6138,"line":182,"column":4},"text":"{\n    return Card(\n      margin: const EdgeInsets.all(0),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: InkWell(\n        onTap: onTap,\n        borderRadius: BorderRadius.circular(12),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 24.0, vertical: 16.0),\n          child: Row(\n            children: [\n              Expanded(\n                child: Column(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  crossAxisAlignment: CrossAxisAlignment.start,\n                  children: [\n                    Text(\n                      value,\n                      style: TextStyle(\n                        fontSize: 48,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        height: 1.0,\n                        letterSpacing: -1.5,\n                      ),\n                    ),\n                    const SizedBox(height: 8),\n                    Text(\n                      title,\n                      style: TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.w600,\n                        color: Colors.grey[600],\n                      ),\n                    ),\n                    if (onTap != null) ...[\n                      const SizedBox(height: 12),\n                      Row(\n                        children: [\n                          Text(\n                            'Ver detalhes',\n                            style: TextStyle(\n                              fontSize: 14,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                          const SizedBox(width: 4),\n                          Icon(\n                            Icons.arrow_forward_rounded,\n                            size: 16,\n                            color: Theme.of(context).primaryColor,\n                          ),\n                        ],\n                      ),\n                    ],\n                  ],\n                ),\n              ),\n              const SizedBox(width: 8),\n              SvgPicture.asset(svgAsset, height: 140),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":65,"unitType":"lines","level":"none","comment":"This method has 65 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3768,"line":117,"column":0},"end":{"offset":3768,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3785,"line":118,"column":0},"end":{"offset":3785,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3824,"line":119,"column":0},"end":{"offset":3824,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3902,"line":120,"column":0},"end":{"offset":3902,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3924,"line":121,"column":0},"end":{"offset":3924,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3946,"line":122,"column":0},"end":{"offset":3946,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3995,"line":123,"column":0},"end":{"offset":3995,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4019,"line":124,"column":0},"end":{"offset":4019,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4100,"line":125,"column":0},"end":{"offset":4100,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4122,"line":126,"column":0},"end":{"offset":4122,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4146,"line":127,"column":0},"end":{"offset":4146,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4170,"line":128,"column":0},"end":{"offset":4170,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4201,"line":129,"column":0},"end":{"offset":4201,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4264,"line":130,"column":0},"end":{"offset":4264,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4328,"line":131,"column":0},"end":{"offset":4328,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4358,"line":132,"column":0},"end":{"offset":4358,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4384,"line":133,"column":0},"end":{"offset":4384,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4413,"line":134,"column":0},"end":{"offset":4413,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4453,"line":135,"column":0},"end":{"offset":4453,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4491,"line":136,"column":0},"end":{"offset":4491,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4544,"line":137,"column":0},"end":{"offset":4544,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4607,"line":138,"column":0},"end":{"offset":4607,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4644,"line":139,"column":0},"end":{"offset":4644,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4689,"line":140,"column":0},"end":{"offset":4689,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4714,"line":141,"column":0},"end":{"offset":4714,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4737,"line":142,"column":0},"end":{"offset":4737,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4784,"line":143,"column":0},"end":{"offset":4784,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4810,"line":144,"column":0},"end":{"offset":4810,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4839,"line":145,"column":0},"end":{"offset":4839,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4879,"line":146,"column":0},"end":{"offset":4879,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4917,"line":147,"column":0},"end":{"offset":4917,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4970,"line":148,"column":0},"end":{"offset":4970,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5019,"line":149,"column":0},"end":{"offset":5019,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5044,"line":150,"column":0},"end":{"offset":5044,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5067,"line":151,"column":0},"end":{"offset":5067,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5111,"line":152,"column":0},"end":{"offset":5111,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5161,"line":153,"column":0},"end":{"offset":5161,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5188,"line":154,"column":0},"end":{"offset":5188,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5224,"line":155,"column":0},"end":{"offset":5224,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5256,"line":156,"column":0},"end":{"offset":5256,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5300,"line":157,"column":0},"end":{"offset":5300,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5346,"line":158,"column":0},"end":{"offset":5346,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5390,"line":159,"column":0},"end":{"offset":5390,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5449,"line":160,"column":0},"end":{"offset":5449,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5518,"line":161,"column":0},"end":{"offset":5518,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5549,"line":162,"column":0},"end":{"offset":5549,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5578,"line":163,"column":0},"end":{"offset":5578,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5630,"line":164,"column":0},"end":{"offset":5630,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5662,"line":165,"column":0},"end":{"offset":5662,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5719,"line":166,"column":0},"end":{"offset":5719,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5757,"line":167,"column":0},"end":{"offset":5757,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5824,"line":168,"column":0},"end":{"offset":5824,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5853,"line":169,"column":0},"end":{"offset":5853,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5880,"line":170,"column":0},"end":{"offset":5880,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5905,"line":171,"column":0},"end":{"offset":5905,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5928,"line":172,"column":0},"end":{"offset":5928,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5949,"line":173,"column":0},"end":{"offset":5949,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5968,"line":174,"column":0},"end":{"offset":5968,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5985,"line":175,"column":0},"end":{"offset":5985,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6025,"line":176,"column":0},"end":{"offset":6025,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6080,"line":177,"column":0},"end":{"offset":6080,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6095,"line":178,"column":0},"end":{"offset":6095,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6108,"line":179,"column":0},"end":{"offset":6108,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6119,"line":180,"column":0},"end":{"offset":6119,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6128,"line":181,"column":0},"end":{"offset":6128,"line":181,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":41,"level":"alarm","comment":"This method has 41 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/home_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"HomeScreen":{"codeSpan":{"start":{"offset":559,"line":13,"column":1},"end":{"offset":1736,"line":46,"column":2},"text":"class HomeScreen extends StatelessWidget {\n  final String userType;\n\n  const HomeScreen({super.key, required this.userType});\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => sl<HomeViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CarePlanViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CheckInViewModel>()),\n        Provider<NotificationService>(create: (_) => sl<NotificationService>()),\n        Provider<TtsService>(create: (_) => sl<TtsService>()),\n      ],\n      child: Builder(\n        builder: (context) {\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        },\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor HomeScreen increase metric value","codeSpan":{"start":{"offset":630,"line":16,"column":3},"end":{"offset":684,"line":16,"column":57},"text":"const HomeScreen({super.key, required this.userType});"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":700,"line":19,"column":3},"end":{"offset":1734,"line":45,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => sl<HomeViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CarePlanViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CheckInViewModel>()),\n        Provider<NotificationService>(create: (_) => sl<NotificationService>()),\n        Provider<TtsService>(create: (_) => sl<TtsService>()),\n      ],\n      child: Builder(\n        builder: (context) {\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        },\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor HomeScreen decrease metric value","codeSpan":{"start":{"offset":630,"line":16,"column":3},"end":{"offset":684,"line":16,"column":57},"text":"const HomeScreen({super.key, required this.userType});"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":700,"line":19,"column":3},"end":{"offset":1734,"line":45,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => sl<HomeViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CarePlanViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CheckInViewModel>()),\n        Provider<NotificationService>(create: (_) => sl<NotificationService>()),\n        Provider<TtsService>(create: (_) => sl<TtsService>()),\n      ],\n      child: Builder(\n        builder: (context) {\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"HomeScreen.HomeScreen":{"codeSpan":{"start":{"offset":630,"line":16,"column":3},"end":{"offset":684,"line":16,"column":57},"text":"const HomeScreen({super.key, required this.userType});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"HomeScreen.build":{"codeSpan":{"start":{"offset":700,"line":19,"column":3},"end":{"offset":1734,"line":45,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => sl<HomeViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CarePlanViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CheckInViewModel>()),\n        Provider<NotificationService>(create: (_) => sl<NotificationService>()),\n        Provider<TtsService>(create: (_) => sl<TtsService>()),\n      ],\n      child: Builder(\n        builder: (context) {\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1349,"line":32,"column":11},"end":{"offset":1703,"line":41,"column":12},"text":"if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1439,"line":34,"column":18},"end":{"offset":1703,"line":41,"column":12},"text":"if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }"}}]},{"metricsId":"halstead-volume","value":527.7925127401451,"level":"none","comment":"This method has a halstead volume of 527.7925127401451.","context":[]},{"metricsId":"lines-of-code","value":28,"unitType":"lines","level":"none","comment":"This method has 28 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":735,"line":19,"column":38},"end":{"offset":1734,"line":45,"column":4},"text":"{\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => sl<HomeViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CarePlanViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<ProfileViewModel>()),\n        ChangeNotifierProvider(create: (_) => sl<CheckInViewModel>()),\n        Provider<NotificationService>(create: (_) => sl<NotificationService>()),\n        Provider<TtsService>(create: (_) => sl<TtsService>()),\n      ],\n      child: Builder(\n        builder: (context) {\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1337,"line":31,"column":28},"end":{"offset":1713,"line":42,"column":10},"text":"{\n          if (userType == 'medico') {\n            return const DoctorHomeScreen();\n          } else if (userType == 'paciente') {\n            return const PatientHomeScreen();\n          } else {\n            // Fallback for unknown user type\n            return const Scaffold(\n              body: Center(child: Text('Unknown user type')),\n            );\n          }\n        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1375,"line":32,"column":37},"end":{"offset":1433,"line":34,"column":12},"text":"{\n            return const DoctorHomeScreen();\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":737,"line":20,"column":0},"end":{"offset":737,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":763,"line":21,"column":0},"end":{"offset":763,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":782,"line":22,"column":0},"end":{"offset":782,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":850,"line":23,"column":0},"end":{"offset":850,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":922,"line":24,"column":0},"end":{"offset":922,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":993,"line":25,"column":0},"end":{"offset":993,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1064,"line":26,"column":0},"end":{"offset":1064,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1135,"line":27,"column":0},"end":{"offset":1135,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1216,"line":28,"column":0},"end":{"offset":1216,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1279,"line":29,"column":0},"end":{"offset":1279,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1288,"line":30,"column":0},"end":{"offset":1288,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1310,"line":31,"column":0},"end":{"offset":1310,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1339,"line":32,"column":0},"end":{"offset":1339,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1377,"line":33,"column":0},"end":{"offset":1377,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1422,"line":34,"column":0},"end":{"offset":1422,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1469,"line":35,"column":0},"end":{"offset":1469,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1515,"line":36,"column":0},"end":{"offset":1515,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1580,"line":38,"column":0},"end":{"offset":1580,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1615,"line":39,"column":0},"end":{"offset":1615,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1677,"line":40,"column":0},"end":{"offset":1677,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1692,"line":41,"column":0},"end":{"offset":1692,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1704,"line":42,"column":0},"end":{"offset":1704,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1715,"line":43,"column":0},"end":{"offset":1715,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1724,"line":44,"column":0},"end":{"offset":1724,"line":44,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":51,"level":"warning","comment":"This method has 51 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/ui/widgets/patient_detail_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PatientDetailScreen":{"codeSpan":{"start":{"offset":330,"line":9,"column":1},"end":{"offset":564,"line":16,"column":2},"text":"class PatientDetailScreen extends StatefulWidget {\n  final UserEntity patient;\n\n  const PatientDetailScreen({super.key, required this.patient});\n\n  @override\n  State<PatientDetailScreen> createState() => _PatientDetailScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor PatientDetailScreen increase metric value","codeSpan":{"start":{"offset":412,"line":12,"column":3},"end":{"offset":474,"line":12,"column":65},"text":"const PatientDetailScreen({super.key, required this.patient});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":490,"line":15,"column":3},"end":{"offset":562,"line":15,"column":75},"text":"State<PatientDetailScreen> createState() => _PatientDetailScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor PatientDetailScreen decrease metric value","codeSpan":{"start":{"offset":412,"line":12,"column":3},"end":{"offset":474,"line":12,"column":65},"text":"const PatientDetailScreen({super.key, required this.patient});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":490,"line":15,"column":3},"end":{"offset":562,"line":15,"column":75},"text":"State<PatientDetailScreen> createState() => _PatientDetailScreenState();"}}]}]},"_PatientDetailScreenState":{"codeSpan":{"start":{"offset":566,"line":18,"column":1},"end":{"offset":6974,"line":200,"column":2},"text":"class _PatientDetailScreenState extends State<PatientDetailScreen> {\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.patient.name)),\n      body: Consumer<PatientDetailViewModel>(\n        builder: (context, viewModel, child) {\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }\n\n  String _getFeelingEmoji(int? feeling) {\n    if (feeling == null) return '‚úîÔ∏è';\n    switch (feeling) {\n      case 1:\n        return 'üò´';\n      case 2:\n        return 'üòü';\n      case 3:\n        return 'üòê';\n      case 4:\n        return 'üôÇ';\n      case 5:\n        return 'üòÉ';\n      default:\n        return '‚úîÔ∏è';\n    }\n  }\n\n  void _showImageDialog(BuildContext context, String imageUrl) {\n    showDialog(\n      context: context,\n      builder: (context) => Dialog(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Stack(\n              alignment: Alignment.topRight,\n              children: [\n                ClipRRect(\n                  borderRadius: BorderRadius.circular(4),\n                  child: Image.network(\n                    imageUrl,\n                    loadingBuilder: (context, child, loadingProgress) {\n                      if (loadingProgress == null) return child;\n                      return Container(\n                        height: 200,\n                        width: double.infinity,\n                        alignment: Alignment.center,\n                        child: CircularProgressIndicator(\n                          value: loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null,\n                        ),\n                      );\n                    },\n                    errorBuilder: (context, error, stackTrace) => Container(\n                      height: 200,\n                      width: double.infinity,\n                      color: Colors.grey[200],\n                      child: const Icon(\n                        Icons.broken_image,\n                        size: 50,\n                        color: Colors.grey,\n                      ),\n                    ),\n                  ),\n                ),\n                IconButton(\n                  icon: const Icon(\n                    Icons.close,\n                    color: Colors.white,\n                    shadows: [Shadow(color: Colors.black, blurRadius: 4)],\n                  ),\n                  onPressed: () => Navigator.pop(context),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":649,"line":20,"column":3},"end":{"offset":835,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    });\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":851,"line":28,"column":3},"end":{"offset":4623,"line":125,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.patient.name)),\n      body: Consumer<PatientDetailViewModel>(\n        builder: (context, viewModel, child) {\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }"}},{"message":"method _getFeelingEmoji increase metric value","codeSpan":{"start":{"offset":4627,"line":127,"column":3},"end":{"offset":4948,"line":143,"column":4},"text":"String _getFeelingEmoji(int? feeling) {\n    if (feeling == null) return '‚úîÔ∏è';\n    switch (feeling) {\n      case 1:\n        return 'üò´';\n      case 2:\n        return 'üòü';\n      case 3:\n        return 'üòê';\n      case 4:\n        return 'üôÇ';\n      case 5:\n        return 'üòÉ';\n      default:\n        return '‚úîÔ∏è';\n    }\n  }"}},{"message":"method _showImageDialog increase metric value","codeSpan":{"start":{"offset":4952,"line":145,"column":3},"end":{"offset":6972,"line":199,"column":4},"text":"void _showImageDialog(BuildContext context, String imageUrl) {\n    showDialog(\n      context: context,\n      builder: (context) => Dialog(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Stack(\n              alignment: Alignment.topRight,\n              children: [\n                ClipRRect(\n                  borderRadius: BorderRadius.circular(4),\n                  child: Image.network(\n                    imageUrl,\n                    loadingBuilder: (context, child, loadingProgress) {\n                      if (loadingProgress == null) return child;\n                      return Container(\n                        height: 200,\n                        width: double.infinity,\n                        alignment: Alignment.center,\n                        child: CircularProgressIndicator(\n                          value: loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null,\n                        ),\n                      );\n                    },\n                    errorBuilder: (context, error, stackTrace) => Container(\n                      height: 200,\n                      width: double.infinity,\n                      color: Colors.grey[200],\n                      child: const Icon(\n                        Icons.broken_image,\n                        size: 50,\n                        color: Colors.grey,\n                      ),\n                    ),\n                  ),\n                ),\n                IconButton(\n                  icon: const Icon(\n                    Icons.close,\n                    color: Colors.white,\n                    shadows: [Shadow(color: Colors.black, blurRadius: 4)],\n                  ),\n                  onPressed: () => Navigator.pop(context),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":649,"line":20,"column":3},"end":{"offset":835,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    });\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":851,"line":28,"column":3},"end":{"offset":4623,"line":125,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.patient.name)),\n      body: Consumer<PatientDetailViewModel>(\n        builder: (context, viewModel, child) {\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"PatientDetailScreen.PatientDetailScreen":{"codeSpan":{"start":{"offset":412,"line":12,"column":3},"end":{"offset":474,"line":12,"column":65},"text":"const PatientDetailScreen({super.key, required this.patient});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"PatientDetailScreen.createState":{"codeSpan":{"start":{"offset":490,"line":15,"column":3},"end":{"offset":562,"line":15,"column":75},"text":"State<PatientDetailScreen> createState() => _PatientDetailScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":488,"line":15,"column":0},"end":{"offset":488,"line":15,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_PatientDetailScreenState.initState":{"codeSpan":{"start":{"offset":649,"line":20,"column":3},"end":{"offset":835,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":87.56916320732489,"level":"none","comment":"This method has a halstead volume of 87.56916320732489.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":666,"line":20,"column":20},"end":{"offset":835,"line":25,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":744,"line":22,"column":54},"end":{"offset":829,"line":24,"column":6},"text":"{\n      context.read<PatientDetailViewModel>().fetchHistory(widget.patient.id);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":668,"line":21,"column":0},"end":{"offset":668,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":691,"line":22,"column":0},"end":{"offset":691,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":746,"line":23,"column":0},"end":{"offset":746,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":824,"line":24,"column":0},"end":{"offset":824,"line":24,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":74,"level":"warning","comment":"This method has 74 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientDetailScreenState.build":{"codeSpan":{"start":{"offset":851,"line":28,"column":3},"end":{"offset":4623,"line":125,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.patient.name)),\n      body: Consumer<PatientDetailViewModel>(\n        builder: (context, viewModel, child) {\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":8,"level":"alarm","comment":"This method has a cyclomatic complexity of 8, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1068,"line":33,"column":11},"end":{"offset":1175,"line":35,"column":12},"text":"if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1187,"line":37,"column":11},"end":{"offset":1311,"line":39,"column":12},"text":"if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1323,"line":41,"column":11},"end":{"offset":1862,"line":55,"column":12},"text":"if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":3815,"line":103,"column":27},"end":{"offset":3947,"line":105,"column":33},"text":"checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":3837,"line":103,"column":49},"end":{"offset":3839,"line":103,"column":51},"text":"&&"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":3981,"line":106,"column":33},"end":{"offset":4316,"line":112,"column":33},"text":"checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":4347,"line":113,"column":30},"end":{"offset":4483,"line":115,"column":33},"text":"checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null"}}]},{"metricsId":"halstead-volume","value":2942.539575809429,"level":"none","comment":"This method has a halstead volume of 2942.539575809429.","context":[]},{"metricsId":"lines-of-code","value":99,"unitType":"lines","level":"none","comment":"This method has 99 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":886,"line":28,"column":38},"end":{"offset":4623,"line":125,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.patient.name)),\n      body: Consumer<PatientDetailViewModel>(\n        builder: (context, viewModel, child) {\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1056,"line":32,"column":46},"end":{"offset":4602,"line":122,"column":10},"text":"{\n          if (viewModel.isLoading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          if (viewModel.history.isEmpty) {\n            return Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  const Icon(Icons.history, size: 64, color: Colors.grey),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Nenhum hist√≥rico dispon√≠vel para este paciente',\n                    style: TextStyle(color: Colors.grey[600]),\n                  ),\n                ],\n              ),\n            );\n          }\n\n          return Column(\n            children: [\n              AdherenceReportCard(\n                overallAdherence: viewModel.overallAdherence,\n                plans: viewModel.patientPlans,\n                counts: viewModel.adherenceCounts,\n                goals: viewModel.adherenceGoals,\n              ),\n              Card(\n                margin: const EdgeInsets.all(16),\n                child: Padding(\n                  padding: const EdgeInsets.all(16.0),\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.start,\n                    children: [\n                      Text(\n                        'Evolu√ß√£o da Dor/Humor',\n                        style: Theme.of(context).textTheme.titleMedium,\n                      ),\n                      const SizedBox(height: 16),\n                      PatientEvolutionChart(checkIns: viewModel.history),\n                    ],\n                  ),\n                ),\n              ),\n              Expanded(\n                child: ListView.separated(\n                  padding: const EdgeInsets.symmetric(horizontal: 16),\n                  itemCount: viewModel.history.length,\n                  separatorBuilder: (context, index) => const Divider(),\n                  itemBuilder: (context, index) {\n                    final checkIn = viewModel.history[index];\n                    final dateFormatted = DateFormat(\n                      'dd/MM/yyyy - HH:mm',\n                    ).format(checkIn.date);\n\n                    return ListTile(\n                      leading: Text(\n                        _getFeelingEmoji(checkIn.feeling),\n                        style: const TextStyle(fontSize: 24),\n                      ),\n                      title: Text(\n                        dateFormatted,\n                        style: const TextStyle(fontWeight: FontWeight.bold),\n                      ),\n                      subtitle:\n                          checkIn.notes != null && checkIn.notes!.isNotEmpty\n                          ? Text(checkIn.notes!)\n                          : null,\n                      trailing: checkIn.photoUrl != null\n                          ? IconButton(\n                              icon: const Icon(Icons.image, color: Colors.blue),\n                              onPressed: () =>\n                                  _showImageDialog(context, checkIn.photoUrl!),\n                            )\n                          : null,\n                      onTap: checkIn.photoUrl != null\n                          ? () => _showImageDialog(context, checkIn.photoUrl!)\n                          : null,\n                    );\n                  },\n                ),\n              ),\n            ],\n          );\n        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1093,"line":33,"column":36},"end":{"offset":1175,"line":35,"column":12},"text":"{\n            return const Center(child: CircularProgressIndicator());\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":92,"unitType":"lines","level":"none","comment":"This method has 92 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":888,"line":29,"column":0},"end":{"offset":888,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":909,"line":30,"column":0},"end":{"offset":909,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":965,"line":31,"column":0},"end":{"offset":965,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1011,"line":32,"column":0},"end":{"offset":1011,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1058,"line":33,"column":0},"end":{"offset":1058,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1095,"line":34,"column":0},"end":{"offset":1095,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1164,"line":35,"column":0},"end":{"offset":1164,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1177,"line":37,"column":0},"end":{"offset":1177,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1225,"line":38,"column":0},"end":{"offset":1225,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1300,"line":39,"column":0},"end":{"offset":1300,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1313,"line":41,"column":0},"end":{"offset":1313,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1356,"line":42,"column":0},"end":{"offset":1356,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1383,"line":43,"column":0},"end":{"offset":1383,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1412,"line":44,"column":0},"end":{"offset":1412,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1473,"line":45,"column":0},"end":{"offset":1473,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1501,"line":46,"column":0},"end":{"offset":1501,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1576,"line":47,"column":0},"end":{"offset":1576,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1622,"line":48,"column":0},"end":{"offset":1622,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1646,"line":49,"column":0},"end":{"offset":1646,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1716,"line":50,"column":0},"end":{"offset":1716,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1779,"line":51,"column":0},"end":{"offset":1779,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1800,"line":52,"column":0},"end":{"offset":1800,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1819,"line":53,"column":0},"end":{"offset":1819,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1836,"line":54,"column":0},"end":{"offset":1836,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1851,"line":55,"column":0},"end":{"offset":1851,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1864,"line":57,"column":0},"end":{"offset":1864,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1889,"line":58,"column":0},"end":{"offset":1889,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1913,"line":59,"column":0},"end":{"offset":1913,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1948,"line":60,"column":0},"end":{"offset":1948,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2010,"line":61,"column":0},"end":{"offset":2010,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2057,"line":62,"column":0},"end":{"offset":2057,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2108,"line":63,"column":0},"end":{"offset":2108,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2157,"line":64,"column":0},"end":{"offset":2157,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2174,"line":65,"column":0},"end":{"offset":2174,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2194,"line":66,"column":0},"end":{"offset":2194,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2244,"line":67,"column":0},"end":{"offset":2244,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2276,"line":68,"column":0},"end":{"offset":2276,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2331,"line":69,"column":0},"end":{"offset":2331,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2364,"line":70,"column":0},"end":{"offset":2364,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2430,"line":71,"column":0},"end":{"offset":2430,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2462,"line":72,"column":0},"end":{"offset":2462,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2490,"line":73,"column":0},"end":{"offset":2490,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2539,"line":74,"column":0},"end":{"offset":2539,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2611,"line":75,"column":0},"end":{"offset":2611,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2636,"line":76,"column":0},"end":{"offset":2636,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2686,"line":77,"column":0},"end":{"offset":2686,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2760,"line":78,"column":0},"end":{"offset":2760,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2783,"line":79,"column":0},"end":{"offset":2783,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2804,"line":80,"column":0},"end":{"offset":2804,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2823,"line":81,"column":0},"end":{"offset":2823,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2840,"line":82,"column":0},"end":{"offset":2840,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2864,"line":83,"column":0},"end":{"offset":2864,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2907,"line":84,"column":0},"end":{"offset":2907,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2978,"line":85,"column":0},"end":{"offset":2978,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3033,"line":86,"column":0},"end":{"offset":3033,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3106,"line":87,"column":0},"end":{"offset":3106,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3156,"line":88,"column":0},"end":{"offset":3156,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3218,"line":89,"column":0},"end":{"offset":3218,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3272,"line":90,"column":0},"end":{"offset":3272,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3316,"line":91,"column":0},"end":{"offset":3316,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3361,"line":93,"column":0},"end":{"offset":3361,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3398,"line":94,"column":0},"end":{"offset":3398,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3435,"line":95,"column":0},"end":{"offset":3435,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3494,"line":96,"column":0},"end":{"offset":3494,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3556,"line":97,"column":0},"end":{"offset":3556,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3581,"line":98,"column":0},"end":{"offset":3581,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3616,"line":99,"column":0},"end":{"offset":3616,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3655,"line":100,"column":0},"end":{"offset":3655,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3732,"line":101,"column":0},"end":{"offset":3732,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3757,"line":102,"column":0},"end":{"offset":3757,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3789,"line":103,"column":0},"end":{"offset":3789,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3866,"line":104,"column":0},"end":{"offset":3866,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3915,"line":105,"column":0},"end":{"offset":3915,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3949,"line":106,"column":0},"end":{"offset":3949,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4006,"line":107,"column":0},"end":{"offset":4006,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4046,"line":108,"column":0},"end":{"offset":4046,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4127,"line":109,"column":0},"end":{"offset":4127,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4174,"line":110,"column":0},"end":{"offset":4174,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4254,"line":111,"column":0},"end":{"offset":4254,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4284,"line":112,"column":0},"end":{"offset":4284,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4318,"line":113,"column":0},"end":{"offset":4318,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4372,"line":114,"column":0},"end":{"offset":4372,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4451,"line":115,"column":0},"end":{"offset":4451,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4485,"line":116,"column":0},"end":{"offset":4485,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4508,"line":117,"column":0},"end":{"offset":4508,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4529,"line":118,"column":0},"end":{"offset":4529,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4548,"line":119,"column":0},"end":{"offset":4548,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4565,"line":120,"column":0},"end":{"offset":4565,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4580,"line":121,"column":0},"end":{"offset":4580,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4593,"line":122,"column":0},"end":{"offset":4593,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4604,"line":123,"column":0},"end":{"offset":4604,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4613,"line":124,"column":0},"end":{"offset":4613,"line":124,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":32,"level":"alarm","comment":"This method has 32 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientDetailScreenState._getFeelingEmoji":{"codeSpan":{"start":{"offset":4627,"line":127,"column":3},"end":{"offset":4948,"line":143,"column":4},"text":"String _getFeelingEmoji(int? feeling) {\n    if (feeling == null) return '‚úîÔ∏è';\n    switch (feeling) {\n      case 1:\n        return 'üò´';\n      case 2:\n        return 'üòü';\n      case 3:\n        return 'üòê';\n      case 4:\n        return 'üôÇ';\n      case 5:\n        return 'üòÉ';\n      default:\n        return '‚úîÔ∏è';\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4671,"line":128,"column":5},"end":{"offset":4704,"line":128,"column":38},"text":"if (feeling == null) return '‚úîÔ∏è';"}},{"message":"Switch default increases complexity","codeSpan":{"start":{"offset":4909,"line":140,"column":7},"end":{"offset":4938,"line":141,"column":21},"text":"default:\n        return '‚úîÔ∏è';"}}]},{"metricsId":"halstead-volume","value":3.0,"level":"none","comment":"This method has a halstead volume of 3.0.","context":[]},{"metricsId":"lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4665,"line":127,"column":41},"end":{"offset":4948,"line":143,"column":4},"text":"{\n    if (feeling == null) return '‚úîÔ∏è';\n    switch (feeling) {\n      case 1:\n        return 'üò´';\n      case 2:\n        return 'üòü';\n      case 3:\n        return 'üòê';\n      case 4:\n        return 'üôÇ';\n      case 5:\n        return 'üòÉ';\n      default:\n        return '‚úîÔ∏è';\n    }\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":4667,"line":128,"column":0},"end":{"offset":4667,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4705,"line":129,"column":0},"end":{"offset":4705,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4728,"line":130,"column":0},"end":{"offset":4728,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4742,"line":131,"column":0},"end":{"offset":4742,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4763,"line":132,"column":0},"end":{"offset":4763,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4777,"line":133,"column":0},"end":{"offset":4777,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4798,"line":134,"column":0},"end":{"offset":4798,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4812,"line":135,"column":0},"end":{"offset":4812,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4833,"line":136,"column":0},"end":{"offset":4833,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4847,"line":137,"column":0},"end":{"offset":4847,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4868,"line":138,"column":0},"end":{"offset":4868,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4882,"line":139,"column":0},"end":{"offset":4882,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4903,"line":140,"column":0},"end":{"offset":4903,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4918,"line":141,"column":0},"end":{"offset":4918,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4939,"line":142,"column":0},"end":{"offset":4939,"line":142,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":71,"level":"warning","comment":"This method has 71 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_PatientDetailScreenState._showImageDialog":{"codeSpan":{"start":{"offset":4952,"line":145,"column":3},"end":{"offset":6972,"line":199,"column":4},"text":"void _showImageDialog(BuildContext context, String imageUrl) {\n    showDialog(\n      context: context,\n      builder: (context) => Dialog(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Stack(\n              alignment: Alignment.topRight,\n              children: [\n                ClipRRect(\n                  borderRadius: BorderRadius.circular(4),\n                  child: Image.network(\n                    imageUrl,\n                    loadingBuilder: (context, child, loadingProgress) {\n                      if (loadingProgress == null) return child;\n                      return Container(\n                        height: 200,\n                        width: double.infinity,\n                        alignment: Alignment.center,\n                        child: CircularProgressIndicator(\n                          value: loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null,\n                        ),\n                      );\n                    },\n                    errorBuilder: (context, error, stackTrace) => Container(\n                      height: 200,\n                      width: double.infinity,\n                      color: Colors.grey[200],\n                      child: const Icon(\n                        Icons.broken_image,\n                        size: 50,\n                        color: Colors.grey,\n                      ),\n                    ),\n                  ),\n                ),\n                IconButton(\n                  icon: const Icon(\n                    Icons.close,\n                    color: Colors.white,\n                    shadows: [Shadow(color: Colors.black, blurRadius: 4)],\n                  ),\n                  onPressed: () => Navigator.pop(context),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5517,"line":160,"column":23},"end":{"offset":5559,"line":160,"column":65},"text":"if (loadingProgress == null) return child;"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5829,"line":166,"column":34},"end":{"offset":6052,"line":169,"column":37},"text":"loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null"}}]},{"metricsId":"halstead-volume","value":1294.181470859605,"level":"none","comment":"This method has a halstead volume of 1294.181470859605.","context":[]},{"metricsId":"lines-of-code","value":55,"unitType":"lines","level":"none","comment":"This method has 55 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5013,"line":145,"column":64},"end":{"offset":6972,"line":199,"column":4},"text":"{\n    showDialog(\n      context: context,\n      builder: (context) => Dialog(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Stack(\n              alignment: Alignment.topRight,\n              children: [\n                ClipRRect(\n                  borderRadius: BorderRadius.circular(4),\n                  child: Image.network(\n                    imageUrl,\n                    loadingBuilder: (context, child, loadingProgress) {\n                      if (loadingProgress == null) return child;\n                      return Container(\n                        height: 200,\n                        width: double.infinity,\n                        alignment: Alignment.center,\n                        child: CircularProgressIndicator(\n                          value: loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null,\n                        ),\n                      );\n                    },\n                    errorBuilder: (context, error, stackTrace) => Container(\n                      height: 200,\n                      width: double.infinity,\n                      color: Colors.grey[200],\n                      child: const Icon(\n                        Icons.broken_image,\n                        size: 50,\n                        color: Colors.grey,\n                      ),\n                    ),\n                  ),\n                ),\n                IconButton(\n                  icon: const Icon(\n                    Icons.close,\n                    color: Colors.white,\n                    shadows: [Shadow(color: Colors.black, blurRadius: 4)],\n                  ),\n                  onPressed: () => Navigator.pop(context),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5493,"line":159,"column":71},"end":{"offset":6127,"line":172,"column":22},"text":"{\n                      if (loadingProgress == null) return child;\n                      return Container(\n                        height: 200,\n                        width: double.infinity,\n                        alignment: Alignment.center,\n                        child: CircularProgressIndicator(\n                          value: loadingProgress.expectedTotalBytes != null\n                              ? loadingProgress.cumulativeBytesLoaded /\n                                    loadingProgress.expectedTotalBytes!\n                              : null,\n                        ),\n                      );\n                    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":53,"unitType":"lines","level":"none","comment":"This method has 53 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":5015,"line":146,"column":0},"end":{"offset":5015,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5031,"line":147,"column":0},"end":{"offset":5031,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5055,"line":148,"column":0},"end":{"offset":5055,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5091,"line":149,"column":0},"end":{"offset":5091,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5114,"line":150,"column":0},"end":{"offset":5114,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5156,"line":151,"column":0},"end":{"offset":5156,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5178,"line":152,"column":0},"end":{"offset":5178,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5197,"line":153,"column":0},"end":{"offset":5197,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5242,"line":154,"column":0},"end":{"offset":5242,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5268,"line":155,"column":0},"end":{"offset":5268,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5295,"line":156,"column":0},"end":{"offset":5295,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5353,"line":157,"column":0},"end":{"offset":5353,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5393,"line":158,"column":0},"end":{"offset":5393,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5423,"line":159,"column":0},"end":{"offset":5423,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5495,"line":160,"column":0},"end":{"offset":5495,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5560,"line":161,"column":0},"end":{"offset":5560,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5600,"line":162,"column":0},"end":{"offset":5600,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5637,"line":163,"column":0},"end":{"offset":5637,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5685,"line":164,"column":0},"end":{"offset":5685,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5738,"line":165,"column":0},"end":{"offset":5738,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5796,"line":166,"column":0},"end":{"offset":5796,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5872,"line":167,"column":0},"end":{"offset":5872,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5944,"line":168,"column":0},"end":{"offset":5944,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6016,"line":169,"column":0},"end":{"offset":6016,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6054,"line":170,"column":0},"end":{"offset":6054,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6081,"line":171,"column":0},"end":{"offset":6081,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6106,"line":172,"column":0},"end":{"offset":6106,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6129,"line":173,"column":0},"end":{"offset":6129,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6206,"line":174,"column":0},"end":{"offset":6206,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6241,"line":175,"column":0},"end":{"offset":6241,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6287,"line":176,"column":0},"end":{"offset":6287,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6334,"line":177,"column":0},"end":{"offset":6334,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6375,"line":178,"column":0},"end":{"offset":6375,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6419,"line":179,"column":0},"end":{"offset":6419,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6453,"line":180,"column":0},"end":{"offset":6453,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6497,"line":181,"column":0},"end":{"offset":6497,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6522,"line":182,"column":0},"end":{"offset":6522,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6545,"line":183,"column":0},"end":{"offset":6545,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6566,"line":184,"column":0},"end":{"offset":6566,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6585,"line":185,"column":0},"end":{"offset":6585,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6613,"line":186,"column":0},"end":{"offset":6613,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6649,"line":187,"column":0},"end":{"offset":6649,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6682,"line":188,"column":0},"end":{"offset":6682,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6723,"line":189,"column":0},"end":{"offset":6723,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6798,"line":190,"column":0},"end":{"offset":6798,"line":190,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6819,"line":191,"column":0},"end":{"offset":6819,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6878,"line":192,"column":0},"end":{"offset":6878,"line":192,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6897,"line":193,"column":0},"end":{"offset":6897,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6914,"line":194,"column":0},"end":{"offset":6914,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6929,"line":195,"column":0},"end":{"offset":6929,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6942,"line":196,"column":0},"end":{"offset":6942,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6953,"line":197,"column":0},"end":{"offset":6953,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6962,"line":198,"column":0},"end":{"offset":6962,"line":198,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":41,"level":"alarm","comment":"This method has 41 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/domain/usecases/get_doctor_stats_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetDoctorStatsUseCase":{"codeSpan":{"start":{"offset":274,"line":7,"column":1},"end":{"offset":1794,"line":53,"column":2},"text":"class GetDoctorStatsUseCase {\n  final CarePlanRepository carePlanRepository;\n  final CheckInRepository checkInRepository;\n\n  GetDoctorStatsUseCase({\n    required this.carePlanRepository,\n    required this.checkInRepository,\n  });\n\n  Future<Either<Failure, DashboardStats>> call(String doctorId) async {\n    // 1. Buscar planos do m√©dico\n    final plansResult = await carePlanRepository.getPlansByDoctorId(doctorId);\n\n    return plansResult.fold((failure) => Left(failure), (plans) async {\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    });\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor GetDoctorStatsUseCase increase metric value","codeSpan":{"start":{"offset":399,"line":11,"column":3},"end":{"offset":503,"line":14,"column":6},"text":"GetDoctorStatsUseCase({\n    required this.carePlanRepository,\n    required this.checkInRepository,\n  });"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":507,"line":16,"column":3},"end":{"offset":1792,"line":52,"column":4},"text":"Future<Either<Failure, DashboardStats>> call(String doctorId) async {\n    // 1. Buscar planos do m√©dico\n    final plansResult = await carePlanRepository.getPlansByDoctorId(doctorId);\n\n    return plansResult.fold((failure) => Left(failure), (plans) async {\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    });\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor GetDoctorStatsUseCase decrease metric value","codeSpan":{"start":{"offset":399,"line":11,"column":3},"end":{"offset":503,"line":14,"column":6},"text":"GetDoctorStatsUseCase({\n    required this.carePlanRepository,\n    required this.checkInRepository,\n  });"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":507,"line":16,"column":3},"end":{"offset":1792,"line":52,"column":4},"text":"Future<Either<Failure, DashboardStats>> call(String doctorId) async {\n    // 1. Buscar planos do m√©dico\n    final plansResult = await carePlanRepository.getPlansByDoctorId(doctorId);\n\n    return plansResult.fold((failure) => Left(failure), (plans) async {\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    });\n  }"}}]}]}},"functions":{"GetDoctorStatsUseCase.GetDoctorStatsUseCase":{"codeSpan":{"start":{"offset":399,"line":11,"column":3},"end":{"offset":503,"line":14,"column":6},"text":"GetDoctorStatsUseCase({\n    required this.carePlanRepository,\n    required this.checkInRepository,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This constructor has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetDoctorStatsUseCase.call":{"codeSpan":{"start":{"offset":507,"line":16,"column":3},"end":{"offset":1792,"line":52,"column":4},"text":"Future<Either<Failure, DashboardStats>> call(String doctorId) async {\n    // 1. Buscar planos do m√©dico\n    final plansResult = await carePlanRepository.getPlansByDoctorId(doctorId);\n\n    return plansResult.fold((failure) => Left(failure), (plans) async {\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This method has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"For statement increases complexity","codeSpan":{"start":{"offset":920,"line":26,"column":7},"end":{"offset":1672,"line":46,"column":8},"text":"for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1469,"line":37,"column":54},"end":{"offset":1471,"line":37,"column":56},"text":"&&"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1524,"line":38,"column":53},"end":{"offset":1526,"line":38,"column":55},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1610,"line":43,"column":9},"end":{"offset":1664,"line":45,"column":10},"text":"if (hasCheckIn) {\n          checkInsToday++;\n        }"}}]},{"metricsId":"halstead-volume","value":1064.3856189774726,"level":"none","comment":"This method has a halstead volume of 1064.3856189774726.","context":[]},{"metricsId":"lines-of-code","value":37,"unitType":"lines","level":"none","comment":"This method has 37 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":575,"line":16,"column":71},"end":{"offset":1792,"line":52,"column":4},"text":"{\n    // 1. Buscar planos do m√©dico\n    final plansResult = await carePlanRepository.getPlansByDoctorId(doctorId);\n\n    return plansResult.fold((failure) => Left(failure), (plans) async {\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":761,"line":20,"column":71},"end":{"offset":1786,"line":51,"column":6},"text":"{\n      int totalPlans = plans.length;\n      int checkInsToday = 0;\n      final today = DateTime.now();\n\n      // 2. Verificar check-ins para cada plano\n      for (final plan in plans) {\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }\n\n      return Right(\n        DashboardStats(totalPlans: totalPlans, checkInsToday: checkInsToday),\n      );\n    }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":946,"line":26,"column":33},"end":{"offset":1672,"line":46,"column":8},"text":"{\n        final historyResult = await checkInRepository.getCheckInsForPlan(\n          plan.id,\n        );\n\n        final hasCheckIn = historyResult.fold(\n          (_) => false, // Se der erro ao buscar hist√≥rico, assume sem check-in\n          (history) => history.any((checkIn) {\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }),\n        );\n\n        if (hasCheckIn) {\n          checkInsToday++;\n        }\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1225,"line":33,"column":46},"end":{"offset":1587,"line":40,"column":12},"text":"{\n            // Compara√ß√£o de data ignorando hor√°rio (mesma l√≥gica do CheckInViewModel)\n            final localDate = checkIn.date.toLocal();\n            final localToday = today.toLocal();\n            return localDate.year == localToday.year &&\n                localDate.month == localToday.month &&\n                localDate.day == localToday.day;\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":27,"unitType":"lines","level":"none","comment":"This method has 27 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":611,"line":18,"column":0},"end":{"offset":611,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":691,"line":20,"column":0},"end":{"offset":691,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":763,"line":21,"column":0},"end":{"offset":763,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":800,"line":22,"column":0},"end":{"offset":800,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":829,"line":23,"column":0},"end":{"offset":829,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":914,"line":26,"column":0},"end":{"offset":914,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":948,"line":27,"column":0},"end":{"offset":948,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1022,"line":28,"column":0},"end":{"offset":1022,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1041,"line":29,"column":0},"end":{"offset":1041,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1053,"line":31,"column":0},"end":{"offset":1053,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1100,"line":32,"column":0},"end":{"offset":1100,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1180,"line":33,"column":0},"end":{"offset":1180,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1314,"line":35,"column":0},"end":{"offset":1314,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1368,"line":36,"column":0},"end":{"offset":1368,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1416,"line":37,"column":0},"end":{"offset":1416,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1472,"line":38,"column":0},"end":{"offset":1472,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1527,"line":39,"column":0},"end":{"offset":1527,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1576,"line":40,"column":0},"end":{"offset":1576,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1590,"line":41,"column":0},"end":{"offset":1590,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1602,"line":43,"column":0},"end":{"offset":1602,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1628,"line":44,"column":0},"end":{"offset":1628,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1655,"line":45,"column":0},"end":{"offset":1655,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1665,"line":46,"column":0},"end":{"offset":1665,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1674,"line":48,"column":0},"end":{"offset":1674,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1694,"line":49,"column":0},"end":{"offset":1694,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1772,"line":50,"column":0},"end":{"offset":1772,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1781,"line":51,"column":0},"end":{"offset":1781,"line":51,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":47,"level":"alarm","comment":"This method has 47 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/home/domain/entities/dashboard_stats.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"DashboardStats":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":289,"line":11,"column":2},"text":"class DashboardStats extends Equatable {\n  final int totalPlans;\n  final int checkInsToday;\n\n  const DashboardStats({required this.totalPlans, required this.checkInsToday});\n\n  @override\n  List<Object> get props => [totalPlans, checkInsToday];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor DashboardStats increase metric value","codeSpan":{"start":{"offset":139,"line":7,"column":3},"end":{"offset":217,"line":7,"column":81},"text":"const DashboardStats({required this.totalPlans, required this.checkInsToday});"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":233,"line":10,"column":3},"end":{"offset":287,"line":10,"column":57},"text":"List<Object> get props => [totalPlans, checkInsToday];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor DashboardStats decrease metric value","codeSpan":{"start":{"offset":139,"line":7,"column":3},"end":{"offset":217,"line":7,"column":81},"text":"const DashboardStats({required this.totalPlans, required this.checkInsToday});"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":233,"line":10,"column":3},"end":{"offset":287,"line":10,"column":57},"text":"List<Object> get props => [totalPlans, checkInsToday];"}}]}]}},"functions":{"DashboardStats.DashboardStats":{"codeSpan":{"start":{"offset":139,"line":7,"column":3},"end":{"offset":217,"line":7,"column":81},"text":"const DashboardStats({required this.totalPlans, required this.checkInsToday});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"DashboardStats.props":{"codeSpan":{"start":{"offset":233,"line":10,"column":3},"end":{"offset":287,"line":10,"column":57},"text":"List<Object> get props => [totalPlans, checkInsToday];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":2.0,"level":"none","comment":"This getter has a halstead volume of 2.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":231,"line":10,"column":0},"end":{"offset":231,"line":10,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":98,"level":"warning","comment":"This getter has 98 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/core/ui/widgets/splash_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"SplashScreen":{"codeSpan":{"start":{"offset":141,"line":5,"column":1},"end":{"offset":295,"line":10,"column":2},"text":"class SplashScreen extends StatefulWidget {\n  const SplashScreen({super.key});\n\n  @override\n  State<SplashScreen> createState() => _SplashScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor SplashScreen increase metric value","codeSpan":{"start":{"offset":187,"line":6,"column":3},"end":{"offset":219,"line":6,"column":35},"text":"const SplashScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":235,"line":9,"column":3},"end":{"offset":293,"line":9,"column":61},"text":"State<SplashScreen> createState() => _SplashScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor SplashScreen decrease metric value","codeSpan":{"start":{"offset":187,"line":6,"column":3},"end":{"offset":219,"line":6,"column":35},"text":"const SplashScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":235,"line":9,"column":3},"end":{"offset":293,"line":9,"column":61},"text":"State<SplashScreen> createState() => _SplashScreenState();"}}]}]},"_SplashScreenState":{"codeSpan":{"start":{"offset":297,"line":12,"column":1},"end":{"offset":2066,"line":58,"column":2},"text":"class _SplashScreenState extends State<SplashScreen> {\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return const Scaffold(body: Center(child: CircularProgressIndicator()));\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":366,"line":14,"column":3},"end":{"offset":1931,"line":52,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    });\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":1947,"line":55,"column":3},"end":{"offset":2064,"line":57,"column":4},"text":"Widget build(BuildContext context) {\n    return const Scaffold(body: Center(child: CircularProgressIndicator()));\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":366,"line":14,"column":3},"end":{"offset":1931,"line":52,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    });\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":1947,"line":55,"column":3},"end":{"offset":2064,"line":57,"column":4},"text":"Widget build(BuildContext context) {\n    return const Scaffold(body: Center(child: CircularProgressIndicator()));\n  }"}}]}]}},"functions":{"SplashScreen.SplashScreen":{"codeSpan":{"start":{"offset":187,"line":6,"column":3},"end":{"offset":219,"line":6,"column":35},"text":"const SplashScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"SplashScreen.createState":{"codeSpan":{"start":{"offset":235,"line":9,"column":3},"end":{"offset":293,"line":9,"column":61},"text":"State<SplashScreen> createState() => _SplashScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":233,"line":9,"column":0},"end":{"offset":233,"line":9,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_SplashScreenState.initState":{"codeSpan":{"start":{"offset":366,"line":14,"column":3},"end":{"offset":1931,"line":52,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":599,"line":20,"column":7},"end":{"offset":620,"line":20,"column":28},"text":"if (!mounted) return;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":628,"line":22,"column":7},"end":{"offset":1919,"line":50,"column":8},"text":"if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":695,"line":24,"column":9},"end":{"offset":1079,"line":36,"column":10},"text":"if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }"}}]},{"metricsId":"halstead-volume","value":330.1173000519233,"level":"none","comment":"This method has a halstead volume of 330.1173000519233.","context":[]},{"metricsId":"lines-of-code","value":40,"unitType":"lines","level":"none","comment":"This method has 40 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":383,"line":14,"column":20},"end":{"offset":1931,"line":52,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) async {\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":467,"line":16,"column":60},"end":{"offset":1925,"line":51,"column":6},"text":"{\n      final authViewModel = context.read<AuthViewModel>();\n      final isLoggedIn = await authViewModel.checkAuthStatus();\n\n      if (!mounted) return;\n\n      if (isLoggedIn) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      } else {\n        // Not logged in, go to Login\n        // Assuming LoginScreen is home or '/' or specific route.\n        // User request: \"Navegue para /login (Navigator.pushReplacementNamed)\"\n        // But main.dart has 'home: LoginScreen()'. I should probable make LoginScreen accessible via route too or just use '/' if mapped.\n        // I'll assume we might need to verify main.dart routes.\n        // For now, I'll use simple pushReplacement to LoginScreen if I can import it,\n        // OR use a named route if defined.\n        // User asked for \"Navigator.pushReplacementNamed\".\n        // I will use '/login' for clarity, need to ensure it's registered in main.dart.\n        // OR since main.dart sets home: SplashScreen, I should navigate to LoginScreen.\n\n        Navigator.pushReplacementNamed(context, '/login');\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":644,"line":22,"column":23},"end":{"offset":1087,"line":37,"column":8},"text":"{\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        } else {\n          // Fallback to login if user object missing despite 'true' (unlikely)\n          Navigator.pushReplacementNamed(\n            context,\n            '/',\n          ); // Assuming / is login or handled\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":713,"line":24,"column":27},"end":{"offset":855,"line":30,"column":10},"text":"{\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":385,"line":15,"column":0},"end":{"offset":385,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":408,"line":16,"column":0},"end":{"offset":408,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":469,"line":17,"column":0},"end":{"offset":469,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":528,"line":18,"column":0},"end":{"offset":528,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":593,"line":20,"column":0},"end":{"offset":593,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":622,"line":22,"column":0},"end":{"offset":622,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":646,"line":23,"column":0},"end":{"offset":646,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":687,"line":24,"column":0},"end":{"offset":687,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":715,"line":25,"column":0},"end":{"offset":715,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":757,"line":26,"column":0},"end":{"offset":757,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":778,"line":27,"column":0},"end":{"offset":778,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":799,"line":28,"column":0},"end":{"offset":799,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":833,"line":29,"column":0},"end":{"offset":833,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":846,"line":30,"column":0},"end":{"offset":846,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":943,"line":32,"column":0},"end":{"offset":943,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":985,"line":33,"column":0},"end":{"offset":985,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1006,"line":34,"column":0},"end":{"offset":1006,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1023,"line":35,"column":0},"end":{"offset":1023,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1070,"line":36,"column":0},"end":{"offset":1070,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1080,"line":37,"column":0},"end":{"offset":1080,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1853,"line":49,"column":0},"end":{"offset":1853,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1912,"line":50,"column":0},"end":{"offset":1912,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1920,"line":51,"column":0},"end":{"offset":1920,"line":51,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":53,"level":"warning","comment":"This method has 53 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_SplashScreenState.build":{"codeSpan":{"start":{"offset":1947,"line":55,"column":3},"end":{"offset":2064,"line":57,"column":4},"text":"Widget build(BuildContext context) {\n    return const Scaffold(body: Center(child: CircularProgressIndicator()));\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":11.60964047443681,"level":"none","comment":"This method has a halstead volume of 11.60964047443681.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1982,"line":55,"column":38},"end":{"offset":2064,"line":57,"column":4},"text":"{\n    return const Scaffold(body: Center(child: CircularProgressIndicator()));\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1984,"line":56,"column":0},"end":{"offset":1984,"line":56,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This method has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/core/utils/phone_input_formatter.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PhoneInputFormatter":{"codeSpan":{"start":{"offset":41,"line":3,"column":1},"end":{"offset":1542,"line":48,"column":2},"text":"class PhoneInputFormatter extends TextInputFormatter {\n  static String format(String value) {\n    if (value.isEmpty) return '';\n\n    // 1. Obter apenas os n√∫meros\n    final digitsOnly = value.replaceAll(RegExp(r'[^0-9]'), '');\n\n    // 2. Limitar a 11 d√≠gitos\n    final truncated = digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly;\n\n    // 3. Reconstruir a string formatada\n    final buffer = StringBuffer();\n    for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }\n\n    return buffer.toString();\n  }\n\n  @override\n  TextEditingValue formatEditUpdate(\n    TextEditingValue oldValue,\n    TextEditingValue newValue,\n  ) {\n    // Reutilizar o m√©todo est√°tico para formata√ß√£o\n    // Nota: O m√©todo format reconstr√≥i toda a string.\n    // Para edi√ß√£o, isso posiciona o cursor no fim, o que √© o comportamento simplificado aceit√°vel aqui.\n    // Se digitacao for incremental, precisamos apenas garantir que o novo texto seja formatado.\n\n    final newText = newValue.text;\n    // Se estiver apagando, permitir comportamento padr√£o pode ser melhor ou usar l√≥gica especifica.\n    // Mas para m√°scara simples, reformatar sempre o valor limpo funciona.\n\n    final formattedText = format(newText);\n\n    return TextEditingValue(\n      text: formattedText,\n      selection: TextSelection.collapsed(offset: formattedText.length),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method format increase metric value","codeSpan":{"start":{"offset":98,"line":4,"column":3},"end":{"offset":717,"line":25,"column":4},"text":"static String format(String value) {\n    if (value.isEmpty) return '';\n\n    // 1. Obter apenas os n√∫meros\n    final digitsOnly = value.replaceAll(RegExp(r'[^0-9]'), '');\n\n    // 2. Limitar a 11 d√≠gitos\n    final truncated = digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly;\n\n    // 3. Reconstruir a string formatada\n    final buffer = StringBuffer();\n    for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }\n\n    return buffer.toString();\n  }"}},{"message":"method formatEditUpdate increase metric value","codeSpan":{"start":{"offset":733,"line":28,"column":3},"end":{"offset":1540,"line":47,"column":4},"text":"TextEditingValue formatEditUpdate(\n    TextEditingValue oldValue,\n    TextEditingValue newValue,\n  ) {\n    // Reutilizar o m√©todo est√°tico para formata√ß√£o\n    // Nota: O m√©todo format reconstr√≥i toda a string.\n    // Para edi√ß√£o, isso posiciona o cursor no fim, o que √© o comportamento simplificado aceit√°vel aqui.\n    // Se digitacao for incremental, precisamos apenas garantir que o novo texto seja formatado.\n\n    final newText = newValue.text;\n    // Se estiver apagando, permitir comportamento padr√£o pode ser melhor ou usar l√≥gica especifica.\n    // Mas para m√°scara simples, reformatar sempre o valor limpo funciona.\n\n    final formattedText = format(newText);\n\n    return TextEditingValue(\n      text: formattedText,\n      selection: TextSelection.collapsed(offset: formattedText.length),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method format increase metric value","codeSpan":{"start":{"offset":98,"line":4,"column":3},"end":{"offset":717,"line":25,"column":4},"text":"static String format(String value) {\n    if (value.isEmpty) return '';\n\n    // 1. Obter apenas os n√∫meros\n    final digitsOnly = value.replaceAll(RegExp(r'[^0-9]'), '');\n\n    // 2. Limitar a 11 d√≠gitos\n    final truncated = digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly;\n\n    // 3. Reconstruir a string formatada\n    final buffer = StringBuffer();\n    for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }\n\n    return buffer.toString();\n  }"}},{"message":"functional method formatEditUpdate increase metric value","codeSpan":{"start":{"offset":733,"line":28,"column":3},"end":{"offset":1540,"line":47,"column":4},"text":"TextEditingValue formatEditUpdate(\n    TextEditingValue oldValue,\n    TextEditingValue newValue,\n  ) {\n    // Reutilizar o m√©todo est√°tico para formata√ß√£o\n    // Nota: O m√©todo format reconstr√≥i toda a string.\n    // Para edi√ß√£o, isso posiciona o cursor no fim, o que √© o comportamento simplificado aceit√°vel aqui.\n    // Se digitacao for incremental, precisamos apenas garantir que o novo texto seja formatado.\n\n    final newText = newValue.text;\n    // Se estiver apagando, permitir comportamento padr√£o pode ser melhor ou usar l√≥gica especifica.\n    // Mas para m√°scara simples, reformatar sempre o valor limpo funciona.\n\n    final formattedText = format(newText);\n\n    return TextEditingValue(\n      text: formattedText,\n      selection: TextSelection.collapsed(offset: formattedText.length),\n    );\n  }"}}]}]}},"functions":{"PhoneInputFormatter.format":{"codeSpan":{"start":{"offset":98,"line":4,"column":3},"end":{"offset":717,"line":25,"column":4},"text":"static String format(String value) {\n    if (value.isEmpty) return '';\n\n    // 1. Obter apenas os n√∫meros\n    final digitsOnly = value.replaceAll(RegExp(r'[^0-9]'), '');\n\n    // 2. Limitar a 11 d√≠gitos\n    final truncated = digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly;\n\n    // 3. Reconstruir a string formatada\n    final buffer = StringBuffer();\n    for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }\n\n    return buffer.toString();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":139,"line":5,"column":5},"end":{"offset":168,"line":5,"column":34},"text":"if (value.isEmpty) return '';"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":322,"line":11,"column":23},"end":{"offset":403,"line":13,"column":21},"text":"digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly"}},{"message":"For statement increases complexity","codeSpan":{"start":{"offset":486,"line":17,"column":5},"end":{"offset":682,"line":22,"column":6},"text":"for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":537,"line":18,"column":7},"end":{"offset":567,"line":18,"column":37},"text":"if (i == 0) buffer.write('(');"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":574,"line":19,"column":7},"end":{"offset":605,"line":19,"column":38},"text":"if (i == 2) buffer.write(') ');"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":612,"line":20,"column":7},"end":{"offset":642,"line":20,"column":37},"text":"if (i == 7) buffer.write('-');"}}]},{"metricsId":"halstead-volume","value":198.80869236481868,"level":"none","comment":"This method has a halstead volume of 198.80869236481868.","context":[]},{"metricsId":"lines-of-code","value":22,"unitType":"lines","level":"none","comment":"This method has 22 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":133,"line":4,"column":38},"end":{"offset":717,"line":25,"column":4},"text":"{\n    if (value.isEmpty) return '';\n\n    // 1. Obter apenas os n√∫meros\n    final digitsOnly = value.replaceAll(RegExp(r'[^0-9]'), '');\n\n    // 2. Limitar a 11 d√≠gitos\n    final truncated = digitsOnly.length > 11\n        ? digitsOnly.substring(0, 11)\n        : digitsOnly;\n\n    // 3. Reconstruir a string formatada\n    final buffer = StringBuffer();\n    for (int i = 0; i < truncated.length; i++) {\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }\n\n    return buffer.toString();\n  }"}},{"message":"For statement increases depth","codeSpan":{"start":{"offset":529,"line":17,"column":48},"end":{"offset":682,"line":22,"column":6},"text":"{\n      if (i == 0) buffer.write('(');\n      if (i == 2) buffer.write(') ');\n      if (i == 7) buffer.write('-');\n      buffer.write(truncated[i]);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This method has 13 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":135,"line":5,"column":0},"end":{"offset":135,"line":5,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":204,"line":8,"column":0},"end":{"offset":204,"line":8,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":300,"line":11,"column":0},"end":{"offset":300,"line":11,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":345,"line":12,"column":0},"end":{"offset":345,"line":12,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":383,"line":13,"column":0},"end":{"offset":383,"line":13,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":447,"line":16,"column":0},"end":{"offset":447,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":482,"line":17,"column":0},"end":{"offset":482,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":531,"line":18,"column":0},"end":{"offset":531,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":568,"line":19,"column":0},"end":{"offset":568,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":606,"line":20,"column":0},"end":{"offset":606,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":643,"line":21,"column":0},"end":{"offset":643,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":677,"line":22,"column":0},"end":{"offset":677,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":684,"line":24,"column":0},"end":{"offset":684,"line":24,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":59,"level":"warning","comment":"This method has 59 maintainability index, below the minimum of 100 allowed.","context":[]}]},"PhoneInputFormatter.formatEditUpdate":{"codeSpan":{"start":{"offset":733,"line":28,"column":3},"end":{"offset":1540,"line":47,"column":4},"text":"TextEditingValue formatEditUpdate(\n    TextEditingValue oldValue,\n    TextEditingValue newValue,\n  ) {\n    // Reutilizar o m√©todo est√°tico para formata√ß√£o\n    // Nota: O m√©todo format reconstr√≥i toda a string.\n    // Para edi√ß√£o, isso posiciona o cursor no fim, o que √© o comportamento simplificado aceit√°vel aqui.\n    // Se digitacao for incremental, precisamos apenas garantir que o novo texto seja formatado.\n\n    final newText = newValue.text;\n    // Se estiver apagando, permitir comportamento padr√£o pode ser melhor ou usar l√≥gica especifica.\n    // Mas para m√°scara simples, reformatar sempre o valor limpo funciona.\n\n    final formattedText = format(newText);\n\n    return TextEditingValue(\n      text: formattedText,\n      selection: TextSelection.collapsed(offset: formattedText.length),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":60.94436251225966,"level":"none","comment":"This method has a halstead volume of 60.94436251225966.","context":[]},{"metricsId":"lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":834,"line":31,"column":5},"end":{"offset":1540,"line":47,"column":4},"text":"{\n    // Reutilizar o m√©todo est√°tico para formata√ß√£o\n    // Nota: O m√©todo format reconstr√≥i toda a string.\n    // Para edi√ß√£o, isso posiciona o cursor no fim, o que √© o comportamento simplificado aceit√°vel aqui.\n    // Se digitacao for incremental, precisamos apenas garantir que o novo texto seja formatado.\n\n    final newText = newValue.text;\n    // Se estiver apagando, permitir comportamento padr√£o pode ser melhor ou usar l√≥gica especifica.\n    // Mas para m√°scara simples, reformatar sempre o valor limpo funciona.\n\n    final formattedText = format(newText);\n\n    return TextEditingValue(\n      text: formattedText,\n      selection: TextSelection.collapsed(offset: formattedText.length),\n    );\n  }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1146,"line":37,"column":0},"end":{"offset":1146,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1358,"line":41,"column":0},"end":{"offset":1358,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1402,"line":43,"column":0},"end":{"offset":1402,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1431,"line":44,"column":0},"end":{"offset":1431,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1458,"line":45,"column":0},"end":{"offset":1458,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1530,"line":46,"column":0},"end":{"offset":1530,"line":46,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":71,"level":"warning","comment":"This method has 71 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/core/errors/exceptions.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ServerException":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":236,"line":10,"column":2},"text":"class ServerException extends Equatable implements Exception {\n  final String message;\n\n  const ServerException({required this.message});\n\n  @override\n  List<Object?> get props => [message];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor ServerException increase metric value","codeSpan":{"start":{"offset":134,"line":6,"column":3},"end":{"offset":181,"line":6,"column":50},"text":"const ServerException({required this.message});"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":197,"line":9,"column":3},"end":{"offset":234,"line":9,"column":40},"text":"List<Object?> get props => [message];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor ServerException decrease metric value","codeSpan":{"start":{"offset":134,"line":6,"column":3},"end":{"offset":181,"line":6,"column":50},"text":"const ServerException({required this.message});"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":197,"line":9,"column":3},"end":{"offset":234,"line":9,"column":40},"text":"List<Object?> get props => [message];"}}]}]},"CacheException":{"codeSpan":{"start":{"offset":238,"line":12,"column":1},"end":{"offset":428,"line":19,"column":2},"text":"class CacheException extends Equatable implements Exception {\n  final String message;\n\n  const CacheException({required this.message});\n\n  @override\n  List<Object?> get props => [message];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CacheException increase metric value","codeSpan":{"start":{"offset":327,"line":15,"column":3},"end":{"offset":373,"line":15,"column":49},"text":"const CacheException({required this.message});"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":389,"line":18,"column":3},"end":{"offset":426,"line":18,"column":40},"text":"List<Object?> get props => [message];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor CacheException decrease metric value","codeSpan":{"start":{"offset":327,"line":15,"column":3},"end":{"offset":373,"line":15,"column":49},"text":"const CacheException({required this.message});"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":389,"line":18,"column":3},"end":{"offset":426,"line":18,"column":40},"text":"List<Object?> get props => [message];"}}]}]}},"functions":{"ServerException.ServerException":{"codeSpan":{"start":{"offset":134,"line":6,"column":3},"end":{"offset":181,"line":6,"column":50},"text":"const ServerException({required this.message});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ServerException.props":{"codeSpan":{"start":{"offset":197,"line":9,"column":3},"end":{"offset":234,"line":9,"column":40},"text":"List<Object?> get props => [message];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":195,"line":9,"column":0},"end":{"offset":195,"line":9,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CacheException.CacheException":{"codeSpan":{"start":{"offset":327,"line":15,"column":3},"end":{"offset":373,"line":15,"column":49},"text":"const CacheException({required this.message});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CacheException.props":{"codeSpan":{"start":{"offset":389,"line":18,"column":3},"end":{"offset":426,"line":18,"column":40},"text":"List<Object?> get props => [message];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":387,"line":18,"column":0},"end":{"offset":387,"line":18,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/core/errors/failures.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"Failure":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":196,"line":9,"column":2},"text":"abstract class Failure extends Equatable {\n  final String message;\n  const Failure(this.message);\n\n  @override\n  List<Object?> get props => [message];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor Failure increase metric value","codeSpan":{"start":{"offset":113,"line":5,"column":3},"end":{"offset":141,"line":5,"column":31},"text":"const Failure(this.message);"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":157,"line":8,"column":3},"end":{"offset":194,"line":8,"column":40},"text":"List<Object?> get props => [message];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor Failure decrease metric value","codeSpan":{"start":{"offset":113,"line":5,"column":3},"end":{"offset":141,"line":5,"column":31},"text":"const Failure(this.message);"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":157,"line":8,"column":3},"end":{"offset":194,"line":8,"column":40},"text":"List<Object?> get props => [message];"}}]}]},"ServerFailure":{"codeSpan":{"start":{"offset":198,"line":11,"column":1},"end":{"offset":293,"line":13,"column":2},"text":"class ServerFailure extends Failure {\n  const ServerFailure(String message) : super(message);\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"constructor ServerFailure increase metric value","codeSpan":{"start":{"offset":238,"line":12,"column":3},"end":{"offset":291,"line":12,"column":56},"text":"const ServerFailure(String message) : super(message);"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor ServerFailure decrease metric value","codeSpan":{"start":{"offset":238,"line":12,"column":3},"end":{"offset":291,"line":12,"column":56},"text":"const ServerFailure(String message) : super(message);"}}]}]},"CacheFailure":{"codeSpan":{"start":{"offset":295,"line":15,"column":1},"end":{"offset":388,"line":17,"column":2},"text":"class CacheFailure extends Failure {\n  const CacheFailure(String message) : super(message);\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"constructor CacheFailure increase metric value","codeSpan":{"start":{"offset":334,"line":16,"column":3},"end":{"offset":386,"line":16,"column":55},"text":"const CacheFailure(String message) : super(message);"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor CacheFailure decrease metric value","codeSpan":{"start":{"offset":334,"line":16,"column":3},"end":{"offset":386,"line":16,"column":55},"text":"const CacheFailure(String message) : super(message);"}}]}]},"InvalidDataFailure":{"codeSpan":{"start":{"offset":390,"line":19,"column":1},"end":{"offset":495,"line":21,"column":2},"text":"class InvalidDataFailure extends Failure {\n  const InvalidDataFailure(String message) : super(message);\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"constructor InvalidDataFailure increase metric value","codeSpan":{"start":{"offset":435,"line":20,"column":3},"end":{"offset":493,"line":20,"column":61},"text":"const InvalidDataFailure(String message) : super(message);"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor InvalidDataFailure decrease metric value","codeSpan":{"start":{"offset":435,"line":20,"column":3},"end":{"offset":493,"line":20,"column":61},"text":"const InvalidDataFailure(String message) : super(message);"}}]}]}},"functions":{"Failure.Failure":{"codeSpan":{"start":{"offset":113,"line":5,"column":3},"end":{"offset":141,"line":5,"column":31},"text":"const Failure(this.message);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"Failure.props":{"codeSpan":{"start":{"offset":157,"line":8,"column":3},"end":{"offset":194,"line":8,"column":40},"text":"List<Object?> get props => [message];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":155,"line":8,"column":0},"end":{"offset":155,"line":8,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ServerFailure.ServerFailure":{"codeSpan":{"start":{"offset":238,"line":12,"column":3},"end":{"offset":291,"line":12,"column":56},"text":"const ServerFailure(String message) : super(message);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CacheFailure.CacheFailure":{"codeSpan":{"start":{"offset":334,"line":16,"column":3},"end":{"offset":386,"line":16,"column":55},"text":"const CacheFailure(String message) : super(message);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"InvalidDataFailure.InvalidDataFailure":{"codeSpan":{"start":{"offset":435,"line":20,"column":3},"end":{"offset":493,"line":20,"column":61},"text":"const InvalidDataFailure(String message) : super(message);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/ui/view_model/chat_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ChatViewModel":{"codeSpan":{"start":{"offset":387,"line":11,"column":1},"end":{"offset":4389,"line":170,"column":2},"text":"class ChatViewModel extends ChangeNotifier {\n  final SendMessageUseCase sendMessageUseCase;\n  final GetMessagesUseCase getMessagesUseCase;\n\n  ChatViewModel({\n    required this.sendMessageUseCase,\n    required this.getMessagesUseCase,\n  });\n\n  List<MessageEntity> _messages = [];\n  List<MessageEntity> get messages => _messages;\n\n  bool _isLoading = false;\n  bool get isLoading => _isLoading;\n\n  bool _isRecording = false;\n  bool get isRecording => _isRecording;\n\n  bool _isPlaying = false;\n  bool get isPlaying => _isPlaying;\n\n  Timer? _timer;\n  final AudioRecorder _audioRecorder = AudioRecorder();\n  final AudioPlayer _audioPlayer = AudioPlayer();\n\n  @override\n  void dispose() {\n    _timer?.cancel();\n    _audioRecorder.dispose();\n    _audioPlayer.dispose();\n    super.dispose();\n  }\n\n  void startPolling(String otherUserId) async {\n    _isLoading = true;\n    notifyListeners();\n\n    await _fetchMessages(otherUserId); // Fetch immediately\n\n    _isLoading = false;\n    notifyListeners();\n\n    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {\n      _fetchMessages(otherUserId);\n    });\n  }\n\n  Future<void> _fetchMessages(String otherUserId) async {\n    final result = await getMessagesUseCase(otherUserId: otherUserId);\n    result.fold((failure) => debugPrint('Error fetching messages: $failure'), (\n      messages,\n    ) {\n      _messages = messages;\n      notifyListeners();\n    });\n  }\n\n  bool _isSending = false;\n  bool get isSending => _isSending;\n\n  Future<void> sendMessage(String receiverId, {String? content}) async {\n    if (content == null || content.isEmpty) return;\n\n    _isSending = true;\n    notifyListeners();\n\n    final result = await sendMessageUseCase(\n      content: content,\n      receiverId: receiverId,\n    );\n\n    result.fold(\n      (failure) => debugPrint('Error sending message: $failure'),\n      (_) => _fetchMessages(receiverId),\n    );\n\n    _isSending = false;\n    notifyListeners();\n  }\n\n  Future<void> startRecording() async {\n    try {\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error starting recording: $e');\n    }\n  }\n\n  Future<void> stopRecording(String receiverId) async {\n    try {\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }\n  }\n\n  String? _playingMessageId;\n  String? get playingMessageId => _playingMessageId;\n\n  Future<void> playAudio(String url, String messageId) async {\n    try {\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    } catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":14,"unitType":"methods","level":"none","comment":"This class has 14 methods.","context":[{"message":"constructor ChatViewModel increase metric value","codeSpan":{"start":{"offset":529,"line":15,"column":3},"end":{"offset":626,"line":18,"column":6},"text":"ChatViewModel({\n    required this.sendMessageUseCase,\n    required this.getMessagesUseCase,\n  });"}},{"message":"getter messages increase metric value","codeSpan":{"start":{"offset":668,"line":21,"column":3},"end":{"offset":714,"line":21,"column":49},"text":"List<MessageEntity> get messages => _messages;"}},{"message":"getter isLoading increase metric value","codeSpan":{"start":{"offset":745,"line":24,"column":3},"end":{"offset":778,"line":24,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"getter isRecording increase metric value","codeSpan":{"start":{"offset":811,"line":27,"column":3},"end":{"offset":848,"line":27,"column":40},"text":"bool get isRecording => _isRecording;"}},{"message":"getter isPlaying increase metric value","codeSpan":{"start":{"offset":879,"line":30,"column":3},"end":{"offset":912,"line":30,"column":36},"text":"bool get isPlaying => _isPlaying;"}},{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":1052,"line":37,"column":3},"end":{"offset":1173,"line":42,"column":4},"text":"void dispose() {\n    _timer?.cancel();\n    _audioRecorder.dispose();\n    _audioPlayer.dispose();\n    super.dispose();\n  }"}},{"message":"method startPolling increase metric value","codeSpan":{"start":{"offset":1177,"line":44,"column":3},"end":{"offset":1491,"line":56,"column":4},"text":"void startPolling(String otherUserId) async {\n    _isLoading = true;\n    notifyListeners();\n\n    await _fetchMessages(otherUserId); // Fetch immediately\n\n    _isLoading = false;\n    notifyListeners();\n\n    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {\n      _fetchMessages(otherUserId);\n    });\n  }"}},{"message":"method _fetchMessages increase metric value","codeSpan":{"start":{"offset":1495,"line":58,"column":3},"end":{"offset":1790,"line":66,"column":4},"text":"Future<void> _fetchMessages(String otherUserId) async {\n    final result = await getMessagesUseCase(otherUserId: otherUserId);\n    result.fold((failure) => debugPrint('Error fetching messages: $failure'), (\n      messages,\n    ) {\n      _messages = messages;\n      notifyListeners();\n    });\n  }"}},{"message":"getter isSending increase metric value","codeSpan":{"start":{"offset":1821,"line":69,"column":3},"end":{"offset":1854,"line":69,"column":36},"text":"bool get isSending => _isSending;"}},{"message":"method sendMessage increase metric value","codeSpan":{"start":{"offset":1858,"line":71,"column":3},"end":{"offset":2318,"line":89,"column":4},"text":"Future<void> sendMessage(String receiverId, {String? content}) async {\n    if (content == null || content.isEmpty) return;\n\n    _isSending = true;\n    notifyListeners();\n\n    final result = await sendMessageUseCase(\n      content: content,\n      receiverId: receiverId,\n    );\n\n    result.fold(\n      (failure) => debugPrint('Error sending message: $failure'),\n      (_) => _fetchMessages(receiverId),\n    );\n\n    _isSending = false;\n    notifyListeners();\n  }"}},{"message":"method startRecording increase metric value","codeSpan":{"start":{"offset":2322,"line":91,"column":3},"end":{"offset":2852,"line":108,"column":4},"text":"Future<void> startRecording() async {\n    try {\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error starting recording: $e');\n    }\n  }"}},{"message":"method stopRecording increase metric value","codeSpan":{"start":{"offset":2856,"line":110,"column":3},"end":{"offset":3591,"line":139,"column":4},"text":"Future<void> stopRecording(String receiverId) async {\n    try {\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }\n  }"}},{"message":"getter playingMessageId increase metric value","codeSpan":{"start":{"offset":3624,"line":142,"column":3},"end":{"offset":3674,"line":142,"column":53},"text":"String? get playingMessageId => _playingMessageId;"}},{"message":"method playAudio increase metric value","codeSpan":{"start":{"offset":3678,"line":144,"column":3},"end":{"offset":4387,"line":169,"column":4},"text":"Future<void> playAudio(String url, String messageId) async {\n    try {\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    } catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.46153846153846156,"level":"none","comment":"This class has a weight of 0.46153846153846156.","context":[{"message":"public constructor ChatViewModel decrease metric value","codeSpan":{"start":{"offset":529,"line":15,"column":3},"end":{"offset":626,"line":18,"column":6},"text":"ChatViewModel({\n    required this.sendMessageUseCase,\n    required this.getMessagesUseCase,\n  });"}},{"message":"public getter messages decrease metric value","codeSpan":{"start":{"offset":668,"line":21,"column":3},"end":{"offset":714,"line":21,"column":49},"text":"List<MessageEntity> get messages => _messages;"}},{"message":"public getter isLoading decrease metric value","codeSpan":{"start":{"offset":745,"line":24,"column":3},"end":{"offset":778,"line":24,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"public getter isRecording decrease metric value","codeSpan":{"start":{"offset":811,"line":27,"column":3},"end":{"offset":848,"line":27,"column":40},"text":"bool get isRecording => _isRecording;"}},{"message":"public getter isPlaying decrease metric value","codeSpan":{"start":{"offset":879,"line":30,"column":3},"end":{"offset":912,"line":30,"column":36},"text":"bool get isPlaying => _isPlaying;"}},{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":1052,"line":37,"column":3},"end":{"offset":1173,"line":42,"column":4},"text":"void dispose() {\n    _timer?.cancel();\n    _audioRecorder.dispose();\n    _audioPlayer.dispose();\n    super.dispose();\n  }"}},{"message":"functional method startPolling increase metric value","codeSpan":{"start":{"offset":1177,"line":44,"column":3},"end":{"offset":1491,"line":56,"column":4},"text":"void startPolling(String otherUserId) async {\n    _isLoading = true;\n    notifyListeners();\n\n    await _fetchMessages(otherUserId); // Fetch immediately\n\n    _isLoading = false;\n    notifyListeners();\n\n    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {\n      _fetchMessages(otherUserId);\n    });\n  }"}},{"message":"public getter isSending decrease metric value","codeSpan":{"start":{"offset":1821,"line":69,"column":3},"end":{"offset":1854,"line":69,"column":36},"text":"bool get isSending => _isSending;"}},{"message":"functional method sendMessage increase metric value","codeSpan":{"start":{"offset":1858,"line":71,"column":3},"end":{"offset":2318,"line":89,"column":4},"text":"Future<void> sendMessage(String receiverId, {String? content}) async {\n    if (content == null || content.isEmpty) return;\n\n    _isSending = true;\n    notifyListeners();\n\n    final result = await sendMessageUseCase(\n      content: content,\n      receiverId: receiverId,\n    );\n\n    result.fold(\n      (failure) => debugPrint('Error sending message: $failure'),\n      (_) => _fetchMessages(receiverId),\n    );\n\n    _isSending = false;\n    notifyListeners();\n  }"}},{"message":"functional method startRecording increase metric value","codeSpan":{"start":{"offset":2322,"line":91,"column":3},"end":{"offset":2852,"line":108,"column":4},"text":"Future<void> startRecording() async {\n    try {\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error starting recording: $e');\n    }\n  }"}},{"message":"functional method stopRecording increase metric value","codeSpan":{"start":{"offset":2856,"line":110,"column":3},"end":{"offset":3591,"line":139,"column":4},"text":"Future<void> stopRecording(String receiverId) async {\n    try {\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }\n  }"}},{"message":"public getter playingMessageId decrease metric value","codeSpan":{"start":{"offset":3624,"line":142,"column":3},"end":{"offset":3674,"line":142,"column":53},"text":"String? get playingMessageId => _playingMessageId;"}},{"message":"functional method playAudio increase metric value","codeSpan":{"start":{"offset":3678,"line":144,"column":3},"end":{"offset":4387,"line":169,"column":4},"text":"Future<void> playAudio(String url, String messageId) async {\n    try {\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    } catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }\n  }"}}]}]}},"functions":{"ChatViewModel.ChatViewModel":{"codeSpan":{"start":{"offset":529,"line":15,"column":3},"end":{"offset":626,"line":18,"column":6},"text":"ChatViewModel({\n    required this.sendMessageUseCase,\n    required this.getMessagesUseCase,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This constructor has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ChatViewModel.messages":{"codeSpan":{"start":{"offset":668,"line":21,"column":3},"end":{"offset":714,"line":21,"column":49},"text":"List<MessageEntity> get messages => _messages;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":666,"line":21,"column":0},"end":{"offset":666,"line":21,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.isLoading":{"codeSpan":{"start":{"offset":745,"line":24,"column":3},"end":{"offset":778,"line":24,"column":36},"text":"bool get isLoading => _isLoading;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":743,"line":24,"column":0},"end":{"offset":743,"line":24,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.isRecording":{"codeSpan":{"start":{"offset":811,"line":27,"column":3},"end":{"offset":848,"line":27,"column":40},"text":"bool get isRecording => _isRecording;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":809,"line":27,"column":0},"end":{"offset":809,"line":27,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.isPlaying":{"codeSpan":{"start":{"offset":879,"line":30,"column":3},"end":{"offset":912,"line":30,"column":36},"text":"bool get isPlaying => _isPlaying;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":877,"line":30,"column":0},"end":{"offset":877,"line":30,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.dispose":{"codeSpan":{"start":{"offset":1052,"line":37,"column":3},"end":{"offset":1173,"line":42,"column":4},"text":"void dispose() {\n    _timer?.cancel();\n    _audioRecorder.dispose();\n    _audioPlayer.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1079,"line":38,"column":11},"end":{"offset":1081,"line":38,"column":13},"text":"?."}}]},{"metricsId":"halstead-volume","value":20.67970000576925,"level":"none","comment":"This method has a halstead volume of 20.67970000576925.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1067,"line":37,"column":18},"end":{"offset":1173,"line":42,"column":4},"text":"{\n    _timer?.cancel();\n    _audioRecorder.dispose();\n    _audioPlayer.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1069,"line":38,"column":0},"end":{"offset":1069,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1091,"line":39,"column":0},"end":{"offset":1091,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1121,"line":40,"column":0},"end":{"offset":1121,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1149,"line":41,"column":0},"end":{"offset":1149,"line":41,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":78,"level":"warning","comment":"This method has 78 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel.startPolling":{"codeSpan":{"start":{"offset":1177,"line":44,"column":3},"end":{"offset":1491,"line":56,"column":4},"text":"void startPolling(String otherUserId) async {\n    _isLoading = true;\n    notifyListeners();\n\n    await _fetchMessages(otherUserId); // Fetch immediately\n\n    _isLoading = false;\n    notifyListeners();\n\n    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {\n      _fetchMessages(otherUserId);\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":71.69925001442313,"level":"none","comment":"This method has a halstead volume of 71.69925001442313.","context":[]},{"metricsId":"lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This method has 13 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1221,"line":44,"column":47},"end":{"offset":1491,"line":56,"column":4},"text":"{\n    _isLoading = true;\n    notifyListeners();\n\n    await _fetchMessages(otherUserId); // Fetch immediately\n\n    _isLoading = false;\n    notifyListeners();\n\n    _timer = Timer.periodic(const Duration(seconds: 3), (timer) {\n      _fetchMessages(otherUserId);\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1443,"line":53,"column":65},"end":{"offset":1485,"line":55,"column":6},"text":"{\n      _fetchMessages(otherUserId);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1223,"line":45,"column":0},"end":{"offset":1223,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1246,"line":46,"column":0},"end":{"offset":1246,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1270,"line":48,"column":0},"end":{"offset":1270,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1331,"line":50,"column":0},"end":{"offset":1331,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1355,"line":51,"column":0},"end":{"offset":1355,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1379,"line":53,"column":0},"end":{"offset":1379,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1445,"line":54,"column":0},"end":{"offset":1445,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1480,"line":55,"column":0},"end":{"offset":1480,"line":55,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel._fetchMessages":{"codeSpan":{"start":{"offset":1495,"line":58,"column":3},"end":{"offset":1790,"line":66,"column":4},"text":"Future<void> _fetchMessages(String otherUserId) async {\n    final result = await getMessagesUseCase(otherUserId: otherUserId);\n    result.fold((failure) => debugPrint('Error fetching messages: $failure'), (\n      messages,\n    ) {\n      _messages = messages;\n      notifyListeners();\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":76.10749561002055,"level":"none","comment":"This method has a halstead volume of 76.10749561002055.","context":[]},{"metricsId":"lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1549,"line":58,"column":57},"end":{"offset":1790,"line":66,"column":4},"text":"{\n    final result = await getMessagesUseCase(otherUserId: otherUserId);\n    result.fold((failure) => debugPrint('Error fetching messages: $failure'), (\n      messages,\n    ) {\n      _messages = messages;\n      notifyListeners();\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1724,"line":62,"column":7},"end":{"offset":1784,"line":65,"column":6},"text":"{\n      _messages = messages;\n      notifyListeners();\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1551,"line":59,"column":0},"end":{"offset":1551,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1622,"line":60,"column":0},"end":{"offset":1622,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1702,"line":61,"column":0},"end":{"offset":1702,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1718,"line":62,"column":0},"end":{"offset":1718,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1726,"line":63,"column":0},"end":{"offset":1726,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1754,"line":64,"column":0},"end":{"offset":1754,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1779,"line":65,"column":0},"end":{"offset":1779,"line":65,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":69,"level":"warning","comment":"This method has 69 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel.isSending":{"codeSpan":{"start":{"offset":1821,"line":69,"column":3},"end":{"offset":1854,"line":69,"column":36},"text":"bool get isSending => _isSending;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1819,"line":69,"column":0},"end":{"offset":1819,"line":69,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.sendMessage":{"codeSpan":{"start":{"offset":1858,"line":71,"column":3},"end":{"offset":2318,"line":89,"column":4},"text":"Future<void> sendMessage(String receiverId, {String? content}) async {\n    if (content == null || content.isEmpty) return;\n\n    _isSending = true;\n    notifyListeners();\n\n    final result = await sendMessageUseCase(\n      content: content,\n      receiverId: receiverId,\n    );\n\n    result.fold(\n      (failure) => debugPrint('Error sending message: $failure'),\n      (_) => _fetchMessages(receiverId),\n    );\n\n    _isSending = false;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1933,"line":72,"column":5},"end":{"offset":1980,"line":72,"column":52},"text":"if (content == null || content.isEmpty) return;"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":1953,"line":72,"column":25},"end":{"offset":1955,"line":72,"column":27},"text":"||"}}]},{"metricsId":"halstead-volume","value":124.0,"level":"none","comment":"This method has a halstead volume of 124.0.","context":[]},{"metricsId":"lines-of-code","value":19,"unitType":"lines","level":"none","comment":"This method has 19 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1927,"line":71,"column":72},"end":{"offset":2318,"line":89,"column":4},"text":"{\n    if (content == null || content.isEmpty) return;\n\n    _isSending = true;\n    notifyListeners();\n\n    final result = await sendMessageUseCase(\n      content: content,\n      receiverId: receiverId,\n    );\n\n    result.fold(\n      (failure) => debugPrint('Error sending message: $failure'),\n      (_) => _fetchMessages(receiverId),\n    );\n\n    _isSending = false;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This method has 13 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1929,"line":72,"column":0},"end":{"offset":1929,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1982,"line":74,"column":0},"end":{"offset":1982,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2005,"line":75,"column":0},"end":{"offset":2005,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2029,"line":77,"column":0},"end":{"offset":2029,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2074,"line":78,"column":0},"end":{"offset":2074,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2098,"line":79,"column":0},"end":{"offset":2098,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2128,"line":80,"column":0},"end":{"offset":2128,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2136,"line":82,"column":0},"end":{"offset":2136,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2153,"line":83,"column":0},"end":{"offset":2153,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2219,"line":84,"column":0},"end":{"offset":2219,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2260,"line":85,"column":0},"end":{"offset":2260,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2268,"line":87,"column":0},"end":{"offset":2268,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2292,"line":88,"column":0},"end":{"offset":2292,"line":88,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This method has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel.startRecording":{"codeSpan":{"start":{"offset":2322,"line":91,"column":3},"end":{"offset":2852,"line":108,"column":4},"text":"Future<void> startRecording() async {\n    try {\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error starting recording: $e');\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2376,"line":93,"column":7},"end":{"offset":2774,"line":104,"column":8},"text":"if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2781,"line":105,"column":7},"end":{"offset":2848,"line":107,"column":6},"text":"catch (e) {\n      debugPrint('Error starting recording: $e');\n    }"}}]},{"metricsId":"halstead-volume","value":123.18989788986397,"level":"none","comment":"This method has a halstead volume of 123.18989788986397.","context":[]},{"metricsId":"lines-of-code","value":18,"unitType":"lines","level":"none","comment":"This method has 18 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2358,"line":91,"column":39},"end":{"offset":2852,"line":108,"column":4},"text":"{\n    try {\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error starting recording: $e');\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":2368,"line":92,"column":9},"end":{"offset":2780,"line":105,"column":6},"text":"{\n      if (await _audioRecorder.hasPermission()) {\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2418,"line":93,"column":49},"end":{"offset":2774,"line":104,"column":8},"text":"{\n        final directory = await getTemporaryDirectory();\n        final path =\n            '${directory.path}/audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\n\n        await _audioRecorder.start(\n          const RecordConfig(encoder: AudioEncoder.aacLc),\n          path: path,\n        );\n        _isRecording = true;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2360,"line":92,"column":0},"end":{"offset":2360,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2370,"line":93,"column":0},"end":{"offset":2370,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2420,"line":94,"column":0},"end":{"offset":2420,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2477,"line":95,"column":0},"end":{"offset":2477,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2498,"line":96,"column":0},"end":{"offset":2498,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2583,"line":98,"column":0},"end":{"offset":2583,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2619,"line":99,"column":0},"end":{"offset":2619,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2678,"line":100,"column":0},"end":{"offset":2678,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2700,"line":101,"column":0},"end":{"offset":2700,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2711,"line":102,"column":0},"end":{"offset":2711,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2740,"line":103,"column":0},"end":{"offset":2740,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2767,"line":104,"column":0},"end":{"offset":2767,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2775,"line":105,"column":0},"end":{"offset":2775,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2793,"line":106,"column":0},"end":{"offset":2793,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2843,"line":107,"column":0},"end":{"offset":2843,"line":107,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":60,"level":"warning","comment":"This method has 60 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel.stopRecording":{"codeSpan":{"start":{"offset":2856,"line":110,"column":3},"end":{"offset":3591,"line":139,"column":4},"text":"Future<void> stopRecording(String receiverId) async {\n    try {\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3028,"line":116,"column":7},"end":{"offset":3462,"line":133,"column":8},"text":"if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":3469,"line":134,"column":7},"end":{"offset":3587,"line":138,"column":6},"text":"catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }"}}]},{"metricsId":"halstead-volume","value":193.26196660226546,"level":"none","comment":"This method has a halstead volume of 193.26196660226546.","context":[]},{"metricsId":"lines-of-code","value":30,"unitType":"lines","level":"none","comment":"This method has 30 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2908,"line":110,"column":55},"end":{"offset":3591,"line":139,"column":4},"text":"{\n    try {\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    } catch (e) {\n      debugPrint('Error stopping recording: $e');\n      _isSending = false;\n      notifyListeners();\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":2918,"line":111,"column":9},"end":{"offset":3468,"line":134,"column":6},"text":"{\n      final path = await _audioRecorder.stop();\n      _isRecording = false;\n      notifyListeners();\n\n      if (path != null) {\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3046,"line":116,"column":25},"end":{"offset":3462,"line":133,"column":8},"text":"{\n        _isSending = true;\n        notifyListeners();\n\n        final result = await sendMessageUseCase(\n          content: '',\n          receiverId: receiverId,\n          audioFile: File(path),\n        );\n\n        result.fold(\n          (failure) => debugPrint('Error sending audio: $failure'),\n          (_) => _fetchMessages(receiverId),\n        );\n\n        _isSending = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2910,"line":111,"column":0},"end":{"offset":2910,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2920,"line":112,"column":0},"end":{"offset":2920,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2968,"line":113,"column":0},"end":{"offset":2968,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2996,"line":114,"column":0},"end":{"offset":2996,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3022,"line":116,"column":0},"end":{"offset":3022,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3048,"line":117,"column":0},"end":{"offset":3048,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3075,"line":118,"column":0},"end":{"offset":3075,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3103,"line":120,"column":0},"end":{"offset":3103,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3152,"line":121,"column":0},"end":{"offset":3152,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3175,"line":122,"column":0},"end":{"offset":3175,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3209,"line":123,"column":0},"end":{"offset":3209,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3242,"line":124,"column":0},"end":{"offset":3242,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3254,"line":126,"column":0},"end":{"offset":3254,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3275,"line":127,"column":0},"end":{"offset":3275,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3343,"line":128,"column":0},"end":{"offset":3343,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3388,"line":129,"column":0},"end":{"offset":3388,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3400,"line":131,"column":0},"end":{"offset":3400,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3428,"line":132,"column":0},"end":{"offset":3428,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3455,"line":133,"column":0},"end":{"offset":3455,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3463,"line":134,"column":0},"end":{"offset":3463,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3481,"line":135,"column":0},"end":{"offset":3481,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3531,"line":136,"column":0},"end":{"offset":3531,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3557,"line":137,"column":0},"end":{"offset":3557,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3582,"line":138,"column":0},"end":{"offset":3582,"line":138,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":54,"level":"warning","comment":"This method has 54 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatViewModel.playingMessageId":{"codeSpan":{"start":{"offset":3624,"line":142,"column":3},"end":{"offset":3674,"line":142,"column":53},"text":"String? get playingMessageId => _playingMessageId;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3622,"line":142,"column":0},"end":{"offset":3622,"line":142,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ChatViewModel.playAudio":{"codeSpan":{"start":{"offset":3678,"line":144,"column":3},"end":{"offset":4387,"line":169,"column":4},"text":"Future<void> playAudio(String url, String messageId) async {\n    try {\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    } catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3807,"line":147,"column":7},"end":{"offset":3964,"line":152,"column":8},"text":"if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":4264,"line":164,"column":7},"end":{"offset":4383,"line":168,"column":6},"text":"catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }"}}]},{"metricsId":"halstead-volume","value":156.0,"level":"none","comment":"This method has a halstead volume of 156.0.","context":[]},{"metricsId":"lines-of-code","value":26,"unitType":"lines","level":"none","comment":"This method has 26 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3737,"line":144,"column":62},"end":{"offset":4387,"line":169,"column":4},"text":"{\n    try {\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    } catch (e) {\n      debugPrint('Error playing audio: $e');\n      _playingMessageId = null;\n      notifyListeners();\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":3747,"line":145,"column":9},"end":{"offset":4263,"line":164,"column":6},"text":"{\n      debugPrint('Attempting to play audio: $url');\n      if (_playingMessageId == messageId) {\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }\n\n      await _audioPlayer.stop(); // Stop previous if any\n      _playingMessageId = messageId;\n      notifyListeners();\n\n      await _audioPlayer.play(UrlSource(url));\n\n      _audioPlayer.onPlayerComplete.listen((event) {\n        _playingMessageId = null;\n        notifyListeners();\n      });\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3843,"line":147,"column":43},"end":{"offset":3964,"line":152,"column":8},"text":"{\n        await _audioPlayer.stop();\n        _playingMessageId = null;\n        notifyListeners();\n        return;\n      }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":21,"unitType":"lines","level":"none","comment":"This method has 21 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3739,"line":145,"column":0},"end":{"offset":3739,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3749,"line":146,"column":0},"end":{"offset":3749,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3801,"line":147,"column":0},"end":{"offset":3801,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3845,"line":148,"column":0},"end":{"offset":3845,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3880,"line":149,"column":0},"end":{"offset":3880,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3914,"line":150,"column":0},"end":{"offset":3914,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3941,"line":151,"column":0},"end":{"offset":3941,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3957,"line":152,"column":0},"end":{"offset":3957,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3966,"line":154,"column":0},"end":{"offset":3966,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4023,"line":155,"column":0},"end":{"offset":4023,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4060,"line":156,"column":0},"end":{"offset":4060,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4086,"line":158,"column":0},"end":{"offset":4086,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4134,"line":160,"column":0},"end":{"offset":4134,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4187,"line":161,"column":0},"end":{"offset":4187,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4221,"line":162,"column":0},"end":{"offset":4221,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4248,"line":163,"column":0},"end":{"offset":4248,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4258,"line":164,"column":0},"end":{"offset":4258,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4276,"line":165,"column":0},"end":{"offset":4276,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4321,"line":166,"column":0},"end":{"offset":4321,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4353,"line":167,"column":0},"end":{"offset":4353,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4378,"line":168,"column":0},"end":{"offset":4378,"line":168,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":56,"level":"warning","comment":"This method has 56 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/ui/widgets/chat_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ChatScreen":{"codeSpan":{"start":{"offset":273,"line":8,"column":1},"end":{"offset":551,"line":20,"column":2},"text":"class ChatScreen extends StatefulWidget {\n  final String otherUserId;\n  final String otherUserName;\n\n  const ChatScreen({\n    super.key,\n    required this.otherUserId,\n    required this.otherUserName,\n  });\n\n  @override\n  State<ChatScreen> createState() => _ChatScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor ChatScreen increase metric value","codeSpan":{"start":{"offset":376,"line":12,"column":3},"end":{"offset":479,"line":16,"column":6},"text":"const ChatScreen({\n    super.key,\n    required this.otherUserId,\n    required this.otherUserName,\n  });"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":495,"line":19,"column":3},"end":{"offset":549,"line":19,"column":57},"text":"State<ChatScreen> createState() => _ChatScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor ChatScreen decrease metric value","codeSpan":{"start":{"offset":376,"line":12,"column":3},"end":{"offset":479,"line":16,"column":6},"text":"const ChatScreen({\n    super.key,\n    required this.otherUserId,\n    required this.otherUserName,\n  });"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":495,"line":19,"column":3},"end":{"offset":549,"line":19,"column":57},"text":"State<ChatScreen> createState() => _ChatScreenState();"}}]}]},"_ChatScreenState":{"codeSpan":{"start":{"offset":553,"line":22,"column":1},"end":{"offset":5902,"line":189,"column":2},"text":"class _ChatScreenState extends State<ChatScreen> {\n  final TextEditingController _messageController = TextEditingController();\n  final ScrollController _scrollController = ScrollController();\n\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    });\n  }\n\n  @override\n  void dispose() {\n    _messageController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }\n\n  Future<void> _handleMicPress() async {\n    final viewModel = context.read<ChatViewModel>();\n\n    if (viewModel.isRecording) {\n      await viewModel.stopRecording(widget.otherUserId);\n    } else {\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }\n  }\n\n  void _scrollToBottom() {\n    if (_scrollController.hasClients) {\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.otherUserName)),\n      body: Consumer<ChatViewModel>(\n        builder: (context, viewModel, child) {\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        },\n      ),\n    );\n  }\n\n  Widget _buildInputArea(ChatViewModel viewModel) {\n    return Container(\n      padding: const EdgeInsets.all(8),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.05),\n            offset: const Offset(0, -2),\n            blurRadius: 4,\n          ),\n        ],\n      ),\n      child: SafeArea(\n        child: Row(\n          children: [\n            Expanded(\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: viewModel.isRecording\n                      ? 'Gravando...'\n                      : 'Digite sua mensagem...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(24),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.grey[100],\n                  contentPadding: const EdgeInsets.symmetric(\n                    horizontal: 16,\n                    vertical: 10,\n                  ),\n                ),\n                onChanged: (val) {\n                  setState(() {}); // Rebuild to toggle send icon\n                },\n              ),\n            ),\n            const SizedBox(width: 8),\n            GestureDetector(\n              onTap: _messageController.text.isNotEmpty\n                  ? () {\n                      viewModel.sendMessage(\n                        widget.otherUserId,\n                        content: _messageController.text,\n                      );\n                      _messageController.clear();\n                      setState(() {});\n                    }\n                  : _handleMicPress,\n              child: CircleAvatar(\n                backgroundColor: viewModel.isRecording\n                    ? Colors.red\n                    : Theme.of(context).primaryColor,\n                child: Icon(\n                  _messageController.text.isNotEmpty\n                      ? Icons.send\n                      : (viewModel.isRecording ? Icons.stop : Icons.mic),\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":6,"unitType":"methods","level":"none","comment":"This class has 6 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":760,"line":27,"column":3},"end":{"offset":938,"line":32,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    });\n  }"}},{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":954,"line":35,"column":3},"end":{"offset":1062,"line":39,"column":4},"text":"void dispose() {\n    _messageController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }"}},{"message":"method _handleMicPress increase metric value","codeSpan":{"start":{"offset":1066,"line":41,"column":3},"end":{"offset":1800,"line":63,"column":4},"text":"Future<void> _handleMicPress() async {\n    final viewModel = context.read<ChatViewModel>();\n\n    if (viewModel.isRecording) {\n      await viewModel.stopRecording(widget.otherUserId);\n    } else {\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }\n  }"}},{"message":"method _scrollToBottom increase metric value","codeSpan":{"start":{"offset":1804,"line":65,"column":3},"end":{"offset":2058,"line":73,"column":4},"text":"void _scrollToBottom() {\n    if (_scrollController.hasClients) {\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":2074,"line":76,"column":3},"end":{"offset":3629,"line":119,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.otherUserName)),\n      body: Consumer<ChatViewModel>(\n        builder: (context, viewModel, child) {\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        },\n      ),\n    );\n  }"}},{"message":"method _buildInputArea increase metric value","codeSpan":{"start":{"offset":3633,"line":121,"column":3},"end":{"offset":5900,"line":188,"column":4},"text":"Widget _buildInputArea(ChatViewModel viewModel) {\n    return Container(\n      padding: const EdgeInsets.all(8),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.05),\n            offset: const Offset(0, -2),\n            blurRadius: 4,\n          ),\n        ],\n      ),\n      child: SafeArea(\n        child: Row(\n          children: [\n            Expanded(\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: viewModel.isRecording\n                      ? 'Gravando...'\n                      : 'Digite sua mensagem...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(24),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.grey[100],\n                  contentPadding: const EdgeInsets.symmetric(\n                    horizontal: 16,\n                    vertical: 10,\n                  ),\n                ),\n                onChanged: (val) {\n                  setState(() {}); // Rebuild to toggle send icon\n                },\n              ),\n            ),\n            const SizedBox(width: 8),\n            GestureDetector(\n              onTap: _messageController.text.isNotEmpty\n                  ? () {\n                      viewModel.sendMessage(\n                        widget.otherUserId,\n                        content: _messageController.text,\n                      );\n                      _messageController.clear();\n                      setState(() {});\n                    }\n                  : _handleMicPress,\n              child: CircleAvatar(\n                backgroundColor: viewModel.isRecording\n                    ? Colors.red\n                    : Theme.of(context).primaryColor,\n                child: Icon(\n                  _messageController.text.isNotEmpty\n                      ? Icons.send\n                      : (viewModel.isRecording ? Icons.stop : Icons.mic),\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":760,"line":27,"column":3},"end":{"offset":938,"line":32,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    });\n  }"}},{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":954,"line":35,"column":3},"end":{"offset":1062,"line":39,"column":4},"text":"void dispose() {\n    _messageController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":2074,"line":76,"column":3},"end":{"offset":3629,"line":119,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.otherUserName)),\n      body: Consumer<ChatViewModel>(\n        builder: (context, viewModel, child) {\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        },\n      ),\n    );\n  }"}}]}]},"_MessageBubble":{"codeSpan":{"start":{"offset":5904,"line":191,"column":1},"end":{"offset":8338,"line":266,"column":2},"text":"class _MessageBubble extends StatelessWidget {\n  final MessageEntity message;\n  final VoidCallback onPlayAudio;\n  final bool isPlaying;\n\n  const _MessageBubble({\n    required this.message,\n    required this.onPlayAudio,\n    this.isPlaying = false,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    final align = message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start;\n    final color = message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200];\n    final textColor = Colors.black87;\n\n    return Column(\n      crossAxisAlignment: align,\n      children: [\n        Container(\n          constraints: BoxConstraints(\n            maxWidth: MediaQuery.of(context).size.width * 0.75,\n          ),\n          margin: const EdgeInsets.symmetric(vertical: 4),\n          padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\n          decoration: BoxDecoration(\n            color: color,\n            borderRadius: BorderRadius.only(\n              topLeft: const Radius.circular(12),\n              topRight: const Radius.circular(12),\n              bottomLeft: message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0),\n              bottomRight: message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12),\n            ),\n          ),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.end,\n            children: [\n              if (message.isAudio)\n                GestureDetector(\n                  onTap: onPlayAudio,\n                  child: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(isPlaying ? Icons.pause : Icons.play_arrow),\n                      const SizedBox(width: 8),\n                      const Text(\"Mensagem de Voz\"),\n                    ],\n                  ),\n                )\n              else\n                Text(\n                  message.content,\n                  style: TextStyle(color: textColor, fontSize: 16),\n                ),\n              const SizedBox(height: 4),\n              Text(\n                DateFormat('HH:mm').format(message.createdAt.toLocal()),\n                style: TextStyle(\n                  color: textColor.withOpacity(0.6),\n                  fontSize: 10,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor _MessageBubble increase metric value","codeSpan":{"start":{"offset":6043,"line":196,"column":3},"end":{"offset":6157,"line":200,"column":6},"text":"const _MessageBubble({\n    required this.message,\n    required this.onPlayAudio,\n    this.isPlaying = false,\n  });"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":6173,"line":203,"column":3},"end":{"offset":8336,"line":265,"column":4},"text":"Widget build(BuildContext context) {\n    final align = message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start;\n    final color = message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200];\n    final textColor = Colors.black87;\n\n    return Column(\n      crossAxisAlignment: align,\n      children: [\n        Container(\n          constraints: BoxConstraints(\n            maxWidth: MediaQuery.of(context).size.width * 0.75,\n          ),\n          margin: const EdgeInsets.symmetric(vertical: 4),\n          padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\n          decoration: BoxDecoration(\n            color: color,\n            borderRadius: BorderRadius.only(\n              topLeft: const Radius.circular(12),\n              topRight: const Radius.circular(12),\n              bottomLeft: message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0),\n              bottomRight: message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12),\n            ),\n          ),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.end,\n            children: [\n              if (message.isAudio)\n                GestureDetector(\n                  onTap: onPlayAudio,\n                  child: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(isPlaying ? Icons.pause : Icons.play_arrow),\n                      const SizedBox(width: 8),\n                      const Text(\"Mensagem de Voz\"),\n                    ],\n                  ),\n                )\n              else\n                Text(\n                  message.content,\n                  style: TextStyle(color: textColor, fontSize: 16),\n                ),\n              const SizedBox(height: 4),\n              Text(\n                DateFormat('HH:mm').format(message.createdAt.toLocal()),\n                style: TextStyle(\n                  color: textColor.withOpacity(0.6),\n                  fontSize: 10,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":6173,"line":203,"column":3},"end":{"offset":8336,"line":265,"column":4},"text":"Widget build(BuildContext context) {\n    final align = message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start;\n    final color = message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200];\n    final textColor = Colors.black87;\n\n    return Column(\n      crossAxisAlignment: align,\n      children: [\n        Container(\n          constraints: BoxConstraints(\n            maxWidth: MediaQuery.of(context).size.width * 0.75,\n          ),\n          margin: const EdgeInsets.symmetric(vertical: 4),\n          padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\n          decoration: BoxDecoration(\n            color: color,\n            borderRadius: BorderRadius.only(\n              topLeft: const Radius.circular(12),\n              topRight: const Radius.circular(12),\n              bottomLeft: message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0),\n              bottomRight: message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12),\n            ),\n          ),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.end,\n            children: [\n              if (message.isAudio)\n                GestureDetector(\n                  onTap: onPlayAudio,\n                  child: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(isPlaying ? Icons.pause : Icons.play_arrow),\n                      const SizedBox(width: 8),\n                      const Text(\"Mensagem de Voz\"),\n                    ],\n                  ),\n                )\n              else\n                Text(\n                  message.content,\n                  style: TextStyle(color: textColor, fontSize: 16),\n                ),\n              const SizedBox(height: 4),\n              Text(\n                DateFormat('HH:mm').format(message.createdAt.toLocal()),\n                style: TextStyle(\n                  color: textColor.withOpacity(0.6),\n                  fontSize: 10,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }"}}]}]}},"functions":{"ChatScreen.ChatScreen":{"codeSpan":{"start":{"offset":376,"line":12,"column":3},"end":{"offset":479,"line":16,"column":6},"text":"const ChatScreen({\n    super.key,\n    required this.otherUserId,\n    required this.otherUserName,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This constructor has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ChatScreen.createState":{"codeSpan":{"start":{"offset":495,"line":19,"column":3},"end":{"offset":549,"line":19,"column":57},"text":"State<ChatScreen> createState() => _ChatScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":493,"line":19,"column":0},"end":{"offset":493,"line":19,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_ChatScreenState.initState":{"codeSpan":{"start":{"offset":760,"line":27,"column":3},"end":{"offset":938,"line":32,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":77.70923408096293,"level":"none","comment":"This method has a halstead volume of 77.70923408096293.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":777,"line":27,"column":20},"end":{"offset":938,"line":32,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":855,"line":29,"column":54},"end":{"offset":932,"line":31,"column":6},"text":"{\n      context.read<ChatViewModel>().startPolling(widget.otherUserId);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":779,"line":28,"column":0},"end":{"offset":779,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":802,"line":29,"column":0},"end":{"offset":802,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":857,"line":30,"column":0},"end":{"offset":857,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":927,"line":31,"column":0},"end":{"offset":927,"line":31,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":74,"level":"warning","comment":"This method has 74 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ChatScreenState.dispose":{"codeSpan":{"start":{"offset":954,"line":35,"column":3},"end":{"offset":1062,"line":39,"column":4},"text":"void dispose() {\n    _messageController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":7.924812503605781,"level":"none","comment":"This method has a halstead volume of 7.924812503605781.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":969,"line":35,"column":18},"end":{"offset":1062,"line":39,"column":4},"text":"{\n    _messageController.dispose();\n    _scrollController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":971,"line":36,"column":0},"end":{"offset":971,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1005,"line":37,"column":0},"end":{"offset":1005,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1038,"line":38,"column":0},"end":{"offset":1038,"line":38,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":84,"level":"warning","comment":"This method has 84 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ChatScreenState._handleMicPress":{"codeSpan":{"start":{"offset":1066,"line":41,"column":3},"end":{"offset":1800,"line":63,"column":4},"text":"Future<void> _handleMicPress() async {\n    final viewModel = context.read<ChatViewModel>();\n\n    if (viewModel.isRecording) {\n      await viewModel.stopRecording(widget.otherUserId);\n    } else {\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This method has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1163,"line":44,"column":5},"end":{"offset":1796,"line":62,"column":6},"text":"if (viewModel.isRecording) {\n      await viewModel.stopRecording(widget.otherUserId);\n    } else {\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1325,"line":48,"column":7},"end":{"offset":1750,"line":60,"column":8},"text":"if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1437,"line":50,"column":9},"end":{"offset":1742,"line":59,"column":10},"text":"if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1489,"line":51,"column":11},"end":{"offset":1714,"line":57,"column":12},"text":"if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }"}}]},{"metricsId":"halstead-volume","value":216.33097149259217,"level":"none","comment":"This method has a halstead volume of 216.33097149259217.","context":[]},{"metricsId":"lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":5,"level":"alarm","comment":"This method has a nesting level of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1103,"line":41,"column":40},"end":{"offset":1800,"line":63,"column":4},"text":"{\n    final viewModel = context.read<ChatViewModel>();\n\n    if (viewModel.isRecording) {\n      await viewModel.stopRecording(widget.otherUserId);\n    } else {\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1260,"line":46,"column":12},"end":{"offset":1796,"line":62,"column":6},"text":"{\n      final status = await Permission.microphone.status;\n      if (status != PermissionStatus.granted) {\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }\n      await viewModel.startRecording();\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1365,"line":48,"column":47},"end":{"offset":1750,"line":60,"column":8},"text":"{\n        final result = await Permission.microphone.request();\n        if (result != PermissionStatus.granted) {\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1477,"line":50,"column":49},"end":{"offset":1742,"line":59,"column":10},"text":"{\n          if (mounted) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }\n          return;\n        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1502,"line":51,"column":24},"end":{"offset":1714,"line":57,"column":12},"text":"{\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(\n                content: Text('Microphone permission required to record audio'),\n              ),\n            );\n          }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1105,"line":42,"column":0},"end":{"offset":1105,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1159,"line":44,"column":0},"end":{"offset":1159,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1192,"line":45,"column":0},"end":{"offset":1192,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1249,"line":46,"column":0},"end":{"offset":1249,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1262,"line":47,"column":0},"end":{"offset":1262,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1319,"line":48,"column":0},"end":{"offset":1319,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1367,"line":49,"column":0},"end":{"offset":1367,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1429,"line":50,"column":0},"end":{"offset":1429,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1479,"line":51,"column":0},"end":{"offset":1479,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1504,"line":52,"column":0},"end":{"offset":1504,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1560,"line":53,"column":0},"end":{"offset":1560,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1590,"line":54,"column":0},"end":{"offset":1590,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1671,"line":55,"column":0},"end":{"offset":1671,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1688,"line":56,"column":0},"end":{"offset":1688,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1703,"line":57,"column":0},"end":{"offset":1703,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1715,"line":58,"column":0},"end":{"offset":1715,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1733,"line":59,"column":0},"end":{"offset":1733,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1743,"line":60,"column":0},"end":{"offset":1743,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1751,"line":61,"column":0},"end":{"offset":1751,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1791,"line":62,"column":0},"end":{"offset":1791,"line":62,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ChatScreenState._scrollToBottom":{"codeSpan":{"start":{"offset":1804,"line":65,"column":3},"end":{"offset":2058,"line":73,"column":4},"text":"void _scrollToBottom() {\n    if (_scrollController.hasClients) {\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1833,"line":66,"column":5},"end":{"offset":2054,"line":72,"column":6},"text":"if (_scrollController.hasClients) {\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }"}}]},{"metricsId":"halstead-volume","value":44.97261104228487,"level":"none","comment":"This method has a halstead volume of 44.97261104228487.","context":[]},{"metricsId":"lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1827,"line":65,"column":26},"end":{"offset":2058,"line":73,"column":4},"text":"{\n    if (_scrollController.hasClients) {\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1867,"line":66,"column":39},"end":{"offset":2054,"line":72,"column":6},"text":"{\n      _scrollController.animateTo(\n        _scrollController.position.maxScrollExtent,\n        duration: const Duration(milliseconds: 300),\n        curve: Curves.easeOut,\n      );\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1829,"line":66,"column":0},"end":{"offset":1829,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1869,"line":67,"column":0},"end":{"offset":1869,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1904,"line":68,"column":0},"end":{"offset":1904,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1956,"line":69,"column":0},"end":{"offset":1956,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2009,"line":70,"column":0},"end":{"offset":2009,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2040,"line":71,"column":0},"end":{"offset":2040,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2049,"line":72,"column":0},"end":{"offset":2049,"line":72,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":70,"level":"warning","comment":"This method has 70 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ChatScreenState.build":{"codeSpan":{"start":{"offset":2074,"line":76,"column":3},"end":{"offset":3629,"line":119,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.otherUserName)),\n      body: Consumer<ChatViewModel>(\n        builder: (context, viewModel, child) {\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2402,"line":83,"column":13},"end":{"offset":2485,"line":85,"column":14},"text":"if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }"}}]},{"metricsId":"halstead-volume","value":975.6571588190973,"level":"none","comment":"This method has a halstead volume of 975.6571588190973.","context":[]},{"metricsId":"lines-of-code","value":45,"unitType":"lines","level":"none","comment":"This method has 45 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2109,"line":76,"column":38},"end":{"offset":3629,"line":119,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(title: Text(widget.otherUserName)),\n      body: Consumer<ChatViewModel>(\n        builder: (context, viewModel, child) {\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2271,"line":80,"column":46},"end":{"offset":3608,"line":116,"column":10},"text":"{\n          // Auto scroll to bottom when messages update\n          WidgetsBinding.instance.addPostFrameCallback((_) {\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          });\n\n          return Column(\n            children: [\n              if (viewModel.isLoading)\n                const Expanded(\n                  child: Center(child: CircularProgressIndicator()),\n                )\n              else\n                Expanded(\n                  child: ListView.builder(\n                    controller: _scrollController,\n                    padding: const EdgeInsets.all(16),\n                    itemCount: viewModel.messages.length,\n                    itemBuilder: (context, index) {\n                      final message = viewModel.messages[index];\n                      final isPlaying =\n                          viewModel.playingMessageId == message.id;\n                      return _MessageBubble(\n                        message: message,\n                        isPlaying: isPlaying,\n                        onPlayAudio: () =>\n                            viewModel.playAudio(message.audioUrl!, message.id),\n                      );\n                    },\n                  ),\n                ),\n              _buildInputArea(viewModel),\n            ],\n          );\n        }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2388,"line":82,"column":60},"end":{"offset":2497,"line":86,"column":12},"text":"{\n            if (viewModel.messages.isNotEmpty) {\n              _scrollToBottom();\n            }\n          }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2437,"line":83,"column":48},"end":{"offset":2485,"line":85,"column":14},"text":"{\n              _scrollToBottom();\n            }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":40,"unitType":"lines","level":"none","comment":"This method has 40 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2111,"line":77,"column":0},"end":{"offset":2111,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2132,"line":78,"column":0},"end":{"offset":2132,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2189,"line":79,"column":0},"end":{"offset":2189,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2226,"line":80,"column":0},"end":{"offset":2226,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2329,"line":82,"column":0},"end":{"offset":2329,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2390,"line":83,"column":0},"end":{"offset":2390,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2439,"line":84,"column":0},"end":{"offset":2439,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2472,"line":85,"column":0},"end":{"offset":2472,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2486,"line":86,"column":0},"end":{"offset":2486,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2501,"line":88,"column":0},"end":{"offset":2501,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2526,"line":89,"column":0},"end":{"offset":2526,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2550,"line":90,"column":0},"end":{"offset":2550,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2589,"line":91,"column":0},"end":{"offset":2589,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2621,"line":92,"column":0},"end":{"offset":2621,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2690,"line":93,"column":0},"end":{"offset":2690,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2708,"line":94,"column":0},"end":{"offset":2708,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2727,"line":95,"column":0},"end":{"offset":2727,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2753,"line":96,"column":0},"end":{"offset":2753,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2796,"line":97,"column":0},"end":{"offset":2796,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2847,"line":98,"column":0},"end":{"offset":2847,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2902,"line":99,"column":0},"end":{"offset":2902,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2960,"line":100,"column":0},"end":{"offset":2960,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3012,"line":101,"column":0},"end":{"offset":3012,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3077,"line":102,"column":0},"end":{"offset":3077,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3117,"line":103,"column":0},"end":{"offset":3117,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3185,"line":104,"column":0},"end":{"offset":3185,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3230,"line":105,"column":0},"end":{"offset":3230,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3272,"line":106,"column":0},"end":{"offset":3272,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3318,"line":107,"column":0},"end":{"offset":3318,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3361,"line":108,"column":0},"end":{"offset":3361,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3441,"line":109,"column":0},"end":{"offset":3441,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3466,"line":110,"column":0},"end":{"offset":3466,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3489,"line":111,"column":0},"end":{"offset":3489,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3510,"line":112,"column":0},"end":{"offset":3510,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3529,"line":113,"column":0},"end":{"offset":3529,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3571,"line":114,"column":0},"end":{"offset":3571,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3586,"line":115,"column":0},"end":{"offset":3586,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3599,"line":116,"column":0},"end":{"offset":3599,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3610,"line":117,"column":0},"end":{"offset":3610,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3619,"line":118,"column":0},"end":{"offset":3619,"line":118,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":44,"level":"alarm","comment":"This method has 44 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ChatScreenState._buildInputArea":{"codeSpan":{"start":{"offset":3633,"line":121,"column":3},"end":{"offset":5900,"line":188,"column":4},"text":"Widget _buildInputArea(ChatViewModel viewModel) {\n    return Container(\n      padding: const EdgeInsets.all(8),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.05),\n            offset: const Offset(0, -2),\n            blurRadius: 4,\n          ),\n        ],\n      ),\n      child: SafeArea(\n        child: Row(\n          children: [\n            Expanded(\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: viewModel.isRecording\n                      ? 'Gravando...'\n                      : 'Digite sua mensagem...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(24),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.grey[100],\n                  contentPadding: const EdgeInsets.symmetric(\n                    horizontal: 16,\n                    vertical: 10,\n                  ),\n                ),\n                onChanged: (val) {\n                  setState(() {}); // Rebuild to toggle send icon\n                },\n              ),\n            ),\n            const SizedBox(width: 8),\n            GestureDetector(\n              onTap: _messageController.text.isNotEmpty\n                  ? () {\n                      viewModel.sendMessage(\n                        widget.otherUserId,\n                        content: _messageController.text,\n                      );\n                      _messageController.clear();\n                      setState(() {});\n                    }\n                  : _handleMicPress,\n              child: CircleAvatar(\n                backgroundColor: viewModel.isRecording\n                    ? Colors.red\n                    : Theme.of(context).primaryColor,\n                child: Icon(\n                  _messageController.text.isNotEmpty\n                      ? Icons.send\n                      : (viewModel.isRecording ? Icons.stop : Icons.mic),\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":4241,"line":141,"column":29},"end":{"offset":4349,"line":143,"column":49},"text":"viewModel.isRecording\n                      ? 'Gravando...'\n                      : 'Digite sua mensagem...'"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5019,"line":162,"column":22},"end":{"offset":5397,"line":171,"column":36},"text":"_messageController.text.isNotEmpty\n                  ? () {\n                      viewModel.sendMessage(\n                        widget.otherUserId,\n                        content: _messageController.text,\n                      );\n                      _messageController.clear();\n                      setState(() {});\n                    }\n                  : _handleMicPress"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5467,"line":173,"column":34},"end":{"offset":5574,"line":175,"column":53},"text":"viewModel.isRecording\n                    ? Colors.red\n                    : Theme.of(context).primaryColor"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5623,"line":177,"column":19},"end":{"offset":5765,"line":179,"column":73},"text":"_messageController.text.isNotEmpty\n                      ? Icons.send\n                      : (viewModel.isRecording ? Icons.stop : Icons.mic)"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":5718,"line":179,"column":26},"end":{"offset":5764,"line":179,"column":72},"text":"viewModel.isRecording ? Icons.stop : Icons.mic"}}]},{"metricsId":"halstead-volume","value":709.5413751658659,"level":"none","comment":"This method has a halstead volume of 709.5413751658659.","context":[]},{"metricsId":"lines-of-code","value":68,"unitType":"lines","level":"none","comment":"This method has 68 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3681,"line":121,"column":51},"end":{"offset":5900,"line":188,"column":4},"text":"{\n    return Container(\n      padding: const EdgeInsets.all(8),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.05),\n            offset: const Offset(0, -2),\n            blurRadius: 4,\n          ),\n        ],\n      ),\n      child: SafeArea(\n        child: Row(\n          children: [\n            Expanded(\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: viewModel.isRecording\n                      ? 'Gravando...'\n                      : 'Digite sua mensagem...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(24),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.grey[100],\n                  contentPadding: const EdgeInsets.symmetric(\n                    horizontal: 16,\n                    vertical: 10,\n                  ),\n                ),\n                onChanged: (val) {\n                  setState(() {}); // Rebuild to toggle send icon\n                },\n              ),\n            ),\n            const SizedBox(width: 8),\n            GestureDetector(\n              onTap: _messageController.text.isNotEmpty\n                  ? () {\n                      viewModel.sendMessage(\n                        widget.otherUserId,\n                        content: _messageController.text,\n                      );\n                      _messageController.clear();\n                      setState(() {});\n                    }\n                  : _handleMicPress,\n              child: CircleAvatar(\n                backgroundColor: viewModel.isRecording\n                    ? Colors.red\n                    : Theme.of(context).primaryColor,\n                child: Icon(\n                  _messageController.text.isNotEmpty\n                      ? Icons.send\n                      : (viewModel.isRecording ? Icons.stop : Icons.mic),\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4812,"line":155,"column":34},"end":{"offset":4897,"line":157,"column":18},"text":"{\n                  setState(() {}); // Rebuild to toggle send icon\n                }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":4844,"line":156,"column":31},"end":{"offset":4846,"line":156,"column":33},"text":"{}"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":66,"unitType":"lines","level":"none","comment":"This method has 66 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3683,"line":122,"column":0},"end":{"offset":3683,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3705,"line":123,"column":0},"end":{"offset":3705,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3745,"line":124,"column":0},"end":{"offset":3745,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3778,"line":125,"column":0},"end":{"offset":3778,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3807,"line":126,"column":0},"end":{"offset":3807,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3828,"line":127,"column":0},"end":{"offset":3828,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3849,"line":128,"column":0},"end":{"offset":3849,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3900,"line":129,"column":0},"end":{"offset":3900,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3941,"line":130,"column":0},"end":{"offset":3941,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3968,"line":131,"column":0},"end":{"offset":3968,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3981,"line":132,"column":0},"end":{"offset":3981,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3992,"line":133,"column":0},"end":{"offset":3992,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4001,"line":134,"column":0},"end":{"offset":4001,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4024,"line":135,"column":0},"end":{"offset":4024,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4044,"line":136,"column":0},"end":{"offset":4044,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4066,"line":137,"column":0},"end":{"offset":4066,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4088,"line":138,"column":0},"end":{"offset":4088,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4120,"line":139,"column":0},"end":{"offset":4120,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4168,"line":140,"column":0},"end":{"offset":4168,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4213,"line":141,"column":0},"end":{"offset":4213,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4263,"line":142,"column":0},"end":{"offset":4263,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4301,"line":143,"column":0},"end":{"offset":4301,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4351,"line":144,"column":0},"end":{"offset":4351,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4397,"line":145,"column":0},"end":{"offset":4397,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4458,"line":146,"column":0},"end":{"offset":4458,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4507,"line":147,"column":0},"end":{"offset":4507,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4528,"line":148,"column":0},"end":{"offset":4528,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4560,"line":149,"column":0},"end":{"offset":4560,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4607,"line":150,"column":0},"end":{"offset":4607,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4669,"line":151,"column":0},"end":{"offset":4669,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4705,"line":152,"column":0},"end":{"offset":4705,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4739,"line":153,"column":0},"end":{"offset":4739,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4760,"line":154,"column":0},"end":{"offset":4760,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4779,"line":155,"column":0},"end":{"offset":4779,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4814,"line":156,"column":0},"end":{"offset":4814,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4880,"line":157,"column":0},"end":{"offset":4880,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4899,"line":158,"column":0},"end":{"offset":4899,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4916,"line":159,"column":0},"end":{"offset":4916,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4931,"line":160,"column":0},"end":{"offset":4931,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4969,"line":161,"column":0},"end":{"offset":4969,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4998,"line":162,"column":0},"end":{"offset":4998,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5054,"line":163,"column":0},"end":{"offset":5054,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5079,"line":164,"column":0},"end":{"offset":5079,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5124,"line":165,"column":0},"end":{"offset":5124,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5168,"line":166,"column":0},"end":{"offset":5168,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5226,"line":167,"column":0},"end":{"offset":5226,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5251,"line":168,"column":0},"end":{"offset":5251,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5301,"line":169,"column":0},"end":{"offset":5301,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5340,"line":170,"column":0},"end":{"offset":5340,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5362,"line":171,"column":0},"end":{"offset":5362,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5399,"line":172,"column":0},"end":{"offset":5399,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5434,"line":173,"column":0},"end":{"offset":5434,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5489,"line":174,"column":0},"end":{"offset":5489,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5522,"line":175,"column":0},"end":{"offset":5522,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5576,"line":176,"column":0},"end":{"offset":5576,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5605,"line":177,"column":0},"end":{"offset":5605,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5658,"line":178,"column":0},"end":{"offset":5658,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5693,"line":179,"column":0},"end":{"offset":5693,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5767,"line":180,"column":0},"end":{"offset":5767,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5806,"line":181,"column":0},"end":{"offset":5806,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5825,"line":182,"column":0},"end":{"offset":5825,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5842,"line":183,"column":0},"end":{"offset":5842,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5857,"line":184,"column":0},"end":{"offset":5857,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5870,"line":185,"column":0},"end":{"offset":5870,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5881,"line":186,"column":0},"end":{"offset":5881,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5890,"line":187,"column":0},"end":{"offset":5890,"line":187,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":40,"level":"alarm","comment":"This method has 40 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_MessageBubble._MessageBubble":{"codeSpan":{"start":{"offset":6043,"line":196,"column":3},"end":{"offset":6157,"line":200,"column":6},"text":"const _MessageBubble({\n    required this.message,\n    required this.onPlayAudio,\n    this.isPlaying = false,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This constructor has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"_MessageBubble.build":{"codeSpan":{"start":{"offset":6173,"line":203,"column":3},"end":{"offset":8336,"line":265,"column":4},"text":"Widget build(BuildContext context) {\n    final align = message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start;\n    final color = message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200];\n    final textColor = Colors.black87;\n\n    return Column(\n      crossAxisAlignment: align,\n      children: [\n        Container(\n          constraints: BoxConstraints(\n            maxWidth: MediaQuery.of(context).size.width * 0.75,\n          ),\n          margin: const EdgeInsets.symmetric(vertical: 4),\n          padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\n          decoration: BoxDecoration(\n            color: color,\n            borderRadius: BorderRadius.only(\n              topLeft: const Radius.circular(12),\n              topRight: const Radius.circular(12),\n              bottomLeft: message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0),\n              bottomRight: message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12),\n            ),\n          ),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.end,\n            children: [\n              if (message.isAudio)\n                GestureDetector(\n                  onTap: onPlayAudio,\n                  child: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(isPlaying ? Icons.pause : Icons.play_arrow),\n                      const SizedBox(width: 8),\n                      const Text(\"Mensagem de Voz\"),\n                    ],\n                  ),\n                )\n              else\n                Text(\n                  message.content,\n                  style: TextStyle(color: textColor, fontSize: 16),\n                ),\n              const SizedBox(height: 4),\n              Text(\n                DateFormat('HH:mm').format(message.createdAt.toLocal()),\n                style: TextStyle(\n                  color: textColor.withOpacity(0.6),\n                  fontSize: 10,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":6228,"line":204,"column":19},"end":{"offset":6308,"line":206,"column":35},"text":"message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":6328,"line":207,"column":19},"end":{"offset":6385,"line":207,"column":76},"text":"message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200]"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":7001,"line":224,"column":27},"end":{"offset":7104,"line":226,"column":45},"text":"message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0)"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":7133,"line":227,"column":28},"end":{"offset":7236,"line":229,"column":46},"text":"message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12)"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":7618,"line":241,"column":28},"end":{"offset":7660,"line":241,"column":70},"text":"isPlaying ? Icons.pause : Icons.play_arrow"}}]},{"metricsId":"halstead-volume","value":747.772528067286,"level":"none","comment":"This method has a halstead volume of 747.772528067286.","context":[]},{"metricsId":"lines-of-code","value":64,"unitType":"lines","level":"none","comment":"This method has 64 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":6208,"line":203,"column":38},"end":{"offset":8336,"line":265,"column":4},"text":"{\n    final align = message.isMe\n        ? CrossAxisAlignment.end\n        : CrossAxisAlignment.start;\n    final color = message.isMe ? const Color(0xFFDCF8C6) : Colors.grey[200];\n    final textColor = Colors.black87;\n\n    return Column(\n      crossAxisAlignment: align,\n      children: [\n        Container(\n          constraints: BoxConstraints(\n            maxWidth: MediaQuery.of(context).size.width * 0.75,\n          ),\n          margin: const EdgeInsets.symmetric(vertical: 4),\n          padding: const EdgeInsets.symmetric(horizontal: 12, vertical: 8),\n          decoration: BoxDecoration(\n            color: color,\n            borderRadius: BorderRadius.only(\n              topLeft: const Radius.circular(12),\n              topRight: const Radius.circular(12),\n              bottomLeft: message.isMe\n                  ? const Radius.circular(12)\n                  : const Radius.circular(0),\n              bottomRight: message.isMe\n                  ? const Radius.circular(0)\n                  : const Radius.circular(12),\n            ),\n          ),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.end,\n            children: [\n              if (message.isAudio)\n                GestureDetector(\n                  onTap: onPlayAudio,\n                  child: Row(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(isPlaying ? Icons.pause : Icons.play_arrow),\n                      const SizedBox(width: 8),\n                      const Text(\"Mensagem de Voz\"),\n                    ],\n                  ),\n                )\n              else\n                Text(\n                  message.content,\n                  style: TextStyle(color: textColor, fontSize: 16),\n                ),\n              const SizedBox(height: 4),\n              Text(\n                DateFormat('HH:mm').format(message.createdAt.toLocal()),\n                style: TextStyle(\n                  color: textColor.withOpacity(0.6),\n                  fontSize: 10,\n                ),\n              ),\n            ],\n          ),\n        ),\n      ],\n    );\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":60,"unitType":"lines","level":"none","comment":"This method has 60 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":6210,"line":204,"column":0},"end":{"offset":6210,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6241,"line":205,"column":0},"end":{"offset":6241,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6274,"line":206,"column":0},"end":{"offset":6274,"line":206,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6310,"line":207,"column":0},"end":{"offset":6310,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6387,"line":208,"column":0},"end":{"offset":6387,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6426,"line":210,"column":0},"end":{"offset":6426,"line":210,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6445,"line":211,"column":0},"end":{"offset":6445,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6478,"line":212,"column":0},"end":{"offset":6478,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6496,"line":213,"column":0},"end":{"offset":6496,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6515,"line":214,"column":0},"end":{"offset":6515,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6554,"line":215,"column":0},"end":{"offset":6554,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6618,"line":216,"column":0},"end":{"offset":6618,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6631,"line":217,"column":0},"end":{"offset":6631,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6690,"line":218,"column":0},"end":{"offset":6690,"line":218,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6766,"line":219,"column":0},"end":{"offset":6766,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6803,"line":220,"column":0},"end":{"offset":6803,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6829,"line":221,"column":0},"end":{"offset":6829,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6874,"line":222,"column":0},"end":{"offset":6874,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6924,"line":223,"column":0},"end":{"offset":6924,"line":223,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6975,"line":224,"column":0},"end":{"offset":6975,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7014,"line":225,"column":0},"end":{"offset":7014,"line":225,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7060,"line":226,"column":0},"end":{"offset":7060,"line":226,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7106,"line":227,"column":0},"end":{"offset":7106,"line":227,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7146,"line":228,"column":0},"end":{"offset":7146,"line":228,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7191,"line":229,"column":0},"end":{"offset":7191,"line":229,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7238,"line":230,"column":0},"end":{"offset":7238,"line":230,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7253,"line":231,"column":0},"end":{"offset":7253,"line":231,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7266,"line":232,"column":0},"end":{"offset":7266,"line":232,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7291,"line":233,"column":0},"end":{"offset":7291,"line":233,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7347,"line":234,"column":0},"end":{"offset":7347,"line":234,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7371,"line":235,"column":0},"end":{"offset":7371,"line":235,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7406,"line":236,"column":0},"end":{"offset":7406,"line":236,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7439,"line":237,"column":0},"end":{"offset":7439,"line":237,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7477,"line":238,"column":0},"end":{"offset":7477,"line":238,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7507,"line":239,"column":0},"end":{"offset":7507,"line":239,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7559,"line":240,"column":0},"end":{"offset":7559,"line":240,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7591,"line":241,"column":0},"end":{"offset":7591,"line":241,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7663,"line":242,"column":0},"end":{"offset":7663,"line":242,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7711,"line":243,"column":0},"end":{"offset":7711,"line":243,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7764,"line":244,"column":0},"end":{"offset":7764,"line":244,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7787,"line":245,"column":0},"end":{"offset":7787,"line":245,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7808,"line":246,"column":0},"end":{"offset":7808,"line":246,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7826,"line":247,"column":0},"end":{"offset":7826,"line":247,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7845,"line":248,"column":0},"end":{"offset":7845,"line":248,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7867,"line":249,"column":0},"end":{"offset":7867,"line":249,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7902,"line":250,"column":0},"end":{"offset":7902,"line":250,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7970,"line":251,"column":0},"end":{"offset":7970,"line":251,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7989,"line":252,"column":0},"end":{"offset":7989,"line":252,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8030,"line":253,"column":0},"end":{"offset":8030,"line":253,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8050,"line":254,"column":0},"end":{"offset":8050,"line":254,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8123,"line":255,"column":0},"end":{"offset":8123,"line":255,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8157,"line":256,"column":0},"end":{"offset":8157,"line":256,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8210,"line":257,"column":0},"end":{"offset":8210,"line":257,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8242,"line":258,"column":0},"end":{"offset":8242,"line":258,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8261,"line":259,"column":0},"end":{"offset":8261,"line":259,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8278,"line":260,"column":0},"end":{"offset":8278,"line":260,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8293,"line":261,"column":0},"end":{"offset":8293,"line":261,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8306,"line":262,"column":0},"end":{"offset":8306,"line":262,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8317,"line":263,"column":0},"end":{"offset":8317,"line":263,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8326,"line":264,"column":0},"end":{"offset":8326,"line":264,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":41,"level":"alarm","comment":"This method has 41 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/infra/datasources/chat_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ChatRemoteDataSource":{"codeSpan":{"start":{"offset":151,"line":5,"column":1},"end":{"offset":380,"line":13,"column":2},"text":"abstract class ChatRemoteDataSource {\n  Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });\n\n  Future<List<ParseObject>> getMessages({required String otherUserId});\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method sendMessage increase metric value","codeSpan":{"start":{"offset":191,"line":6,"column":3},"end":{"offset":305,"line":10,"column":6},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"}},{"message":"method getMessages increase metric value","codeSpan":{"start":{"offset":309,"line":12,"column":3},"end":{"offset":378,"line":12,"column":72},"text":"Future<List<ParseObject>> getMessages({required String otherUserId});"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method sendMessage increase metric value","codeSpan":{"start":{"offset":191,"line":6,"column":3},"end":{"offset":305,"line":10,"column":6},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"}},{"message":"functional method getMessages increase metric value","codeSpan":{"start":{"offset":309,"line":12,"column":3},"end":{"offset":378,"line":12,"column":72},"text":"Future<List<ParseObject>> getMessages({required String otherUserId});"}}]}]},"ChatRemoteDataSourceImpl":{"codeSpan":{"start":{"offset":382,"line":15,"column":1},"end":{"offset":2791,"line":90,"column":2},"text":"class ChatRemoteDataSourceImpl implements ChatRemoteDataSource {\n  @override\n  @override\n  Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    } catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }\n  }\n\n  @override\n  Future<List<ParseObject>> getMessages({required String otherUserId}) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }\n\n    final queryBuilder1 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', user.objectId!)\n      ..whereEqualTo('receiverId', otherUserId);\n\n    final queryBuilder2 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', otherUserId)\n      ..whereEqualTo('receiverId', user.objectId!);\n\n    final queryBuilder = QueryBuilder.or(ParseObject('Message'), [\n      queryBuilder1,\n      queryBuilder2,\n    ]);\n\n    queryBuilder.orderByAscending('createdAt');\n\n    final response = await queryBuilder.query();\n\n    if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method sendMessage increase metric value","codeSpan":{"start":{"offset":473,"line":18,"column":3},"end":{"offset":1684,"line":56,"column":4},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    } catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }\n  }"}},{"message":"method getMessages increase metric value","codeSpan":{"start":{"offset":1700,"line":59,"column":3},"end":{"offset":2789,"line":89,"column":4},"text":"Future<List<ParseObject>> getMessages({required String otherUserId}) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }\n\n    final queryBuilder1 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', user.objectId!)\n      ..whereEqualTo('receiverId', otherUserId);\n\n    final queryBuilder2 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', otherUserId)\n      ..whereEqualTo('receiverId', user.objectId!);\n\n    final queryBuilder = QueryBuilder.or(ParseObject('Message'), [\n      queryBuilder1,\n      queryBuilder2,\n    ]);\n\n    queryBuilder.orderByAscending('createdAt');\n\n    final response = await queryBuilder.query();\n\n    if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method sendMessage increase metric value","codeSpan":{"start":{"offset":473,"line":18,"column":3},"end":{"offset":1684,"line":56,"column":4},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    } catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }\n  }"}},{"message":"functional method getMessages increase metric value","codeSpan":{"start":{"offset":1700,"line":59,"column":3},"end":{"offset":2789,"line":89,"column":4},"text":"Future<List<ParseObject>> getMessages({required String otherUserId}) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }\n\n    final queryBuilder1 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', user.objectId!)\n      ..whereEqualTo('receiverId', otherUserId);\n\n    final queryBuilder2 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', otherUserId)\n      ..whereEqualTo('receiverId', user.objectId!);\n\n    final queryBuilder = QueryBuilder.or(ParseObject('Message'), [\n      queryBuilder1,\n      queryBuilder2,\n    ]);\n\n    queryBuilder.orderByAscending('createdAt');\n\n    final response = await queryBuilder.query();\n\n    if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }\n  }"}}]}]}},"functions":{"ChatRemoteDataSource.sendMessage":{"codeSpan":{"start":{"offset":191,"line":6,"column":3},"end":{"offset":305,"line":10,"column":6},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ChatRemoteDataSource.getMessages":{"codeSpan":{"start":{"offset":309,"line":12,"column":3},"end":{"offset":378,"line":12,"column":72},"text":"Future<List<ParseObject>> getMessages({required String otherUserId});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ChatRemoteDataSourceImpl.sendMessage":{"codeSpan":{"start":{"offset":473,"line":18,"column":3},"end":{"offset":1684,"line":56,"column":4},"text":"Future<void> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    } catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":675,"line":25,"column":7},"end":{"offset":799,"line":27,"column":8},"text":"if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":692,"line":25,"column":24},"end":{"offset":694,"line":25,"column":26},"text":"||"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1018,"line":34,"column":7},"end":{"offset":1428,"line":46,"column":8},"text":"if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1153,"line":38,"column":9},"end":{"offset":1270,"line":40,"column":10},"text":"if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1482,"line":50,"column":7},"end":{"offset":1586,"line":52,"column":8},"text":"if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1593,"line":53,"column":7},"end":{"offset":1680,"line":55,"column":6},"text":"catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }"}}]},{"metricsId":"halstead-volume","value":401.28990114133694,"level":"none","comment":"This method has a halstead volume of 401.28990114133694.","context":[]},{"metricsId":"lines-of-code","value":41,"unitType":"lines","level":"none","comment":"This method has 41 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":593,"line":22,"column":12},"end":{"offset":1684,"line":56,"column":4},"text":"{\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    } catch (e) {\n      throw const ServerException(message: 'Failed to send message');\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":603,"line":23,"column":9},"end":{"offset":1592,"line":53,"column":6},"text":"{\n      final user = await ParseUser.currentUser() as ParseUser?;\n      if (user == null || user.objectId == null) {\n        throw const ServerException(message: 'User not authenticated');\n      }\n\n      final message = ParseObject('Message')\n        ..set<String>('content', content)\n        ..set<String>('senderId', user.objectId!)\n        ..set<String>('receiverId', receiverId); // Ensuring String type\n\n      if (audioFile != null) {\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      } else {\n        message.set<bool>('isAudio', false);\n      }\n\n      final response = await message.save();\n\n      if (!response.success) {\n        throw const ServerException(message: 'Failed to save message');\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1041,"line":34,"column":30},"end":{"offset":1368,"line":44,"column":8},"text":"{\n        final parseFile = ParseFile(audioFile);\n        final responseFile = await parseFile.save();\n\n        if (!responseFile.success) {\n          throw const ServerException(message: 'Failed to upload audio file');\n        }\n\n        message.set('audioFile', parseFile);\n        message.set<bool>('isAudio', true);\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1180,"line":38,"column":36},"end":{"offset":1270,"line":40,"column":10},"text":"{\n          throw const ServerException(message: 'Failed to upload audio file');\n        }"}}]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":27,"unitType":"lines","level":"none","comment":"This method has 27 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":595,"line":23,"column":0},"end":{"offset":595,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":605,"line":24,"column":0},"end":{"offset":605,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":669,"line":25,"column":0},"end":{"offset":669,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":720,"line":26,"column":0},"end":{"offset":720,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":792,"line":27,"column":0},"end":{"offset":792,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":801,"line":29,"column":0},"end":{"offset":801,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":846,"line":30,"column":0},"end":{"offset":846,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":888,"line":31,"column":0},"end":{"offset":888,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":938,"line":32,"column":0},"end":{"offset":938,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1012,"line":34,"column":0},"end":{"offset":1012,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1043,"line":35,"column":0},"end":{"offset":1043,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1091,"line":36,"column":0},"end":{"offset":1091,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1145,"line":38,"column":0},"end":{"offset":1145,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1182,"line":39,"column":0},"end":{"offset":1182,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1261,"line":40,"column":0},"end":{"offset":1261,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1272,"line":42,"column":0},"end":{"offset":1272,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1317,"line":43,"column":0},"end":{"offset":1317,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1361,"line":44,"column":0},"end":{"offset":1361,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1376,"line":45,"column":0},"end":{"offset":1376,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1421,"line":46,"column":0},"end":{"offset":1421,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1430,"line":48,"column":0},"end":{"offset":1430,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1476,"line":50,"column":0},"end":{"offset":1476,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1507,"line":51,"column":0},"end":{"offset":1507,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1579,"line":52,"column":0},"end":{"offset":1579,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1587,"line":53,"column":0},"end":{"offset":1587,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1605,"line":54,"column":0},"end":{"offset":1605,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1675,"line":55,"column":0},"end":{"offset":1675,"line":55,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatRemoteDataSourceImpl.getMessages":{"codeSpan":{"start":{"offset":1700,"line":59,"column":3},"end":{"offset":2789,"line":89,"column":4},"text":"Future<List<ParseObject>> getMessages({required String otherUserId}) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }\n\n    final queryBuilder1 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', user.objectId!)\n      ..whereEqualTo('receiverId', otherUserId);\n\n    final queryBuilder2 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', otherUserId)\n      ..whereEqualTo('receiverId', user.objectId!);\n\n    final queryBuilder = QueryBuilder.or(ParseObject('Message'), [\n      queryBuilder1,\n      queryBuilder2,\n    ]);\n\n    queryBuilder.orderByAscending('createdAt');\n\n    final response = await queryBuilder.query();\n\n    if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1843,"line":61,"column":5},"end":{"offset":1938,"line":63,"column":6},"text":"if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2511,"line":82,"column":5},"end":{"offset":2785,"line":88,"column":6},"text":"if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2532,"line":82,"column":26},"end":{"offset":2534,"line":82,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2626,"line":84,"column":12},"end":{"offset":2785,"line":88,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2647,"line":84,"column":33},"end":{"offset":2649,"line":84,"column":35},"text":"&&"}}]},{"metricsId":"halstead-volume","value":381.47311589978943,"level":"none","comment":"This method has a halstead volume of 381.47311589978943.","context":[]},{"metricsId":"lines-of-code","value":32,"unitType":"lines","level":"none","comment":"This method has 32 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1775,"line":59,"column":78},"end":{"offset":2789,"line":89,"column":4},"text":"{\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not authenticated');\n    }\n\n    final queryBuilder1 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', user.objectId!)\n      ..whereEqualTo('receiverId', otherUserId);\n\n    final queryBuilder2 = QueryBuilder<ParseObject>(ParseObject('Message'))\n      ..whereEqualTo('senderId', otherUserId)\n      ..whereEqualTo('receiverId', user.objectId!);\n\n    final queryBuilder = QueryBuilder.or(ParseObject('Message'), [\n      queryBuilder1,\n      queryBuilder2,\n    ]);\n\n    queryBuilder.orderByAscending('createdAt');\n\n    final response = await queryBuilder.query();\n\n    if (response.success && response.results != null) {\n      return response.results as List<ParseObject>;\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw const ServerException(message: 'Failed to fetch messages');\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1861,"line":61,"column":23},"end":{"offset":1938,"line":63,"column":6},"text":"{\n      throw const ServerException(message: 'User not authenticated');\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":23,"unitType":"lines","level":"none","comment":"This method has 23 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1777,"line":60,"column":0},"end":{"offset":1777,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1839,"line":61,"column":0},"end":{"offset":1839,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1863,"line":62,"column":0},"end":{"offset":1863,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1933,"line":63,"column":0},"end":{"offset":1933,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1940,"line":65,"column":0},"end":{"offset":1940,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2016,"line":66,"column":0},"end":{"offset":2016,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2065,"line":67,"column":0},"end":{"offset":2065,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2115,"line":69,"column":0},"end":{"offset":2115,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2191,"line":70,"column":0},"end":{"offset":2191,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2237,"line":71,"column":0},"end":{"offset":2237,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2290,"line":73,"column":0},"end":{"offset":2290,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2357,"line":74,"column":0},"end":{"offset":2357,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2378,"line":75,"column":0},"end":{"offset":2378,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2399,"line":76,"column":0},"end":{"offset":2399,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2408,"line":78,"column":0},"end":{"offset":2408,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2457,"line":80,"column":0},"end":{"offset":2457,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2507,"line":82,"column":0},"end":{"offset":2507,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2563,"line":83,"column":0},"end":{"offset":2563,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2615,"line":84,"column":0},"end":{"offset":2615,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2678,"line":85,"column":0},"end":{"offset":2678,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2695,"line":86,"column":0},"end":{"offset":2695,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2708,"line":87,"column":0},"end":{"offset":2708,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2780,"line":88,"column":0},"end":{"offset":2780,"line":88,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":52,"level":"warning","comment":"This method has 52 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/infra/repositories/chat_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ChatRepositoryImpl":{"codeSpan":{"start":{"offset":407,"line":10,"column":1},"end":{"offset":1945,"line":62,"column":2},"text":"class ChatRepositoryImpl implements ChatRepository {\n  final ChatRemoteDataSource remoteDataSource;\n\n  ChatRepositoryImpl({required this.remoteDataSource});\n\n  @override\n  Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  }) async {\n    try {\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"constructor ChatRepositoryImpl increase metric value","codeSpan":{"start":{"offset":510,"line":13,"column":3},"end":{"offset":563,"line":13,"column":56},"text":"ChatRepositoryImpl({required this.remoteDataSource});"}},{"message":"method sendMessage increase metric value","codeSpan":{"start":{"offset":579,"line":16,"column":3},"end":{"offset":990,"line":31,"column":4},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"method getMessages increase metric value","codeSpan":{"start":{"offset":1006,"line":34,"column":3},"end":{"offset":1943,"line":61,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  }) async {\n    try {\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.6666666666666666,"level":"none","comment":"This class has a weight of 0.6666666666666666.","context":[{"message":"public constructor ChatRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":510,"line":13,"column":3},"end":{"offset":563,"line":13,"column":56},"text":"ChatRepositoryImpl({required this.remoteDataSource});"}},{"message":"functional method sendMessage increase metric value","codeSpan":{"start":{"offset":579,"line":16,"column":3},"end":{"offset":990,"line":31,"column":4},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"functional method getMessages increase metric value","codeSpan":{"start":{"offset":1006,"line":34,"column":3},"end":{"offset":1943,"line":61,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  }) async {\n    try {\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}}]}]}},"functions":{"ChatRepositoryImpl.ChatRepositoryImpl":{"codeSpan":{"start":{"offset":510,"line":13,"column":3},"end":{"offset":563,"line":13,"column":56},"text":"ChatRepositoryImpl({required this.remoteDataSource});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ChatRepositoryImpl.sendMessage":{"codeSpan":{"start":{"offset":579,"line":16,"column":3},"end":{"offset":990,"line":31,"column":4},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    try {\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":905,"line":28,"column":7},"end":{"offset":986,"line":30,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}}]},{"metricsId":"halstead-volume","value":62.907475208398566,"level":"none","comment":"This method has a halstead volume of 62.907475208398566.","context":[]},{"metricsId":"lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":716,"line":20,"column":12},"end":{"offset":990,"line":31,"column":4},"text":"{\n    try {\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":726,"line":21,"column":9},"end":{"offset":904,"line":28,"column":6},"text":"{\n      await remoteDataSource.sendMessage(\n        content: content,\n        receiverId: receiverId,\n        audioFile: audioFile,\n      );\n      return const Right(null);\n    }"}}]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This method has 10 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":718,"line":21,"column":0},"end":{"offset":718,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":728,"line":22,"column":0},"end":{"offset":728,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":770,"line":23,"column":0},"end":{"offset":770,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":796,"line":24,"column":0},"end":{"offset":796,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":828,"line":25,"column":0},"end":{"offset":828,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":858,"line":26,"column":0},"end":{"offset":858,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":867,"line":27,"column":0},"end":{"offset":867,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":899,"line":28,"column":0},"end":{"offset":899,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":936,"line":29,"column":0},"end":{"offset":936,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":981,"line":30,"column":0},"end":{"offset":981,"line":30,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":66,"level":"warning","comment":"This method has 66 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ChatRepositoryImpl.getMessages":{"codeSpan":{"start":{"offset":1006,"line":34,"column":3},"end":{"offset":1943,"line":61,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  }) async {\n    try {\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1493,"line":47,"column":45},"end":{"offset":1495,"line":47,"column":47},"text":"??"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1629,"line":50,"column":30},"end":{"offset":1631,"line":50,"column":32},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1678,"line":51,"column":43},"end":{"offset":1680,"line":51,"column":45},"text":"??"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1779,"line":53,"column":57},"end":{"offset":1781,"line":53,"column":59},"text":"?."}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1858,"line":58,"column":7},"end":{"offset":1939,"line":60,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}}]},{"metricsId":"halstead-volume","value":787.2783437256991,"level":"none","comment":"This method has a halstead volume of 787.2783437256991.","context":[]},{"metricsId":"lines-of-code","value":29,"unitType":"lines","level":"none","comment":"This method has 29 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1109,"line":36,"column":12},"end":{"offset":1943,"line":61,"column":4},"text":"{\n    try {\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1119,"line":37,"column":9},"end":{"offset":1857,"line":58,"column":6},"text":"{\n      final results = await remoteDataSource.getMessages(\n        otherUserId: otherUserId,\n      );\n      final currentUser = await ParseUser.currentUser() as ParseUser?;\n\n      final messages = results.map((e) {\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }).toList();\n\n      return Right(messages);\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1333,"line":43,"column":40},"end":{"offset":1809,"line":55,"column":8},"text":"{\n        final audioFile = e.get<ParseFile>('audioFile');\n        return MessageEntity(\n          id: e.objectId!,\n          content: e.get<String>('content') ?? '',\n          senderId: e.get<String>('senderId')!,\n          receiverId: e.get<String>('receiverId')!,\n          audioUrl: audioFile?.url,\n          isAudio: e.get<bool>('isAudio') ?? false,\n          createdAt: e.createdAt!,\n          isMe: e.get<String>('senderId') == currentUser?.objectId,\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":22,"unitType":"lines","level":"none","comment":"This method has 22 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1111,"line":37,"column":0},"end":{"offset":1111,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1121,"line":38,"column":0},"end":{"offset":1121,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1179,"line":39,"column":0},"end":{"offset":1179,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1213,"line":40,"column":0},"end":{"offset":1213,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1222,"line":41,"column":0},"end":{"offset":1222,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1294,"line":43,"column":0},"end":{"offset":1294,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1335,"line":44,"column":0},"end":{"offset":1335,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1392,"line":45,"column":0},"end":{"offset":1392,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1422,"line":46,"column":0},"end":{"offset":1422,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1449,"line":47,"column":0},"end":{"offset":1449,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1500,"line":48,"column":0},"end":{"offset":1500,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1548,"line":49,"column":0},"end":{"offset":1548,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1600,"line":50,"column":0},"end":{"offset":1600,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1636,"line":51,"column":0},"end":{"offset":1636,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1688,"line":52,"column":0},"end":{"offset":1688,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1723,"line":53,"column":0},"end":{"offset":1723,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1791,"line":54,"column":0},"end":{"offset":1791,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1802,"line":55,"column":0},"end":{"offset":1802,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1822,"line":57,"column":0},"end":{"offset":1822,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1852,"line":58,"column":0},"end":{"offset":1852,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1889,"line":59,"column":0},"end":{"offset":1889,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1934,"line":60,"column":0},"end":{"offset":1934,"line":60,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/domain/repositories/chat_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ChatRepository":{"codeSpan":{"start":{"offset":155,"line":6,"column":1},"end":{"offset":423,"line":16,"column":2},"text":"abstract class ChatRepository {\n  Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });\n\n  Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  });\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method sendMessage increase metric value","codeSpan":{"start":{"offset":189,"line":7,"column":3},"end":{"offset":320,"line":11,"column":6},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"}},{"message":"method getMessages increase metric value","codeSpan":{"start":{"offset":324,"line":13,"column":3},"end":{"offset":421,"line":15,"column":6},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  });"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method sendMessage increase metric value","codeSpan":{"start":{"offset":189,"line":7,"column":3},"end":{"offset":320,"line":11,"column":6},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"}},{"message":"functional method getMessages increase metric value","codeSpan":{"start":{"offset":324,"line":13,"column":3},"end":{"offset":421,"line":15,"column":6},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  });"}}]}]}},"functions":{"ChatRepository.sendMessage":{"codeSpan":{"start":{"offset":189,"line":7,"column":3},"end":{"offset":320,"line":11,"column":6},"text":"Future<Either<Failure, void>> sendMessage({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ChatRepository.getMessages":{"codeSpan":{"start":{"offset":324,"line":13,"column":3},"end":{"offset":421,"line":15,"column":6},"text":"Future<Either<Failure, List<MessageEntity>>> getMessages({\n    required String otherUserId,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/domain/usecases/get_messages_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetMessagesUseCase":{"codeSpan":{"start":{"offset":184,"line":6,"column":1},"end":{"offset":459,"line":16,"column":2},"text":"class GetMessagesUseCase {\n  final ChatRepository repository;\n\n  GetMessagesUseCase(this.repository);\n\n  Future<Either<Failure, List<MessageEntity>>> call({\n    required String otherUserId,\n  }) async {\n    return await repository.getMessages(otherUserId: otherUserId);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor GetMessagesUseCase increase metric value","codeSpan":{"start":{"offset":249,"line":9,"column":3},"end":{"offset":285,"line":9,"column":39},"text":"GetMessagesUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":289,"line":11,"column":3},"end":{"offset":457,"line":15,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> call({\n    required String otherUserId,\n  }) async {\n    return await repository.getMessages(otherUserId: otherUserId);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor GetMessagesUseCase decrease metric value","codeSpan":{"start":{"offset":249,"line":9,"column":3},"end":{"offset":285,"line":9,"column":39},"text":"GetMessagesUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":289,"line":11,"column":3},"end":{"offset":457,"line":15,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> call({\n    required String otherUserId,\n  }) async {\n    return await repository.getMessages(otherUserId: otherUserId);\n  }"}}]}]}},"functions":{"GetMessagesUseCase.GetMessagesUseCase":{"codeSpan":{"start":{"offset":249,"line":9,"column":3},"end":{"offset":285,"line":9,"column":39},"text":"GetMessagesUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetMessagesUseCase.call":{"codeSpan":{"start":{"offset":289,"line":11,"column":3},"end":{"offset":457,"line":15,"column":4},"text":"Future<Either<Failure, List<MessageEntity>>> call({\n    required String otherUserId,\n  }) async {\n    return await repository.getMessages(otherUserId: otherUserId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":10.0,"level":"none","comment":"This method has a halstead volume of 10.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":385,"line":13,"column":12},"end":{"offset":457,"line":15,"column":4},"text":"{\n    return await repository.getMessages(otherUserId: otherUserId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":387,"line":14,"column":0},"end":{"offset":387,"line":14,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This method has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/domain/usecases/send_message_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"SendMessageUseCase":{"codeSpan":{"start":{"offset":160,"line":6,"column":1},"end":{"offset":532,"line":22,"column":2},"text":"class SendMessageUseCase {\n  final ChatRepository repository;\n\n  SendMessageUseCase(this.repository);\n\n  Future<Either<Failure, void>> call({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    return await repository.sendMessage(\n      content: content,\n      receiverId: receiverId,\n      audioFile: audioFile,\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor SendMessageUseCase increase metric value","codeSpan":{"start":{"offset":225,"line":9,"column":3},"end":{"offset":261,"line":9,"column":39},"text":"SendMessageUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":265,"line":11,"column":3},"end":{"offset":530,"line":21,"column":4},"text":"Future<Either<Failure, void>> call({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    return await repository.sendMessage(\n      content: content,\n      receiverId: receiverId,\n      audioFile: audioFile,\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor SendMessageUseCase decrease metric value","codeSpan":{"start":{"offset":225,"line":9,"column":3},"end":{"offset":261,"line":9,"column":39},"text":"SendMessageUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":265,"line":11,"column":3},"end":{"offset":530,"line":21,"column":4},"text":"Future<Either<Failure, void>> call({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    return await repository.sendMessage(\n      content: content,\n      receiverId: receiverId,\n      audioFile: audioFile,\n    );\n  }"}}]}]}},"functions":{"SendMessageUseCase.SendMessageUseCase":{"codeSpan":{"start":{"offset":225,"line":9,"column":3},"end":{"offset":261,"line":9,"column":39},"text":"SendMessageUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"SendMessageUseCase.call":{"codeSpan":{"start":{"offset":265,"line":11,"column":3},"end":{"offset":530,"line":21,"column":4},"text":"Future<Either<Failure, void>> call({\n    required String content,\n    required String receiverId,\n    File? audioFile,\n  }) async {\n    return await repository.sendMessage(\n      content: content,\n      receiverId: receiverId,\n      audioFile: audioFile,\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":23.264662506490403,"level":"none","comment":"This method has a halstead volume of 23.264662506490403.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":395,"line":15,"column":12},"end":{"offset":530,"line":21,"column":4},"text":"{\n    return await repository.sendMessage(\n      content: content,\n      receiverId: receiverId,\n      audioFile: audioFile,\n    );\n  }"}}]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":397,"line":16,"column":0},"end":{"offset":397,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":438,"line":17,"column":0},"end":{"offset":438,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":462,"line":18,"column":0},"end":{"offset":462,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":492,"line":19,"column":0},"end":{"offset":492,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":520,"line":20,"column":0},"end":{"offset":520,"line":20,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":76,"level":"warning","comment":"This method has 76 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/chat/domain/entities/message_entity.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"MessageEntity":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":664,"line":35,"column":2},"text":"class MessageEntity extends Equatable {\n  final String id;\n  final String content;\n  final String senderId;\n  final String receiverId;\n  final String? audioUrl;\n  final bool isAudio;\n  final DateTime createdAt;\n  final bool isMe;\n\n  const MessageEntity({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.receiverId,\n    this.audioUrl,\n    required this.isAudio,\n    required this.createdAt,\n    required this.isMe,\n  });\n\n  @override\n  List<Object?> get props => [\n    id,\n    content,\n    senderId,\n    receiverId,\n    audioUrl,\n    isAudio,\n    createdAt,\n    isMe,\n  ];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor MessageEntity increase metric value","codeSpan":{"start":{"offset":277,"line":13,"column":3},"end":{"offset":510,"line":22,"column":6},"text":"const MessageEntity({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.receiverId,\n    this.audioUrl,\n    required this.isAudio,\n    required this.createdAt,\n    required this.isMe,\n  });"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":526,"line":25,"column":3},"end":{"offset":662,"line":34,"column":5},"text":"List<Object?> get props => [\n    id,\n    content,\n    senderId,\n    receiverId,\n    audioUrl,\n    isAudio,\n    createdAt,\n    isMe,\n  ];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor MessageEntity decrease metric value","codeSpan":{"start":{"offset":277,"line":13,"column":3},"end":{"offset":510,"line":22,"column":6},"text":"const MessageEntity({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.receiverId,\n    this.audioUrl,\n    required this.isAudio,\n    required this.createdAt,\n    required this.isMe,\n  });"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":526,"line":25,"column":3},"end":{"offset":662,"line":34,"column":5},"text":"List<Object?> get props => [\n    id,\n    content,\n    senderId,\n    receiverId,\n    audioUrl,\n    isAudio,\n    createdAt,\n    isMe,\n  ];"}}]}]}},"functions":{"MessageEntity.MessageEntity":{"codeSpan":{"start":{"offset":277,"line":13,"column":3},"end":{"offset":510,"line":22,"column":6},"text":"const MessageEntity({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.receiverId,\n    this.audioUrl,\n    required this.isAudio,\n    required this.createdAt,\n    required this.isMe,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This constructor has 10 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"MessageEntity.props":{"codeSpan":{"start":{"offset":526,"line":25,"column":3},"end":{"offset":662,"line":34,"column":5},"text":"List<Object?> get props => [\n    id,\n    content,\n    senderId,\n    receiverId,\n    audioUrl,\n    isAudio,\n    createdAt,\n    isMe,\n  ];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":24.0,"level":"none","comment":"This getter has a halstead volume of 24.0.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This getter has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This getter has 10 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":524,"line":25,"column":0},"end":{"offset":524,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":555,"line":26,"column":0},"end":{"offset":555,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":563,"line":27,"column":0},"end":{"offset":563,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":576,"line":28,"column":0},"end":{"offset":576,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":590,"line":29,"column":0},"end":{"offset":590,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":606,"line":30,"column":0},"end":{"offset":606,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":620,"line":31,"column":0},"end":{"offset":620,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":633,"line":32,"column":0},"end":{"offset":633,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":648,"line":33,"column":0},"end":{"offset":648,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":658,"line":34,"column":0},"end":{"offset":658,"line":34,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":69,"level":"warning","comment":"This getter has 69 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/ui/view_model/auth_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AuthViewModel":{"codeSpan":{"start":{"offset":323,"line":10,"column":1},"end":{"offset":2818,"line":112,"column":2},"text":"class AuthViewModel extends ChangeNotifier {\n  final LoginUseCase loginUseCase;\n  final RegisterUseCase registerUseCase;\n\n  AuthViewModel({required this.loginUseCase, required this.registerUseCase});\n\n  AuthStatus _status = AuthStatus.initial;\n  AuthStatus get status => _status;\n\n  UserEntity? _user;\n  UserEntity? get user => _user;\n\n  String? _errorMessage;\n  String? get errorMessage => _errorMessage;\n\n  Future<void> login(String email, String password) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await loginUseCase(email, password);\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }\n\n  Future<void> register({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await registerUseCase(\n      name: name,\n      email: email,\n      password: password,\n      type: type,\n    );\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }\n\n  void resetState() {\n    _status = AuthStatus.initial;\n    _errorMessage = null;\n    notifyListeners();\n  }\n\n  Future<bool> checkAuthStatus() async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    } catch (e) {\n      // Error checking auth\n    }\n\n    _status = AuthStatus.initial;\n    _user = null;\n    notifyListeners();\n    return false;\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":8,"unitType":"methods","level":"none","comment":"This class has 8 methods.","context":[{"message":"constructor AuthViewModel increase metric value","codeSpan":{"start":{"offset":447,"line":14,"column":3},"end":{"offset":522,"line":14,"column":78},"text":"AuthViewModel({required this.loginUseCase, required this.registerUseCase});"}},{"message":"getter status increase metric value","codeSpan":{"start":{"offset":569,"line":17,"column":3},"end":{"offset":602,"line":17,"column":36},"text":"AuthStatus get status => _status;"}},{"message":"getter user increase metric value","codeSpan":{"start":{"offset":627,"line":20,"column":3},"end":{"offset":657,"line":20,"column":33},"text":"UserEntity? get user => _user;"}},{"message":"getter errorMessage increase metric value","codeSpan":{"start":{"offset":686,"line":23,"column":3},"end":{"offset":728,"line":23,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"method login increase metric value","codeSpan":{"start":{"offset":732,"line":25,"column":3},"end":{"offset":1174,"line":43,"column":4},"text":"Future<void> login(String email, String password) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await loginUseCase(email, password);\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method register increase metric value","codeSpan":{"start":{"offset":1178,"line":45,"column":3},"end":{"offset":1783,"line":73,"column":4},"text":"Future<void> register({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await registerUseCase(\n      name: name,\n      email: email,\n      password: password,\n      type: type,\n    );\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method resetState increase metric value","codeSpan":{"start":{"offset":1787,"line":75,"column":3},"end":{"offset":1893,"line":79,"column":4},"text":"void resetState() {\n    _status = AuthStatus.initial;\n    _errorMessage = null;\n    notifyListeners();\n  }"}},{"message":"method checkAuthStatus increase metric value","codeSpan":{"start":{"offset":1897,"line":81,"column":3},"end":{"offset":2816,"line":111,"column":4},"text":"Future<bool> checkAuthStatus() async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    } catch (e) {\n      // Error checking auth\n    }\n\n    _status = AuthStatus.initial;\n    _user = null;\n    notifyListeners();\n    return false;\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor AuthViewModel decrease metric value","codeSpan":{"start":{"offset":447,"line":14,"column":3},"end":{"offset":522,"line":14,"column":78},"text":"AuthViewModel({required this.loginUseCase, required this.registerUseCase});"}},{"message":"public getter status decrease metric value","codeSpan":{"start":{"offset":569,"line":17,"column":3},"end":{"offset":602,"line":17,"column":36},"text":"AuthStatus get status => _status;"}},{"message":"public getter user decrease metric value","codeSpan":{"start":{"offset":627,"line":20,"column":3},"end":{"offset":657,"line":20,"column":33},"text":"UserEntity? get user => _user;"}},{"message":"public getter errorMessage decrease metric value","codeSpan":{"start":{"offset":686,"line":23,"column":3},"end":{"offset":728,"line":23,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"functional method login increase metric value","codeSpan":{"start":{"offset":732,"line":25,"column":3},"end":{"offset":1174,"line":43,"column":4},"text":"Future<void> login(String email, String password) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await loginUseCase(email, password);\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method register increase metric value","codeSpan":{"start":{"offset":1178,"line":45,"column":3},"end":{"offset":1783,"line":73,"column":4},"text":"Future<void> register({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await registerUseCase(\n      name: name,\n      email: email,\n      password: password,\n      type: type,\n    );\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method resetState increase metric value","codeSpan":{"start":{"offset":1787,"line":75,"column":3},"end":{"offset":1893,"line":79,"column":4},"text":"void resetState() {\n    _status = AuthStatus.initial;\n    _errorMessage = null;\n    notifyListeners();\n  }"}},{"message":"functional method checkAuthStatus increase metric value","codeSpan":{"start":{"offset":1897,"line":81,"column":3},"end":{"offset":2816,"line":111,"column":4},"text":"Future<bool> checkAuthStatus() async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    } catch (e) {\n      // Error checking auth\n    }\n\n    _status = AuthStatus.initial;\n    _user = null;\n    notifyListeners();\n    return false;\n  }"}}]}]}},"functions":{"AuthViewModel.AuthViewModel":{"codeSpan":{"start":{"offset":447,"line":14,"column":3},"end":{"offset":522,"line":14,"column":78},"text":"AuthViewModel({required this.loginUseCase, required this.registerUseCase});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"AuthViewModel.status":{"codeSpan":{"start":{"offset":569,"line":17,"column":3},"end":{"offset":602,"line":17,"column":36},"text":"AuthStatus get status => _status;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":567,"line":17,"column":0},"end":{"offset":567,"line":17,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"AuthViewModel.user":{"codeSpan":{"start":{"offset":627,"line":20,"column":3},"end":{"offset":657,"line":20,"column":33},"text":"UserEntity? get user => _user;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":625,"line":20,"column":0},"end":{"offset":625,"line":20,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"AuthViewModel.errorMessage":{"codeSpan":{"start":{"offset":686,"line":23,"column":3},"end":{"offset":728,"line":23,"column":45},"text":"String? get errorMessage => _errorMessage;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":684,"line":23,"column":0},"end":{"offset":684,"line":23,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"AuthViewModel.login":{"codeSpan":{"start":{"offset":732,"line":25,"column":3},"end":{"offset":1174,"line":43,"column":4},"text":"Future<void> login(String email, String password) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await loginUseCase(email, password);\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":204.3263250706733,"level":"none","comment":"This method has a halstead volume of 204.3263250706733.","context":[]},{"metricsId":"lines-of-code","value":19,"unitType":"lines","level":"none","comment":"This method has 19 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":788,"line":25,"column":59},"end":{"offset":1174,"line":43,"column":4},"text":"{\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await loginUseCase(email, password);\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":938,"line":32,"column":17},"end":{"offset":1051,"line":36,"column":8},"text":"{\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":790,"line":26,"column":0},"end":{"offset":790,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":824,"line":27,"column":0},"end":{"offset":824,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":848,"line":29,"column":0},"end":{"offset":848,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":905,"line":31,"column":0},"end":{"offset":905,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":922,"line":32,"column":0},"end":{"offset":922,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":940,"line":33,"column":0},"end":{"offset":940,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":976,"line":34,"column":0},"end":{"offset":976,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1017,"line":35,"column":0},"end":{"offset":1017,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1044,"line":36,"column":0},"end":{"offset":1044,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1053,"line":37,"column":0},"end":{"offset":1053,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1068,"line":38,"column":0},"end":{"offset":1068,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1106,"line":39,"column":0},"end":{"offset":1106,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1128,"line":40,"column":0},"end":{"offset":1128,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1155,"line":41,"column":0},"end":{"offset":1155,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1164,"line":42,"column":0},"end":{"offset":1164,"line":42,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":59,"level":"warning","comment":"This method has 59 maintainability index, below the minimum of 100 allowed.","context":[]}]},"AuthViewModel.register":{"codeSpan":{"start":{"offset":1178,"line":45,"column":3},"end":{"offset":1783,"line":73,"column":4},"text":"Future<void> register({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await registerUseCase(\n      name: name,\n      email: email,\n      password: password,\n      type: type,\n    );\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":237.70604521880495,"level":"none","comment":"This method has a halstead volume of 237.70604521880495.","context":[]},{"metricsId":"lines-of-code","value":29,"unitType":"lines","level":"none","comment":"This method has 29 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1322,"line":50,"column":12},"end":{"offset":1783,"line":73,"column":4},"text":"{\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    final result = await registerUseCase(\n      name: name,\n      email: email,\n      password: password,\n      type: type,\n    );\n\n    result.fold(\n      (failure) {\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      },\n      (user) {\n        _status = AuthStatus.success;\n        _user = user;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1547,"line":62,"column":17},"end":{"offset":1660,"line":66,"column":8},"text":"{\n        _status = AuthStatus.error;\n        _errorMessage = failure.message;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1324,"line":51,"column":0},"end":{"offset":1324,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1358,"line":52,"column":0},"end":{"offset":1358,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1382,"line":54,"column":0},"end":{"offset":1382,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1424,"line":55,"column":0},"end":{"offset":1424,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1442,"line":56,"column":0},"end":{"offset":1442,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1462,"line":57,"column":0},"end":{"offset":1462,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1488,"line":58,"column":0},"end":{"offset":1488,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1506,"line":59,"column":0},"end":{"offset":1506,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1514,"line":61,"column":0},"end":{"offset":1514,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1531,"line":62,"column":0},"end":{"offset":1531,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1549,"line":63,"column":0},"end":{"offset":1549,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1585,"line":64,"column":0},"end":{"offset":1585,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1626,"line":65,"column":0},"end":{"offset":1626,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1653,"line":66,"column":0},"end":{"offset":1653,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1662,"line":67,"column":0},"end":{"offset":1662,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1677,"line":68,"column":0},"end":{"offset":1677,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1715,"line":69,"column":0},"end":{"offset":1715,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1737,"line":70,"column":0},"end":{"offset":1737,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1764,"line":71,"column":0},"end":{"offset":1764,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1773,"line":72,"column":0},"end":{"offset":1773,"line":72,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]},"AuthViewModel.resetState":{"codeSpan":{"start":{"offset":1787,"line":75,"column":3},"end":{"offset":1893,"line":79,"column":4},"text":"void resetState() {\n    _status = AuthStatus.initial;\n    _errorMessage = null;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":18.094737505048094,"level":"none","comment":"This method has a halstead volume of 18.094737505048094.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1805,"line":75,"column":21},"end":{"offset":1893,"line":79,"column":4},"text":"{\n    _status = AuthStatus.initial;\n    _errorMessage = null;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1807,"line":76,"column":0},"end":{"offset":1807,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1841,"line":77,"column":0},"end":{"offset":1841,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1867,"line":78,"column":0},"end":{"offset":1867,"line":78,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":81,"level":"warning","comment":"This method has 81 maintainability index, below the minimum of 100 allowed.","context":[]}]},"AuthViewModel.checkAuthStatus":{"codeSpan":{"start":{"offset":1897,"line":81,"column":3},"end":{"offset":2816,"line":111,"column":4},"text":"Future<bool> checkAuthStatus() async {\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    } catch (e) {\n      // Error checking auth\n    }\n\n    _status = AuthStatus.initial;\n    _user = null;\n    notifyListeners();\n    return false;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":9,"level":"alarm","comment":"This method has a cyclomatic complexity of 9, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2075,"line":88,"column":7},"end":{"offset":2665,"line":102,"column":8},"text":"if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2092,"line":88,"column":24},"end":{"offset":2094,"line":88,"column":26},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2186,"line":90,"column":9},"end":{"offset":2657,"line":101,"column":10},"text":"if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2207,"line":90,"column":30},"end":{"offset":2209,"line":90,"column":32},"text":"&&"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2416,"line":94,"column":51},"end":{"offset":2418,"line":94,"column":53},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2467,"line":95,"column":45},"end":{"offset":2469,"line":95,"column":47},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2528,"line":96,"column":55},"end":{"offset":2530,"line":96,"column":57},"text":"??"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2672,"line":103,"column":7},"end":{"offset":2718,"line":105,"column":6},"text":"catch (e) {\n      // Error checking auth\n    }"}}]},{"metricsId":"halstead-volume","value":379.5669432539275,"level":"none","comment":"This method has a halstead volume of 379.5669432539275.","context":[]},{"metricsId":"lines-of-code","value":31,"unitType":"lines","level":"none","comment":"This method has 31 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1934,"line":81,"column":40},"end":{"offset":2816,"line":111,"column":4},"text":"{\n    _status = AuthStatus.loading;\n    notifyListeners();\n\n    try {\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    } catch (e) {\n      // Error checking auth\n    }\n\n    _status = AuthStatus.initial;\n    _user = null;\n    notifyListeners();\n    return false;\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":2002,"line":85,"column":9},"end":{"offset":2671,"line":103,"column":6},"text":"{\n      final user = await ParseUser.currentUser() as ParseUser?;\n\n      if (user != null && user.sessionToken != null) {\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2122,"line":88,"column":54},"end":{"offset":2665,"line":102,"column":8},"text":"{\n        final response = await user.getUpdatedUser();\n        if (response.success && response.result != null) {\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2235,"line":90,"column":58},"end":{"offset":2657,"line":101,"column":10},"text":"{\n          final updatedUser = response.result as ParseUser;\n          _user = UserEntity(\n            id: updatedUser.objectId!,\n            name: updatedUser.get<String>('name') ?? '',\n            email: updatedUser.emailAddress ?? '',\n            type: updatedUser.get<String>('userType') ?? 'paciente',\n          );\n          _status = AuthStatus.success;\n          notifyListeners();\n          return true;\n        }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":25,"unitType":"lines","level":"none","comment":"This method has 25 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1936,"line":82,"column":0},"end":{"offset":1936,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1970,"line":83,"column":0},"end":{"offset":1970,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1994,"line":85,"column":0},"end":{"offset":1994,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2004,"line":86,"column":0},"end":{"offset":2004,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2069,"line":88,"column":0},"end":{"offset":2069,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2124,"line":89,"column":0},"end":{"offset":2124,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2178,"line":90,"column":0},"end":{"offset":2178,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2237,"line":91,"column":0},"end":{"offset":2237,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2297,"line":92,"column":0},"end":{"offset":2297,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2327,"line":93,"column":0},"end":{"offset":2327,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2366,"line":94,"column":0},"end":{"offset":2366,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2423,"line":95,"column":0},"end":{"offset":2423,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2474,"line":96,"column":0},"end":{"offset":2474,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2543,"line":97,"column":0},"end":{"offset":2543,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2556,"line":98,"column":0},"end":{"offset":2556,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2596,"line":99,"column":0},"end":{"offset":2596,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2625,"line":100,"column":0},"end":{"offset":2625,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2648,"line":101,"column":0},"end":{"offset":2648,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2658,"line":102,"column":0},"end":{"offset":2658,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2666,"line":103,"column":0},"end":{"offset":2666,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2713,"line":105,"column":0},"end":{"offset":2713,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2720,"line":107,"column":0},"end":{"offset":2720,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2754,"line":108,"column":0},"end":{"offset":2754,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2772,"line":109,"column":0},"end":{"offset":2772,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2795,"line":110,"column":0},"end":{"offset":2795,"line":110,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":51,"level":"warning","comment":"This method has 51 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/ui/widgets/register_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"RegisterScreen":{"codeSpan":{"start":{"offset":128,"line":6,"column":1},"end":{"offset":290,"line":11,"column":2},"text":"class RegisterScreen extends StatefulWidget {\n  const RegisterScreen({super.key});\n\n  @override\n  State<RegisterScreen> createState() => _RegisterScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor RegisterScreen increase metric value","codeSpan":{"start":{"offset":176,"line":7,"column":3},"end":{"offset":210,"line":7,"column":37},"text":"const RegisterScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":226,"line":10,"column":3},"end":{"offset":288,"line":10,"column":65},"text":"State<RegisterScreen> createState() => _RegisterScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor RegisterScreen decrease metric value","codeSpan":{"start":{"offset":176,"line":7,"column":3},"end":{"offset":210,"line":7,"column":37},"text":"const RegisterScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":226,"line":10,"column":3},"end":{"offset":288,"line":10,"column":65},"text":"State<RegisterScreen> createState() => _RegisterScreenState();"}}]}]},"_RegisterScreenState":{"codeSpan":{"start":{"offset":292,"line":13,"column":1},"end":{"offset":6096,"line":186,"column":2},"text":"class _RegisterScreenState extends State<RegisterScreen> {\n  final _nameController = TextEditingController();\n  final _emailController = TextEditingController();\n  final _passwordController = TextEditingController();\n  String _selectedType = 'paciente';\n\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AuthViewModel>().resetState();\n    });\n  }\n\n  @override\n  void dispose() {\n    _nameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }\n\n  Future<void> _onRegister() async {\n    final name = _nameController.text;\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (name.isNotEmpty && email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":561,"line":20,"column":3},"end":{"offset":719,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AuthViewModel>().resetState();\n    });\n  }"}},{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":735,"line":28,"column":3},"end":{"offset":874,"line":33,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}},{"message":"method _onRegister increase metric value","codeSpan":{"start":{"offset":878,"line":35,"column":3},"end":{"offset":1848,"line":68,"column":4},"text":"Future<void> _onRegister() async {\n    final name = _nameController.text;\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (name.isNotEmpty && email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":1864,"line":71,"column":3},"end":{"offset":6094,"line":185,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":561,"line":20,"column":3},"end":{"offset":719,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AuthViewModel>().resetState();\n    });\n  }"}},{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":735,"line":28,"column":3},"end":{"offset":874,"line":33,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":1864,"line":71,"column":3},"end":{"offset":6094,"line":185,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"RegisterScreen.RegisterScreen":{"codeSpan":{"start":{"offset":176,"line":7,"column":3},"end":{"offset":210,"line":7,"column":37},"text":"const RegisterScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"RegisterScreen.createState":{"codeSpan":{"start":{"offset":226,"line":10,"column":3},"end":{"offset":288,"line":10,"column":65},"text":"State<RegisterScreen> createState() => _RegisterScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":224,"line":10,"column":0},"end":{"offset":224,"line":10,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_RegisterScreenState.initState":{"codeSpan":{"start":{"offset":561,"line":20,"column":3},"end":{"offset":719,"line":25,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AuthViewModel>().resetState();\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":58.81033751683406,"level":"none","comment":"This method has a halstead volume of 58.81033751683406.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":578,"line":20,"column":20},"end":{"offset":719,"line":25,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AuthViewModel>().resetState();\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":656,"line":22,"column":54},"end":{"offset":713,"line":24,"column":6},"text":"{\n      context.read<AuthViewModel>().resetState();\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":580,"line":21,"column":0},"end":{"offset":580,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":603,"line":22,"column":0},"end":{"offset":603,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":658,"line":23,"column":0},"end":{"offset":658,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":708,"line":24,"column":0},"end":{"offset":708,"line":24,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":75,"level":"warning","comment":"This method has 75 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_RegisterScreenState.dispose":{"codeSpan":{"start":{"offset":735,"line":28,"column":3},"end":{"offset":874,"line":33,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":14.0,"level":"none","comment":"This method has a halstead volume of 14.0.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":750,"line":28,"column":18},"end":{"offset":874,"line":33,"column":4},"text":"{\n    _nameController.dispose();\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":752,"line":29,"column":0},"end":{"offset":752,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":783,"line":30,"column":0},"end":{"offset":783,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":815,"line":31,"column":0},"end":{"offset":815,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":850,"line":32,"column":0},"end":{"offset":850,"line":32,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":79,"level":"warning","comment":"This method has 79 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_RegisterScreenState._onRegister":{"codeSpan":{"start":{"offset":878,"line":35,"column":3},"end":{"offset":1848,"line":68,"column":4},"text":"Future<void> _onRegister() async {\n    final name = _nameController.text;\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (name.isNotEmpty && email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1045,"line":40,"column":5},"end":{"offset":1844,"line":67,"column":6},"text":"if (name.isNotEmpty && email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1065,"line":40,"column":25},"end":{"offset":1067,"line":40,"column":27},"text":"&&"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1085,"line":40,"column":45},"end":{"offset":1087,"line":40,"column":47},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1321,"line":49,"column":7},"end":{"offset":1342,"line":49,"column":28},"text":"if (!mounted) return;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1350,"line":51,"column":7},"end":{"offset":1699,"line":62,"column":8},"text":"if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1397,"line":51,"column":54},"end":{"offset":1399,"line":51,"column":56},"text":"&&"}}]},{"metricsId":"halstead-volume","value":364.69275310149516,"level":"none","comment":"This method has a halstead volume of 364.69275310149516.","context":[]},{"metricsId":"lines-of-code","value":34,"unitType":"lines","level":"none","comment":"This method has 34 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":911,"line":35,"column":36},"end":{"offset":1848,"line":68,"column":4},"text":"{\n    final name = _nameController.text;\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (name.isNotEmpty && email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1109,"line":40,"column":69},"end":{"offset":1705,"line":63,"column":6},"text":"{\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.register(\n        name: name,\n        email: email,\n        password: password,\n        type: _selectedType,\n      );\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success &&\n          authViewModel.user != null) {\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1438,"line":52,"column":39},"end":{"offset":1699,"line":62,"column":8},"text":"{\n        Navigator.pushNamedAndRemoveUntil(\n          context,\n          '/home',\n          (route) => false,\n          arguments: {\n            'userType': authViewModel.user!.type,\n            'userId': authViewModel.user!.id,\n          },\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":29,"unitType":"lines","level":"none","comment":"This method has 29 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":913,"line":36,"column":0},"end":{"offset":913,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":952,"line":37,"column":0},"end":{"offset":952,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":993,"line":38,"column":0},"end":{"offset":993,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1041,"line":40,"column":0},"end":{"offset":1041,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1111,"line":41,"column":0},"end":{"offset":1111,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1170,"line":42,"column":0},"end":{"offset":1170,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1206,"line":43,"column":0},"end":{"offset":1206,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1226,"line":44,"column":0},"end":{"offset":1226,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1248,"line":45,"column":0},"end":{"offset":1248,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1276,"line":46,"column":0},"end":{"offset":1276,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1305,"line":47,"column":0},"end":{"offset":1305,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1315,"line":49,"column":0},"end":{"offset":1315,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1344,"line":51,"column":0},"end":{"offset":1344,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1400,"line":52,"column":0},"end":{"offset":1400,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1440,"line":53,"column":0},"end":{"offset":1440,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1483,"line":54,"column":0},"end":{"offset":1483,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1502,"line":55,"column":0},"end":{"offset":1502,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1521,"line":56,"column":0},"end":{"offset":1521,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1549,"line":57,"column":0},"end":{"offset":1549,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1572,"line":58,"column":0},"end":{"offset":1572,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1622,"line":59,"column":0},"end":{"offset":1622,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1668,"line":60,"column":0},"end":{"offset":1668,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1681,"line":61,"column":0},"end":{"offset":1681,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1692,"line":62,"column":0},"end":{"offset":1692,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1700,"line":63,"column":0},"end":{"offset":1700,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1713,"line":64,"column":0},"end":{"offset":1713,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1741,"line":65,"column":0},"end":{"offset":1741,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1758,"line":66,"column":0},"end":{"offset":1758,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1839,"line":67,"column":0},"end":{"offset":1839,"line":67,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_RegisterScreenState.build":{"codeSpan":{"start":{"offset":1864,"line":71,"column":3},"end":{"offset":6094,"line":185,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2056,"line":76,"column":11},"end":{"offset":2186,"line":78,"column":12},"text":"if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3835,"line":124,"column":48},"end":{"offset":3837,"line":124,"column":50},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":5581,"line":166,"column":21},"end":{"offset":5732,"line":170,"column":22},"text":"if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }"}}]},{"metricsId":"halstead-volume","value":2411.1370082574576,"level":"none","comment":"This method has a halstead volume of 2411.1370082574576.","context":[]},{"metricsId":"lines-of-code","value":116,"unitType":"lines","level":"none","comment":"This method has 116 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":5,"level":"alarm","comment":"This method has a nesting level of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1899,"line":71,"column":38},"end":{"offset":6094,"line":185,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2044,"line":75,"column":46},"end":{"offset":6073,"line":182,"column":10},"text":"{\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                Align(\n                  alignment: Alignment.centerLeft,\n                  child: IconButton(\n                    icon: Icon(\n                      Icons.arrow_back,\n                      color: Theme.of(context).primaryColor,\n                    ),\n                    onPressed: () => Navigator.pop(context),\n                    padding: EdgeInsets.zero,\n                    alignment: Alignment.centerLeft,\n                    iconSize: 28,\n                  ),\n                ),\n                const SizedBox(height: 24),\n                Text(\n                  'Criar Conta',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Preencha seus dados para come√ßar.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                ),\n                const SizedBox(height: 32),\n\n                if (authViewModel.status == AuthStatus.error) ...[\n                  Text(\n                    authViewModel.errorMessage ?? 'Erro',\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                if (authViewModel.status == AuthStatus.success) ...[\n                  const Text(\n                    'Conta criada com sucesso!',\n                    style: TextStyle(color: Colors.green),\n                  ),\n                  const SizedBox(height: 16),\n                ],\n                TextField(\n                  controller: _nameController,\n                  decoration: const InputDecoration(labelText: 'Nome Completo'),\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 16),\n                DropdownButtonFormField<String>(\n                  value: _selectedType,\n                  decoration: const InputDecoration(\n                    labelText: 'Tipo de Usu√°rio',\n                  ),\n                  items: const [\n                    DropdownMenuItem(\n                      value: 'paciente',\n                      child: Text('Paciente'),\n                    ),\n                    DropdownMenuItem(value: 'medico', child: Text('M√©dico')),\n                  ],\n                  onChanged: (value) {\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  },\n                ),\n                const SizedBox(height: 32),\n                ElevatedButton.icon(\n                  onPressed: _onRegister,\n                  icon: const Icon(Icons.person_add),\n                  label: const Text('Cadastrar'),\n                ),\n              ],\n            ),\n          );\n        }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5559,"line":165,"column":38},"end":{"offset":5752,"line":171,"column":20},"text":"{\n                    if (value != null) {\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }\n                  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":5600,"line":166,"column":40},"end":{"offset":5732,"line":170,"column":22},"text":"{\n                      setState(() {\n                        _selectedType = value;\n                      });\n                    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":5636,"line":167,"column":35},"end":{"offset":5708,"line":169,"column":24},"text":"{\n                        _selectedType = value;\n                      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":111,"unitType":"lines","level":"none","comment":"This method has 111 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1901,"line":72,"column":0},"end":{"offset":1901,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1922,"line":73,"column":0},"end":{"offset":1922,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1962,"line":74,"column":0},"end":{"offset":1962,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1999,"line":75,"column":0},"end":{"offset":1999,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2046,"line":76,"column":0},"end":{"offset":2046,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2106,"line":77,"column":0},"end":{"offset":2106,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2175,"line":78,"column":0},"end":{"offset":2175,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2188,"line":80,"column":0},"end":{"offset":2188,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2228,"line":81,"column":0},"end":{"offset":2228,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2277,"line":82,"column":0},"end":{"offset":2277,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2309,"line":83,"column":0},"end":{"offset":2309,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2339,"line":84,"column":0},"end":{"offset":2339,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2354,"line":85,"column":0},"end":{"offset":2354,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2381,"line":86,"column":0},"end":{"offset":2381,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2443,"line":87,"column":0},"end":{"offset":2443,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2469,"line":88,"column":0},"end":{"offset":2469,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2492,"line":89,"column":0},"end":{"offset":2492,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2543,"line":90,"column":0},"end":{"offset":2543,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2580,"line":91,"column":0},"end":{"offset":2580,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2612,"line":92,"column":0},"end":{"offset":2612,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2652,"line":93,"column":0},"end":{"offset":2652,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2713,"line":94,"column":0},"end":{"offset":2713,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2736,"line":95,"column":0},"end":{"offset":2736,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2797,"line":96,"column":0},"end":{"offset":2797,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2843,"line":97,"column":0},"end":{"offset":2843,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2896,"line":98,"column":0},"end":{"offset":2896,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2930,"line":99,"column":0},"end":{"offset":2930,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2951,"line":100,"column":0},"end":{"offset":2951,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2970,"line":101,"column":0},"end":{"offset":2970,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3014,"line":102,"column":0},"end":{"offset":3014,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3036,"line":103,"column":0},"end":{"offset":3036,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3069,"line":104,"column":0},"end":{"offset":3069,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3105,"line":105,"column":0},"end":{"offset":3105,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3139,"line":106,"column":0},"end":{"offset":3139,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3188,"line":107,"column":0},"end":{"offset":3188,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3247,"line":108,"column":0},"end":{"offset":3247,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3288,"line":109,"column":0},"end":{"offset":3288,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3309,"line":110,"column":0},"end":{"offset":3309,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3328,"line":111,"column":0},"end":{"offset":3328,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3371,"line":112,"column":0},"end":{"offset":3371,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3393,"line":113,"column":0},"end":{"offset":3393,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3448,"line":114,"column":0},"end":{"offset":3448,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3484,"line":115,"column":0},"end":{"offset":3484,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3518,"line":116,"column":0},"end":{"offset":3518,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3563,"line":117,"column":0},"end":{"offset":3563,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3612,"line":118,"column":0},"end":{"offset":3612,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3633,"line":119,"column":0},"end":{"offset":3633,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3652,"line":120,"column":0},"end":{"offset":3652,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3697,"line":122,"column":0},"end":{"offset":3697,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3764,"line":123,"column":0},"end":{"offset":3764,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3788,"line":124,"column":0},"end":{"offset":3788,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3846,"line":125,"column":0},"end":{"offset":3846,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3909,"line":126,"column":0},"end":{"offset":3909,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3930,"line":127,"column":0},"end":{"offset":3930,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3976,"line":128,"column":0},"end":{"offset":3976,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3995,"line":129,"column":0},"end":{"offset":3995,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4064,"line":130,"column":0},"end":{"offset":4064,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4094,"line":131,"column":0},"end":{"offset":4094,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4143,"line":132,"column":0},"end":{"offset":4143,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4202,"line":133,"column":0},"end":{"offset":4202,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4223,"line":134,"column":0},"end":{"offset":4223,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4269,"line":135,"column":0},"end":{"offset":4269,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4288,"line":136,"column":0},"end":{"offset":4288,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4315,"line":137,"column":0},"end":{"offset":4315,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4362,"line":138,"column":0},"end":{"offset":4362,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4443,"line":139,"column":0},"end":{"offset":4443,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4462,"line":140,"column":0},"end":{"offset":4462,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4506,"line":141,"column":0},"end":{"offset":4506,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4533,"line":142,"column":0},"end":{"offset":4533,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4581,"line":143,"column":0},"end":{"offset":4581,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4654,"line":144,"column":0},"end":{"offset":4654,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4714,"line":145,"column":0},"end":{"offset":4714,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4733,"line":146,"column":0},"end":{"offset":4733,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4777,"line":147,"column":0},"end":{"offset":4777,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4804,"line":148,"column":0},"end":{"offset":4804,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4855,"line":149,"column":0},"end":{"offset":4855,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4928,"line":150,"column":0},"end":{"offset":4928,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4965,"line":151,"column":0},"end":{"offset":4965,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4984,"line":152,"column":0},"end":{"offset":4984,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5028,"line":153,"column":0},"end":{"offset":5028,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5077,"line":154,"column":0},"end":{"offset":5077,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5117,"line":155,"column":0},"end":{"offset":5117,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5170,"line":156,"column":0},"end":{"offset":5170,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5220,"line":157,"column":0},"end":{"offset":5220,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5241,"line":158,"column":0},"end":{"offset":5241,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5274,"line":159,"column":0},"end":{"offset":5274,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5312,"line":160,"column":0},"end":{"offset":5312,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5353,"line":161,"column":0},"end":{"offset":5353,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5400,"line":162,"column":0},"end":{"offset":5400,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5423,"line":163,"column":0},"end":{"offset":5423,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5501,"line":164,"column":0},"end":{"offset":5501,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5522,"line":165,"column":0},"end":{"offset":5522,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5561,"line":166,"column":0},"end":{"offset":5561,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5602,"line":167,"column":0},"end":{"offset":5602,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5638,"line":168,"column":0},"end":{"offset":5638,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5685,"line":169,"column":0},"end":{"offset":5685,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5711,"line":170,"column":0},"end":{"offset":5711,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5733,"line":171,"column":0},"end":{"offset":5733,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5754,"line":172,"column":0},"end":{"offset":5754,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5773,"line":173,"column":0},"end":{"offset":5773,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5817,"line":174,"column":0},"end":{"offset":5817,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5854,"line":175,"column":0},"end":{"offset":5854,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5896,"line":176,"column":0},"end":{"offset":5896,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5950,"line":177,"column":0},"end":{"offset":5950,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6000,"line":178,"column":0},"end":{"offset":6000,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6019,"line":179,"column":0},"end":{"offset":6019,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6036,"line":180,"column":0},"end":{"offset":6036,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6051,"line":181,"column":0},"end":{"offset":6051,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6064,"line":182,"column":0},"end":{"offset":6064,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6075,"line":183,"column":0},"end":{"offset":6075,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6084,"line":184,"column":0},"end":{"offset":6084,"line":184,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":32,"level":"alarm","comment":"This method has 32 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/ui/widgets/login_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"LoginScreen":{"codeSpan":{"start":{"offset":205,"line":7,"column":1},"end":{"offset":355,"line":12,"column":2},"text":"class LoginScreen extends StatefulWidget {\n  const LoginScreen({super.key});\n\n  @override\n  State<LoginScreen> createState() => _LoginScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor LoginScreen increase metric value","codeSpan":{"start":{"offset":250,"line":8,"column":3},"end":{"offset":281,"line":8,"column":34},"text":"const LoginScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":297,"line":11,"column":3},"end":{"offset":353,"line":11,"column":59},"text":"State<LoginScreen> createState() => _LoginScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor LoginScreen decrease metric value","codeSpan":{"start":{"offset":250,"line":8,"column":3},"end":{"offset":281,"line":8,"column":34},"text":"const LoginScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":297,"line":11,"column":3},"end":{"offset":353,"line":11,"column":59},"text":"State<LoginScreen> createState() => _LoginScreenState();"}}]}]},"_LoginScreenState":{"codeSpan":{"start":{"offset":357,"line":14,"column":1},"end":{"offset":4494,"line":139,"column":2},"text":"class _LoginScreenState extends State<LoginScreen> {\n  final _emailController = TextEditingController();\n  final _passwordController = TextEditingController();\n\n  @override\n  void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }\n\n  Future<void> _onLogin() async {\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":532,"line":19,"column":3},"end":{"offset":640,"line":23,"column":4},"text":"void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}},{"message":"method _onLogin increase metric value","codeSpan":{"start":{"offset":644,"line":25,"column":3},"end":{"offset":1640,"line":57,"column":4},"text":"Future<void> _onLogin() async {\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":1656,"line":60,"column":3},"end":{"offset":4492,"line":138,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":532,"line":19,"column":3},"end":{"offset":640,"line":23,"column":4},"text":"void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":1656,"line":60,"column":3},"end":{"offset":4492,"line":138,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"LoginScreen.LoginScreen":{"codeSpan":{"start":{"offset":250,"line":8,"column":3},"end":{"offset":281,"line":8,"column":34},"text":"const LoginScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"LoginScreen.createState":{"codeSpan":{"start":{"offset":297,"line":11,"column":3},"end":{"offset":353,"line":11,"column":59},"text":"State<LoginScreen> createState() => _LoginScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":295,"line":11,"column":0},"end":{"offset":295,"line":11,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_LoginScreenState.dispose":{"codeSpan":{"start":{"offset":532,"line":19,"column":3},"end":{"offset":640,"line":23,"column":4},"text":"void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":7.924812503605781,"level":"none","comment":"This method has a halstead volume of 7.924812503605781.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":547,"line":19,"column":18},"end":{"offset":640,"line":23,"column":4},"text":"{\n    _emailController.dispose();\n    _passwordController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":549,"line":20,"column":0},"end":{"offset":549,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":581,"line":21,"column":0},"end":{"offset":581,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":616,"line":22,"column":0},"end":{"offset":616,"line":22,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":84,"level":"warning","comment":"This method has 84 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_LoginScreenState._onLogin":{"codeSpan":{"start":{"offset":644,"line":25,"column":3},"end":{"offset":1640,"line":57,"column":4},"text":"Future<void> _onLogin() async {\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":8,"level":"alarm","comment":"This method has a cyclomatic complexity of 8, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":769,"line":29,"column":5},"end":{"offset":1636,"line":56,"column":6},"text":"if (email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":790,"line":29,"column":26},"end":{"offset":792,"line":29,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":932,"line":33,"column":7},"end":{"offset":953,"line":33,"column":28},"text":"if (!mounted) return;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":961,"line":35,"column":7},"end":{"offset":1491,"line":51,"column":8},"text":"if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1060,"line":37,"column":9},"end":{"offset":1220,"line":43,"column":10},"text":"if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1234,"line":44,"column":14},"end":{"offset":1491,"line":51,"column":8},"text":"if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1407,"line":47,"column":54},"end":{"offset":1409,"line":47,"column":56},"text":"??"}}]},{"metricsId":"halstead-volume","value":367.213038547228,"level":"none","comment":"This method has a halstead volume of 367.213038547228.","context":[]},{"metricsId":"lines-of-code","value":33,"unitType":"lines","level":"none","comment":"This method has 33 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":674,"line":25,"column":33},"end":{"offset":1640,"line":57,"column":4},"text":"{\n    final email = _emailController.text;\n    final password = _passwordController.text;\n\n    if (email.isNotEmpty && password.isNotEmpty) {\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    } else {\n      ScaffoldMessenger.of(\n        context,\n      ).showSnackBar(const SnackBar(content: Text('Preencha todos os campos')));\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":814,"line":29,"column":50},"end":{"offset":1497,"line":52,"column":6},"text":"{\n      final authViewModel = context.read<AuthViewModel>();\n      await authViewModel.login(email, password);\n\n      if (!mounted) return;\n\n      if (authViewModel.status == AuthStatus.success) {\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      } else if (authViewModel.status == AuthStatus.error) {\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(\n            content: Text(authViewModel.errorMessage ?? 'Erro'),\n            backgroundColor: Colors.red,\n          ),\n        );\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1009,"line":35,"column":55},"end":{"offset":1228,"line":44,"column":8},"text":"{\n        final user = authViewModel.user;\n        if (user != null) {\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1078,"line":37,"column":27},"end":{"offset":1220,"line":43,"column":10},"text":"{\n          Navigator.pushReplacementNamed(\n            context,\n            '/home',\n            arguments: user.type,\n          );\n        }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":28,"unitType":"lines","level":"none","comment":"This method has 28 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":676,"line":26,"column":0},"end":{"offset":676,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":717,"line":27,"column":0},"end":{"offset":717,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":765,"line":29,"column":0},"end":{"offset":765,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":816,"line":30,"column":0},"end":{"offset":816,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":875,"line":31,"column":0},"end":{"offset":875,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":926,"line":33,"column":0},"end":{"offset":926,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":955,"line":35,"column":0},"end":{"offset":955,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1011,"line":36,"column":0},"end":{"offset":1011,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1052,"line":37,"column":0},"end":{"offset":1052,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1080,"line":38,"column":0},"end":{"offset":1080,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1122,"line":39,"column":0},"end":{"offset":1122,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1143,"line":40,"column":0},"end":{"offset":1143,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1164,"line":41,"column":0},"end":{"offset":1164,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1198,"line":42,"column":0},"end":{"offset":1198,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1211,"line":43,"column":0},"end":{"offset":1211,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1221,"line":44,"column":0},"end":{"offset":1221,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1282,"line":45,"column":0},"end":{"offset":1282,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1334,"line":46,"column":0},"end":{"offset":1334,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1354,"line":47,"column":0},"end":{"offset":1354,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1419,"line":48,"column":0},"end":{"offset":1419,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1460,"line":49,"column":0},"end":{"offset":1460,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1473,"line":50,"column":0},"end":{"offset":1473,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1484,"line":51,"column":0},"end":{"offset":1484,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1492,"line":52,"column":0},"end":{"offset":1492,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1505,"line":53,"column":0},"end":{"offset":1505,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1533,"line":54,"column":0},"end":{"offset":1533,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1550,"line":55,"column":0},"end":{"offset":1550,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1631,"line":56,"column":0},"end":{"offset":1631,"line":56,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":50,"level":"warning","comment":"This method has 50 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_LoginScreenState.build":{"codeSpan":{"start":{"offset":1656,"line":60,"column":3},"end":{"offset":4492,"line":138,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1848,"line":65,"column":11},"end":{"offset":1978,"line":67,"column":12},"text":"if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }"}}]},{"metricsId":"halstead-volume","value":1485.65310229853,"level":"none","comment":"This method has a halstead volume of 1485.65310229853.","context":[]},{"metricsId":"lines-of-code","value":80,"unitType":"lines","level":"none","comment":"This method has 80 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1691,"line":60,"column":38},"end":{"offset":4492,"line":138,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<AuthViewModel>(\n        builder: (context, authViewModel, _) {\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1836,"line":64,"column":46},"end":{"offset":4471,"line":135,"column":10},"text":"{\n          if (authViewModel.status == AuthStatus.loading) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 48.0,\n            ),\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              crossAxisAlignment: CrossAxisAlignment.stretch,\n              children: [\n                const SizedBox(height: 40),\n                Text(\n                  'Bem-vindo',\n                  style: TextStyle(\n                    fontSize: 32,\n                    fontWeight: FontWeight.w800,\n                    color: Theme.of(context).primaryColor,\n                    letterSpacing: -1.0,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 8),\n                Text(\n                  'Entre para acessar seus planos.',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey[600],\n                    fontWeight: FontWeight.w500,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n                const SizedBox(height: 32),\n                SvgPicture.asset(\n                  'assets/svg/online_doctor_cuate.svg',\n                  height: 180,\n                ),\n                const SizedBox(height: 32),\n                TextField(\n                  controller: _emailController,\n                  decoration: const InputDecoration(labelText: 'Email'),\n                  keyboardType: TextInputType.emailAddress,\n                ),\n                const SizedBox(height: 16),\n                TextField(\n                  controller: _passwordController,\n                  decoration: const InputDecoration(labelText: 'Senha'),\n                  obscureText: true,\n                ),\n                const SizedBox(height: 24),\n                ElevatedButton.icon(\n                  onPressed: _onLogin,\n                  icon: const Icon(Icons.login),\n                  label: const Text('Entrar'),\n                ),\n                const SizedBox(height: 24),\n                TextButton(\n                  onPressed: () {\n                    Navigator.push(\n                      context,\n                      MaterialPageRoute(builder: (_) => const RegisterScreen()),\n                    );\n                  },\n                  child: const Text('N√£o tem conta? Cadastre-se'),\n                ),\n              ],\n            ),\n          );\n        }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1896,"line":65,"column":59},"end":{"offset":1978,"line":67,"column":12},"text":"{\n            return const Center(child: CircularProgressIndicator());\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":76,"unitType":"lines","level":"none","comment":"This method has 76 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1693,"line":61,"column":0},"end":{"offset":1693,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1714,"line":62,"column":0},"end":{"offset":1714,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1754,"line":63,"column":0},"end":{"offset":1754,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1791,"line":64,"column":0},"end":{"offset":1791,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1838,"line":65,"column":0},"end":{"offset":1838,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1898,"line":66,"column":0},"end":{"offset":1898,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1967,"line":67,"column":0},"end":{"offset":1967,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1980,"line":69,"column":0},"end":{"offset":1980,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2020,"line":70,"column":0},"end":{"offset":2020,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2069,"line":71,"column":0},"end":{"offset":2069,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2101,"line":72,"column":0},"end":{"offset":2101,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2131,"line":73,"column":0},"end":{"offset":2131,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2146,"line":74,"column":0},"end":{"offset":2146,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2173,"line":75,"column":0},"end":{"offset":2173,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2232,"line":76,"column":0},"end":{"offset":2232,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2294,"line":77,"column":0},"end":{"offset":2294,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2320,"line":78,"column":0},"end":{"offset":2320,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2364,"line":79,"column":0},"end":{"offset":2364,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2386,"line":80,"column":0},"end":{"offset":2386,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2417,"line":81,"column":0},"end":{"offset":2417,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2453,"line":82,"column":0},"end":{"offset":2453,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2487,"line":83,"column":0},"end":{"offset":2487,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2536,"line":84,"column":0},"end":{"offset":2536,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2595,"line":85,"column":0},"end":{"offset":2595,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2636,"line":86,"column":0},"end":{"offset":2636,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2657,"line":87,"column":0},"end":{"offset":2657,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2704,"line":88,"column":0},"end":{"offset":2704,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2723,"line":89,"column":0},"end":{"offset":2723,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2766,"line":90,"column":0},"end":{"offset":2766,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2788,"line":91,"column":0},"end":{"offset":2788,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2841,"line":92,"column":0},"end":{"offset":2841,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2877,"line":93,"column":0},"end":{"offset":2877,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2911,"line":94,"column":0},"end":{"offset":2911,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2956,"line":95,"column":0},"end":{"offset":2956,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3005,"line":96,"column":0},"end":{"offset":3005,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3026,"line":97,"column":0},"end":{"offset":3026,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3073,"line":98,"column":0},"end":{"offset":3073,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3092,"line":99,"column":0},"end":{"offset":3092,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3136,"line":100,"column":0},"end":{"offset":3136,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3170,"line":101,"column":0},"end":{"offset":3170,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3226,"line":102,"column":0},"end":{"offset":3226,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3257,"line":103,"column":0},"end":{"offset":3257,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3276,"line":104,"column":0},"end":{"offset":3276,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3320,"line":105,"column":0},"end":{"offset":3320,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3347,"line":106,"column":0},"end":{"offset":3347,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3395,"line":107,"column":0},"end":{"offset":3395,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3468,"line":108,"column":0},"end":{"offset":3468,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3528,"line":109,"column":0},"end":{"offset":3528,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3547,"line":110,"column":0},"end":{"offset":3547,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3591,"line":111,"column":0},"end":{"offset":3591,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3618,"line":112,"column":0},"end":{"offset":3618,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3669,"line":113,"column":0},"end":{"offset":3669,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3742,"line":114,"column":0},"end":{"offset":3742,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3779,"line":115,"column":0},"end":{"offset":3779,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3798,"line":116,"column":0},"end":{"offset":3798,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3842,"line":117,"column":0},"end":{"offset":3842,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3879,"line":118,"column":0},"end":{"offset":3879,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3918,"line":119,"column":0},"end":{"offset":3918,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3967,"line":120,"column":0},"end":{"offset":3967,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4014,"line":121,"column":0},"end":{"offset":4014,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4033,"line":122,"column":0},"end":{"offset":4033,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4077,"line":123,"column":0},"end":{"offset":4077,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4105,"line":124,"column":0},"end":{"offset":4105,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4139,"line":125,"column":0},"end":{"offset":4139,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4175,"line":126,"column":0},"end":{"offset":4175,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4206,"line":127,"column":0},"end":{"offset":4206,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4287,"line":128,"column":0},"end":{"offset":4287,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4310,"line":129,"column":0},"end":{"offset":4310,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4331,"line":130,"column":0},"end":{"offset":4331,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4398,"line":131,"column":0},"end":{"offset":4398,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4417,"line":132,"column":0},"end":{"offset":4417,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4434,"line":133,"column":0},"end":{"offset":4434,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4449,"line":134,"column":0},"end":{"offset":4449,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4462,"line":135,"column":0},"end":{"offset":4462,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4473,"line":136,"column":0},"end":{"offset":4473,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4482,"line":137,"column":0},"end":{"offset":4482,"line":137,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":37,"level":"alarm","comment":"This method has 37 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/infra/datasources/auth_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AuthRemoteDataSource":{"codeSpan":{"start":{"offset":158,"line":6,"column":1},"end":{"offset":363,"line":14,"column":2},"text":"abstract class AuthRemoteDataSource {\n  Future<UserModel> login(String email, String password);\n  Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method login increase metric value","codeSpan":{"start":{"offset":198,"line":7,"column":3},"end":{"offset":253,"line":7,"column":58},"text":"Future<UserModel> login(String email, String password);"}},{"message":"method register increase metric value","codeSpan":{"start":{"offset":256,"line":8,"column":3},"end":{"offset":361,"line":13,"column":5},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method login increase metric value","codeSpan":{"start":{"offset":198,"line":7,"column":3},"end":{"offset":253,"line":7,"column":58},"text":"Future<UserModel> login(String email, String password);"}},{"message":"functional method register increase metric value","codeSpan":{"start":{"offset":256,"line":8,"column":3},"end":{"offset":361,"line":13,"column":5},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"}}]}]},"ParseAuthDataSourceImpl":{"codeSpan":{"start":{"offset":365,"line":16,"column":1},"end":{"offset":1816,"line":67,"column":2},"text":"class ParseAuthDataSourceImpl implements AuthRemoteDataSource {\n  @override\n  Future<UserModel> login(String email, String password) async {\n    final user = ParseUser(email, password, null);\n\n    // O ParseSDK faz a m√°gica de rede aqui\n    var response = await user.login();\n\n    if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }\n  }\n\n  @override\n  Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    final user = ParseUser.createUser(email, password, email);\n\n    user.set<String>('fullName', name);\n    user.set<String>('userType', type);\n\n    var response = await user.signUp();\n\n    if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method login increase metric value","codeSpan":{"start":{"offset":443,"line":18,"column":3},"end":{"offset":896,"line":32,"column":4},"text":"Future<UserModel> login(String email, String password) async {\n    final user = ParseUser(email, password, null);\n\n    // O ParseSDK faz a m√°gica de rede aqui\n    var response = await user.login();\n\n    if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }\n  }"}},{"message":"method register increase metric value","codeSpan":{"start":{"offset":912,"line":35,"column":3},"end":{"offset":1814,"line":66,"column":4},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    final user = ParseUser.createUser(email, password, email);\n\n    user.set<String>('fullName', name);\n    user.set<String>('userType', type);\n\n    var response = await user.signUp();\n\n    if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method login increase metric value","codeSpan":{"start":{"offset":443,"line":18,"column":3},"end":{"offset":896,"line":32,"column":4},"text":"Future<UserModel> login(String email, String password) async {\n    final user = ParseUser(email, password, null);\n\n    // O ParseSDK faz a m√°gica de rede aqui\n    var response = await user.login();\n\n    if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }\n  }"}},{"message":"functional method register increase metric value","codeSpan":{"start":{"offset":912,"line":35,"column":3},"end":{"offset":1814,"line":66,"column":4},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    final user = ParseUser.createUser(email, password, email);\n\n    user.set<String>('fullName', name);\n    user.set<String>('userType', type);\n\n    var response = await user.signUp();\n\n    if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }\n  }"}}]}]}},"functions":{"AuthRemoteDataSource.login":{"codeSpan":{"start":{"offset":198,"line":7,"column":3},"end":{"offset":253,"line":7,"column":58},"text":"Future<UserModel> login(String email, String password);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"AuthRemoteDataSource.register":{"codeSpan":{"start":{"offset":256,"line":8,"column":3},"end":{"offset":361,"line":13,"column":5},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ParseAuthDataSourceImpl.login":{"codeSpan":{"start":{"offset":443,"line":18,"column":3},"end":{"offset":896,"line":32,"column":4},"text":"Future<UserModel> login(String email, String password) async {\n    final user = ParseUser(email, password, null);\n\n    // O ParseSDK faz a m√°gica de rede aqui\n    var response = await user.login();\n\n    if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":646,"line":24,"column":5},"end":{"offset":892,"line":31,"column":6},"text":"if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":844,"line":29,"column":32},"end":{"offset":846,"line":29,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":854,"line":29,"column":42},"end":{"offset":856,"line":29,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":104.2481250360578,"level":"none","comment":"This method has a halstead volume of 104.2481250360578.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":504,"line":18,"column":64},"end":{"offset":896,"line":32,"column":4},"text":"{\n    final user = ParseUser(email, password, null);\n\n    // O ParseSDK faz a m√°gica de rede aqui\n    var response = await user.login();\n\n    if (response.success) {\n      return UserModel.fromParse(response.result as ParseUser);\n    } else {\n      // Tratamento de erro do Parse\n      throw ServerException(\n        message: response.error?.message ?? 'Erro desconhecido',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":668,"line":24,"column":27},"end":{"offset":739,"line":26,"column":6},"text":"{\n      return UserModel.fromParse(response.result as ParseUser);\n    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":506,"line":19,"column":0},"end":{"offset":506,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":602,"line":22,"column":0},"end":{"offset":602,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":642,"line":24,"column":0},"end":{"offset":642,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":670,"line":25,"column":0},"end":{"offset":670,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":734,"line":26,"column":0},"end":{"offset":734,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":784,"line":28,"column":0},"end":{"offset":784,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":813,"line":29,"column":0},"end":{"offset":813,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":878,"line":30,"column":0},"end":{"offset":878,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":887,"line":31,"column":0},"end":{"offset":887,"line":31,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":65,"level":"warning","comment":"This method has 65 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseAuthDataSourceImpl.register":{"codeSpan":{"start":{"offset":912,"line":35,"column":3},"end":{"offset":1814,"line":66,"column":4},"text":"Future<UserModel> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    final user = ParseUser.createUser(email, password, email);\n\n    user.set<String>('fullName', name);\n    user.set<String>('userType', type);\n\n    var response = await user.signUp();\n\n    if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1215,"line":48,"column":5},"end":{"offset":1810,"line":65,"column":6},"text":"if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1762,"line":63,"column":32},"end":{"offset":1764,"line":63,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1772,"line":63,"column":42},"end":{"offset":1774,"line":63,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":300.16030763377006,"level":"none","comment":"This method has a halstead volume of 300.16030763377006.","context":[]},{"metricsId":"lines-of-code","value":33,"unitType":"lines","level":"none","comment":"This method has 33 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1023,"line":40,"column":11},"end":{"offset":1814,"line":66,"column":4},"text":"{\n    final user = ParseUser.createUser(email, password, email);\n\n    user.set<String>('fullName', name);\n    user.set<String>('userType', type);\n\n    var response = await user.signUp();\n\n    if (response.success) {\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro ao cadastrar',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1237,"line":48,"column":27},"end":{"offset":1694,"line":61,"column":6},"text":"{\n      // Define permiss√µes de seguran√ßa AP√ìS o login/cria√ß√£o\n      final currentUser = response.result as ParseUser;\n      final acl = ParseACL(owner: currentUser);\n      acl.setPublicReadAccess(\n        allowed: true,\n      ); // Todo mundo pode ler (Nome, Email)\n      acl.setPublicWriteAccess(allowed: false); // S√≥ o dono pode editar\n      currentUser.setACL(acl);\n\n      await currentUser.save();\n\n      return UserModel.fromParse(currentUser);\n    }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":19,"unitType":"lines","level":"none","comment":"This method has 19 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1025,"line":41,"column":0},"end":{"offset":1025,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1089,"line":43,"column":0},"end":{"offset":1089,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1129,"line":44,"column":0},"end":{"offset":1129,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1170,"line":46,"column":0},"end":{"offset":1170,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1211,"line":48,"column":0},"end":{"offset":1211,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1300,"line":50,"column":0},"end":{"offset":1300,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1356,"line":51,"column":0},"end":{"offset":1356,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1404,"line":52,"column":0},"end":{"offset":1404,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1435,"line":53,"column":0},"end":{"offset":1435,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1458,"line":54,"column":0},"end":{"offset":1458,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1504,"line":55,"column":0},"end":{"offset":1504,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1577,"line":56,"column":0},"end":{"offset":1577,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1609,"line":58,"column":0},"end":{"offset":1609,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1642,"line":60,"column":0},"end":{"offset":1642,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1689,"line":61,"column":0},"end":{"offset":1689,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1702,"line":62,"column":0},"end":{"offset":1702,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1731,"line":63,"column":0},"end":{"offset":1731,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1796,"line":64,"column":0},"end":{"offset":1796,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1805,"line":65,"column":0},"end":{"offset":1805,"line":65,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":55,"level":"warning","comment":"This method has 55 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/infra/datasources/user_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UserRemoteDataSource":{"codeSpan":{"start":{"offset":170,"line":5,"column":1},"end":{"offset":265,"line":7,"column":2},"text":"abstract class UserRemoteDataSource {\n  Future<List<UserEntity>> searchPatients(String term);\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"method searchPatients increase metric value","codeSpan":{"start":{"offset":210,"line":6,"column":3},"end":{"offset":263,"line":6,"column":56},"text":"Future<List<UserEntity>> searchPatients(String term);"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method searchPatients increase metric value","codeSpan":{"start":{"offset":210,"line":6,"column":3},"end":{"offset":263,"line":6,"column":56},"text":"Future<List<UserEntity>> searchPatients(String term);"}}]}]},"UserRemoteDataSourceImpl":{"codeSpan":{"start":{"offset":267,"line":9,"column":1},"end":{"offset":2612,"line":74,"column":2},"text":"class UserRemoteDataSourceImpl implements UserRemoteDataSource {\n  @override\n  Future<List<UserEntity>> searchPatients(String term) async {\n    // 1. Query 'Burra' (Busca Ampla)\n    // N√£o usamos whereContains para evitar problemas de case-sensitive da API.\n    // Trazemos uma lista maior e filtramos no cliente.\n    final query = QueryBuilder<ParseUser>(ParseUser.forQuery());\n\n    // Filter by type 'paciente'\n    query.whereEqualTo('userType', 'paciente');\n\n    // Query configuration\n    query.setLimit(50);\n    query.orderByAscending('username');\n\n    // 2. Filtragem Inteligente (Dart)\n    final response = await query.query();\n\n    // Debug: Verificar se usu√°rios est√£o chegando\n    print('Total usu√°rios baixados: ${response.results?.length}');\n\n    if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"method searchPatients increase metric value","codeSpan":{"start":{"offset":346,"line":11,"column":3},"end":{"offset":2610,"line":73,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    // 1. Query 'Burra' (Busca Ampla)\n    // N√£o usamos whereContains para evitar problemas de case-sensitive da API.\n    // Trazemos uma lista maior e filtramos no cliente.\n    final query = QueryBuilder<ParseUser>(ParseUser.forQuery());\n\n    // Filter by type 'paciente'\n    query.whereEqualTo('userType', 'paciente');\n\n    // Query configuration\n    query.setLimit(50);\n    query.orderByAscending('username');\n\n    // 2. Filtragem Inteligente (Dart)\n    final response = await query.query();\n\n    // Debug: Verificar se usu√°rios est√£o chegando\n    print('Total usu√°rios baixados: ${response.results?.length}');\n\n    if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method searchPatients increase metric value","codeSpan":{"start":{"offset":346,"line":11,"column":3},"end":{"offset":2610,"line":73,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    // 1. Query 'Burra' (Busca Ampla)\n    // N√£o usamos whereContains para evitar problemas de case-sensitive da API.\n    // Trazemos uma lista maior e filtramos no cliente.\n    final query = QueryBuilder<ParseUser>(ParseUser.forQuery());\n\n    // Filter by type 'paciente'\n    query.whereEqualTo('userType', 'paciente');\n\n    // Query configuration\n    query.setLimit(50);\n    query.orderByAscending('username');\n\n    // 2. Filtragem Inteligente (Dart)\n    final response = await query.query();\n\n    // Debug: Verificar se usu√°rios est√£o chegando\n    print('Total usu√°rios baixados: ${response.results?.length}');\n\n    if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }\n  }"}}]}]}},"functions":{"UserRemoteDataSource.searchPatients":{"codeSpan":{"start":{"offset":210,"line":6,"column":3},"end":{"offset":263,"line":6,"column":56},"text":"Future<List<UserEntity>> searchPatients(String term);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"UserRemoteDataSourceImpl.searchPatients":{"codeSpan":{"start":{"offset":346,"line":11,"column":3},"end":{"offset":2610,"line":73,"column":4},"text":"Future<List<UserEntity>> searchPatients(String term) async {\n    // 1. Query 'Burra' (Busca Ampla)\n    // N√£o usamos whereContains para evitar problemas de case-sensitive da API.\n    // Trazemos uma lista maior e filtramos no cliente.\n    final query = QueryBuilder<ParseUser>(ParseUser.forQuery());\n\n    // Filter by type 'paciente'\n    query.whereEqualTo('userType', 'paciente');\n\n    // Query configuration\n    query.setLimit(50);\n    query.orderByAscending('username');\n\n    // 2. Filtragem Inteligente (Dart)\n    final response = await query.query();\n\n    // Debug: Verificar se usu√°rios est√£o chegando\n    print('Total usu√°rios baixados: ${response.results?.length}');\n\n    if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":20,"level":"alarm","comment":"This method has a cyclomatic complexity of 20, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1008,"line":28,"column":55},"end":{"offset":1010,"line":28,"column":57},"text":"?."}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1026,"line":30,"column":5},"end":{"offset":2606,"line":72,"column":6},"text":"if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1047,"line":30,"column":26},"end":{"offset":1049,"line":30,"column":28},"text":"&&"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1304,"line":37,"column":51},"end":{"offset":1306,"line":37,"column":53},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1382,"line":38,"column":57},"end":{"offset":1384,"line":38,"column":59},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1460,"line":39,"column":57},"end":{"offset":1462,"line":39,"column":59},"text":"??"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":1612,"line":42,"column":46},"end":{"offset":1614,"line":42,"column":48},"text":"||"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":1660,"line":43,"column":46},"end":{"offset":1662,"line":43,"column":48},"text":"||"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":1914,"line":51,"column":34},"end":{"offset":2052,"line":53,"column":79},"text":"(email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '')"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1929,"line":51,"column":49},"end":{"offset":1931,"line":51,"column":51},"text":"&&"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":1993,"line":53,"column":20},"end":{"offset":2051,"line":53,"column":78},"text":"username != null && username.contains('@') ? username : ''"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2010,"line":53,"column":37},"end":{"offset":2012,"line":53,"column":39},"text":"&&"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2129,"line":56,"column":43},"end":{"offset":2131,"line":56,"column":45},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2141,"line":56,"column":55},"end":{"offset":2143,"line":56,"column":57},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2333,"line":62,"column":47},"end":{"offset":2335,"line":62,"column":49},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2408,"line":66,"column":12},"end":{"offset":2606,"line":72,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2429,"line":66,"column":33},"end":{"offset":2431,"line":66,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":2550,"line":70,"column":32},"end":{"offset":2552,"line":70,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2560,"line":70,"column":42},"end":{"offset":2562,"line":70,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":1418.106335492874,"level":"none","comment":"This method has a halstead volume of 1418.106335492874.","context":[]},{"metricsId":"lines-of-code","value":64,"unitType":"lines","level":"none","comment":"This method has 64 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":405,"line":11,"column":62},"end":{"offset":2610,"line":73,"column":4},"text":"{\n    // 1. Query 'Burra' (Busca Ampla)\n    // N√£o usamos whereContains para evitar problemas de case-sensitive da API.\n    // Trazemos uma lista maior e filtramos no cliente.\n    final query = QueryBuilder<ParseUser>(ParseUser.forQuery());\n\n    // Filter by type 'paciente'\n    query.whereEqualTo('userType', 'paciente');\n\n    // Query configuration\n    query.setLimit(50);\n    query.orderByAscending('username');\n\n    // 2. Filtragem Inteligente (Dart)\n    final response = await query.query();\n\n    // Debug: Verificar se usu√°rios est√£o chegando\n    print('Total usu√°rios baixados: ${response.results?.length}');\n\n    if (response.success && response.results != null) {\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Erro na busca de usu√°rios',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1076,"line":30,"column":55},"end":{"offset":2402,"line":66,"column":6},"text":"{\n      final termLower = term.toLowerCase();\n      final results = response.results as List<ParseObject>;\n\n      // Filter in memory\n      return results\n          .where((e) {\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          })\n          .map((e) {\n            final username = e.get<String>('username');\n            final email = e.get<String>('email');\n\n            // Fallback checks\n            final displayEmail = (email != null && email.isNotEmpty)\n                ? email\n                : (username != null && username.contains('@') ? username : '');\n\n            final displayName =\n                e.get<String>('fullName') ?? username ?? 'Sem Nome';\n\n            return UserEntity(\n              id: e.objectId!,\n              name: displayName,\n              email: displayEmail,\n              type: e.get<String>('userType') ?? 'paciente',\n            );\n          })\n          .toList();\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1252,"line":36,"column":22},"end":{"offset":1720,"line":45,"column":12},"text":"{\n            final email = (e.get<String>('email') ?? '').toLowerCase();\n            final username = (e.get<String>('username') ?? '').toLowerCase();\n            final fullName = (e.get<String>('fullName') ?? '').toLowerCase();\n\n            // Busca flex√≠vel: encontra se digitar parte do nome, email ou username\n            return email.contains(termLower) ||\n                fullName.contains(termLower) ||\n                username.contains(termLower);\n          }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":41,"unitType":"lines","level":"none","comment":"This method has 41 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":581,"line":15,"column":0},"end":{"offset":581,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":680,"line":18,"column":0},"end":{"offset":680,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":756,"line":21,"column":0},"end":{"offset":756,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":780,"line":22,"column":0},"end":{"offset":780,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":860,"line":25,"column":0},"end":{"offset":860,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":954,"line":28,"column":0},"end":{"offset":954,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1022,"line":30,"column":0},"end":{"offset":1022,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1078,"line":31,"column":0},"end":{"offset":1078,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1122,"line":32,"column":0},"end":{"offset":1122,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1210,"line":35,"column":0},"end":{"offset":1210,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1231,"line":36,"column":0},"end":{"offset":1231,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1254,"line":37,"column":0},"end":{"offset":1254,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1326,"line":38,"column":0},"end":{"offset":1326,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1404,"line":39,"column":0},"end":{"offset":1404,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1567,"line":42,"column":0},"end":{"offset":1567,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1615,"line":43,"column":0},"end":{"offset":1615,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1663,"line":44,"column":0},"end":{"offset":1663,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1709,"line":45,"column":0},"end":{"offset":1709,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1722,"line":46,"column":0},"end":{"offset":1722,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1743,"line":47,"column":0},"end":{"offset":1743,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1799,"line":48,"column":0},"end":{"offset":1799,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1881,"line":51,"column":0},"end":{"offset":1881,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1950,"line":52,"column":0},"end":{"offset":1950,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1974,"line":53,"column":0},"end":{"offset":1974,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2055,"line":55,"column":0},"end":{"offset":2055,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2087,"line":56,"column":0},"end":{"offset":2087,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2157,"line":58,"column":0},"end":{"offset":2157,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2188,"line":59,"column":0},"end":{"offset":2188,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2219,"line":60,"column":0},"end":{"offset":2219,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2252,"line":61,"column":0},"end":{"offset":2252,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2287,"line":62,"column":0},"end":{"offset":2287,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2348,"line":63,"column":0},"end":{"offset":2348,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2363,"line":64,"column":0},"end":{"offset":2363,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2376,"line":65,"column":0},"end":{"offset":2376,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2397,"line":66,"column":0},"end":{"offset":2397,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2460,"line":67,"column":0},"end":{"offset":2460,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2477,"line":68,"column":0},"end":{"offset":2477,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2490,"line":69,"column":0},"end":{"offset":2490,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2519,"line":70,"column":0},"end":{"offset":2519,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2592,"line":71,"column":0},"end":{"offset":2592,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2601,"line":72,"column":0},"end":{"offset":2601,"line":72,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":41,"level":"alarm","comment":"This method has 41 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/infra/repositories/auth_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AuthRepositoryImpl":{"codeSpan":{"start":{"offset":289,"line":8,"column":1},"end":{"offset":1248,"line":44,"column":2},"text":"class AuthRepositoryImpl implements AuthRepository {\n  final AuthRemoteDataSource remoteDataSource;\n\n  AuthRepositoryImpl(this.remoteDataSource);\n\n  @override\n  Future<Either<Failure, UserEntity>> login(\n    String email,\n    String password,\n  ) async {\n    try {\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    try {\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"constructor AuthRepositoryImpl increase metric value","codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"AuthRepositoryImpl(this.remoteDataSource);"}},{"message":"method login increase metric value","codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":814,"line":26,"column":4},"text":"Future<Either<Failure, UserEntity>> login(\n    String email,\n    String password,\n  ) async {\n    try {\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"method register increase metric value","codeSpan":{"start":{"offset":830,"line":29,"column":3},"end":{"offset":1246,"line":43,"column":4},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    try {\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.6666666666666666,"level":"none","comment":"This class has a weight of 0.6666666666666666.","context":[{"message":"public constructor AuthRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"AuthRepositoryImpl(this.remoteDataSource);"}},{"message":"functional method login increase metric value","codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":814,"line":26,"column":4},"text":"Future<Either<Failure, UserEntity>> login(\n    String email,\n    String password,\n  ) async {\n    try {\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"functional method register increase metric value","codeSpan":{"start":{"offset":830,"line":29,"column":3},"end":{"offset":1246,"line":43,"column":4},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    try {\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]}]}},"functions":{"AuthRepositoryImpl.AuthRepositoryImpl":{"codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"AuthRepositoryImpl(this.remoteDataSource);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"AuthRepositoryImpl.login":{"codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":814,"line":26,"column":4},"text":"Future<Either<Failure, UserEntity>> login(\n    String email,\n    String password,\n  ) async {\n    try {\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":652,"line":21,"column":7},"end":{"offset":733,"line":23,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":734,"line":23,"column":7},"end":{"offset":810,"line":25,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":76.14709844115208,"level":"none","comment":"This method has a halstead volume of 76.14709844115208.","context":[]},{"metricsId":"lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":542,"line":17,"column":11},"end":{"offset":814,"line":26,"column":4},"text":"{\n    try {\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":552,"line":18,"column":9},"end":{"offset":651,"line":21,"column":6},"text":"{\n      final user = await remoteDataSource.login(email, password);\n      return Right(user);\n    }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":544,"line":18,"column":0},"end":{"offset":544,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":554,"line":19,"column":0},"end":{"offset":554,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":620,"line":20,"column":0},"end":{"offset":620,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":646,"line":21,"column":0},"end":{"offset":646,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":683,"line":22,"column":0},"end":{"offset":683,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":728,"line":23,"column":0},"end":{"offset":728,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":746,"line":24,"column":0},"end":{"offset":746,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":805,"line":25,"column":0},"end":{"offset":805,"line":25,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]},"AuthRepositoryImpl.register":{"codeSpan":{"start":{"offset":830,"line":29,"column":3},"end":{"offset":1246,"line":43,"column":4},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  ) async {\n    try {\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1084,"line":38,"column":7},"end":{"offset":1165,"line":40,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1166,"line":40,"column":7},"end":{"offset":1242,"line":42,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":88.0,"level":"none","comment":"This method has a halstead volume of 88.0.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":959,"line":34,"column":11},"end":{"offset":1246,"line":43,"column":4},"text":"{\n    try {\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":969,"line":35,"column":9},"end":{"offset":1083,"line":38,"column":6},"text":"{\n      final user = await remoteDataSource.register(name, email, password, type);\n      return Right(user);\n    }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":961,"line":35,"column":0},"end":{"offset":961,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":971,"line":36,"column":0},"end":{"offset":971,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1052,"line":37,"column":0},"end":{"offset":1052,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1078,"line":38,"column":0},"end":{"offset":1078,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1115,"line":39,"column":0},"end":{"offset":1115,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1160,"line":40,"column":0},"end":{"offset":1160,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1178,"line":41,"column":0},"end":{"offset":1178,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1237,"line":42,"column":0},"end":{"offset":1237,"line":42,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/infra/repositories/user_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UserRepositoryImpl":{"codeSpan":{"start":{"offset":289,"line":8,"column":1},"end":{"offset":800,"line":24,"column":2},"text":"class UserRepositoryImpl implements UserRepository {\n  final UserRemoteDataSource remoteDataSource;\n\n  UserRepositoryImpl(this.remoteDataSource);\n\n  @override\n  Future<Either<Failure, List<UserEntity>>> searchPatients(String term) async {\n    try {\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor UserRepositoryImpl increase metric value","codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"UserRepositoryImpl(this.remoteDataSource);"}},{"message":"method searchPatients increase metric value","codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":798,"line":23,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term) async {\n    try {\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor UserRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"UserRepositoryImpl(this.remoteDataSource);"}},{"message":"functional method searchPatients increase metric value","codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":798,"line":23,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term) async {\n    try {\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]}]}},"functions":{"UserRepositoryImpl.UserRepositoryImpl":{"codeSpan":{"start":{"offset":392,"line":11,"column":3},"end":{"offset":434,"line":11,"column":45},"text":"UserRepositoryImpl(this.remoteDataSource);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"UserRepositoryImpl.searchPatients":{"codeSpan":{"start":{"offset":450,"line":14,"column":3},"end":{"offset":798,"line":23,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term) async {\n    try {\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":636,"line":18,"column":7},"end":{"offset":717,"line":20,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":718,"line":20,"column":7},"end":{"offset":794,"line":22,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":70.30835464468075,"level":"none","comment":"This method has a halstead volume of 70.30835464468075.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":526,"line":14,"column":79},"end":{"offset":798,"line":23,"column":4},"text":"{\n    try {\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":536,"line":15,"column":9},"end":{"offset":635,"line":18,"column":6},"text":"{\n      final users = await remoteDataSource.searchPatients(term);\n      return Right(users);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":528,"line":15,"column":0},"end":{"offset":528,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":538,"line":16,"column":0},"end":{"offset":538,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":603,"line":17,"column":0},"end":{"offset":603,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":630,"line":18,"column":0},"end":{"offset":630,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":667,"line":19,"column":0},"end":{"offset":667,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":712,"line":20,"column":0},"end":{"offset":712,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":730,"line":21,"column":0},"end":{"offset":730,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":789,"line":22,"column":0},"end":{"offset":789,"line":22,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/infra/models/user_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UserModel":{"codeSpan":{"start":{"offset":123,"line":4,"column":1},"end":{"offset":644,"line":21,"column":2},"text":"class UserModel extends UserEntity {\n  const UserModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.type,\n  });\n\n  // Factory que converte o objeto sujo do ParseSDK para nosso Model limpo\n  factory UserModel.fromParse(ParseUser parseUser) {\n    return UserModel(\n      id: parseUser.objectId!,\n      name: parseUser.get<String>('fullName') ?? 'Sem Nome',\n      email: parseUser.emailAddress ?? '',\n      type: parseUser.get<String>('userType') ?? 'paciente',\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor UserModel increase metric value","codeSpan":{"start":{"offset":162,"line":5,"column":3},"end":{"offset":284,"line":10,"column":6},"text":"const UserModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.type,\n  });"}},{"message":"constructor fromParse increase metric value","codeSpan":{"start":{"offset":363,"line":13,"column":3},"end":{"offset":642,"line":20,"column":4},"text":"factory UserModel.fromParse(ParseUser parseUser) {\n    return UserModel(\n      id: parseUser.objectId!,\n      name: parseUser.get<String>('fullName') ?? 'Sem Nome',\n      email: parseUser.emailAddress ?? '',\n      type: parseUser.get<String>('userType') ?? 'paciente',\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor UserModel decrease metric value","codeSpan":{"start":{"offset":162,"line":5,"column":3},"end":{"offset":284,"line":10,"column":6},"text":"const UserModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.type,\n  });"}},{"message":"public constructor fromParse decrease metric value","codeSpan":{"start":{"offset":363,"line":13,"column":3},"end":{"offset":642,"line":20,"column":4},"text":"factory UserModel.fromParse(ParseUser parseUser) {\n    return UserModel(\n      id: parseUser.objectId!,\n      name: parseUser.get<String>('fullName') ?? 'Sem Nome',\n      email: parseUser.emailAddress ?? '',\n      type: parseUser.get<String>('userType') ?? 'paciente',\n    );\n  }"}}]}]}},"functions":{"UserModel.UserModel":{"codeSpan":{"start":{"offset":162,"line":5,"column":3},"end":{"offset":284,"line":10,"column":6},"text":"const UserModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.type,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This constructor has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"UserModel.fromParse":{"codeSpan":{"start":{"offset":363,"line":13,"column":3},"end":{"offset":642,"line":20,"column":4},"text":"factory UserModel.fromParse(ParseUser parseUser) {\n    return UserModel(\n      id: parseUser.objectId!,\n      name: parseUser.get<String>('fullName') ?? 'Sem Nome',\n      email: parseUser.emailAddress ?? '',\n      type: parseUser.get<String>('userType') ?? 'paciente',\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This constructor has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":513,"line":16,"column":47},"end":{"offset":515,"line":16,"column":49},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":564,"line":17,"column":37},"end":{"offset":566,"line":17,"column":39},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":617,"line":18,"column":47},"end":{"offset":619,"line":18,"column":49},"text":"??"}}]},{"metricsId":"halstead-volume","value":87.56916320732489,"level":"none","comment":"This constructor has a halstead volume of 87.56916320732489.","context":[]},{"metricsId":"lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This constructor has 8 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This constructor has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":412,"line":13,"column":52},"end":{"offset":642,"line":20,"column":4},"text":"{\n    return UserModel(\n      id: parseUser.objectId!,\n      name: parseUser.get<String>('fullName') ?? 'Sem Nome',\n      email: parseUser.emailAddress ?? '',\n      type: parseUser.get<String>('userType') ?? 'paciente',\n    );\n  }"}}]},{"metricsId":"source-lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This constructor has 6 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":414,"line":14,"column":0},"end":{"offset":414,"line":14,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":436,"line":15,"column":0},"end":{"offset":436,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":467,"line":16,"column":0},"end":{"offset":467,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":528,"line":17,"column":0},"end":{"offset":528,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":571,"line":18,"column":0},"end":{"offset":571,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":632,"line":19,"column":0},"end":{"offset":632,"line":19,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":69,"level":"warning","comment":"This constructor has 69 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/repositories/auth_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"AuthRepository":{"codeSpan":{"start":{"offset":122,"line":5,"column":1},"end":{"offset":357,"line":13,"column":2},"text":"abstract class AuthRepository {\n  Future<Either<Failure, UserEntity>> login(String email, String password);\n  Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"method login increase metric value","codeSpan":{"start":{"offset":156,"line":6,"column":3},"end":{"offset":229,"line":6,"column":76},"text":"Future<Either<Failure, UserEntity>> login(String email, String password);"}},{"message":"method register increase metric value","codeSpan":{"start":{"offset":232,"line":7,"column":3},"end":{"offset":355,"line":12,"column":5},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method login increase metric value","codeSpan":{"start":{"offset":156,"line":6,"column":3},"end":{"offset":229,"line":6,"column":76},"text":"Future<Either<Failure, UserEntity>> login(String email, String password);"}},{"message":"functional method register increase metric value","codeSpan":{"start":{"offset":232,"line":7,"column":3},"end":{"offset":355,"line":12,"column":5},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"}}]}]}},"functions":{"AuthRepository.login":{"codeSpan":{"start":{"offset":156,"line":6,"column":3},"end":{"offset":229,"line":6,"column":76},"text":"Future<Either<Failure, UserEntity>> login(String email, String password);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"AuthRepository.register":{"codeSpan":{"start":{"offset":232,"line":7,"column":3},"end":{"offset":355,"line":12,"column":5},"text":"Future<Either<Failure, UserEntity>> register(\n    String name,\n    String email,\n    String password,\n    String type,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/repositories/user_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UserRepository":{"codeSpan":{"start":{"offset":123,"line":6,"column":1},"end":{"offset":229,"line":8,"column":2},"text":"abstract class UserRepository {\n  Future<Either<Failure, List<UserEntity>>> searchPatients(String term);\n}"},"metrics":[{"metricsId":"number-of-methods","value":1,"unitType":"method","level":"none","comment":"This class has 1 method.","context":[{"message":"method searchPatients increase metric value","codeSpan":{"start":{"offset":157,"line":7,"column":3},"end":{"offset":227,"line":7,"column":73},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term);"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method searchPatients increase metric value","codeSpan":{"start":{"offset":157,"line":7,"column":3},"end":{"offset":227,"line":7,"column":73},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term);"}}]}]}},"functions":{"UserRepository.searchPatients":{"codeSpan":{"start":{"offset":157,"line":7,"column":3},"end":{"offset":227,"line":7,"column":73},"text":"Future<Either<Failure, List<UserEntity>>> searchPatients(String term);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/usecases/register_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"RegisterUseCase":{"codeSpan":{"start":{"offset":169,"line":6,"column":1},"end":{"offset":505,"line":19,"column":2},"text":"class RegisterUseCase {\n  final AuthRepository repository;\n\n  RegisterUseCase(this.repository);\n\n  Future<Either<Failure, UserEntity>> call({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    return await repository.register(name, email, password, type);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor RegisterUseCase increase metric value","codeSpan":{"start":{"offset":231,"line":9,"column":3},"end":{"offset":264,"line":9,"column":36},"text":"RegisterUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":268,"line":11,"column":3},"end":{"offset":503,"line":18,"column":4},"text":"Future<Either<Failure, UserEntity>> call({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    return await repository.register(name, email, password, type);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor RegisterUseCase decrease metric value","codeSpan":{"start":{"offset":231,"line":9,"column":3},"end":{"offset":264,"line":9,"column":36},"text":"RegisterUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":268,"line":11,"column":3},"end":{"offset":503,"line":18,"column":4},"text":"Future<Either<Failure, UserEntity>> call({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    return await repository.register(name, email, password, type);\n  }"}}]}]}},"functions":{"RegisterUseCase.RegisterUseCase":{"codeSpan":{"start":{"offset":231,"line":9,"column":3},"end":{"offset":264,"line":9,"column":36},"text":"RegisterUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"RegisterUseCase.call":{"codeSpan":{"start":{"offset":268,"line":11,"column":3},"end":{"offset":503,"line":18,"column":4},"text":"Future<Either<Failure, UserEntity>> call({\n    required String name,\n    required String email,\n    required String password,\n    required String type,\n  }) async {\n    return await repository.register(name, email, password, type);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":19.651484454403228,"level":"none","comment":"This method has a halstead volume of 19.651484454403228.","context":[]},{"metricsId":"lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":431,"line":16,"column":12},"end":{"offset":503,"line":18,"column":4},"text":"{\n    return await repository.register(name, email, password, type);\n  }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":433,"line":17,"column":0},"end":{"offset":433,"line":17,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":91,"level":"warning","comment":"This method has 91 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/usecases/login_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"LoginUseCase":{"codeSpan":{"start":{"offset":169,"line":6,"column":1},"end":{"offset":412,"line":17,"column":2},"text":"class LoginUseCase {\n  final AuthRepository repository;\n\n  LoginUseCase(this.repository);\n\n  Future<Either<Failure, UserEntity>> call(\n    String email,\n    String password,\n  ) async {\n    return await repository.login(email, password);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor LoginUseCase increase metric value","codeSpan":{"start":{"offset":228,"line":9,"column":3},"end":{"offset":258,"line":9,"column":33},"text":"LoginUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":262,"line":11,"column":3},"end":{"offset":410,"line":16,"column":4},"text":"Future<Either<Failure, UserEntity>> call(\n    String email,\n    String password,\n  ) async {\n    return await repository.login(email, password);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor LoginUseCase decrease metric value","codeSpan":{"start":{"offset":228,"line":9,"column":3},"end":{"offset":258,"line":9,"column":33},"text":"LoginUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":262,"line":11,"column":3},"end":{"offset":410,"line":16,"column":4},"text":"Future<Either<Failure, UserEntity>> call(\n    String email,\n    String password,\n  ) async {\n    return await repository.login(email, password);\n  }"}}]}]}},"functions":{"LoginUseCase.LoginUseCase":{"codeSpan":{"start":{"offset":228,"line":9,"column":3},"end":{"offset":258,"line":9,"column":33},"text":"LoginUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"LoginUseCase.call":{"codeSpan":{"start":{"offset":262,"line":11,"column":3},"end":{"offset":410,"line":16,"column":4},"text":"Future<Either<Failure, UserEntity>> call(\n    String email,\n    String password,\n  ) async {\n    return await repository.login(email, password);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":11.60964047443681,"level":"none","comment":"This method has a halstead volume of 11.60964047443681.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":353,"line":14,"column":11},"end":{"offset":410,"line":16,"column":4},"text":"{\n    return await repository.login(email, password);\n  }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This method has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":355,"line":15,"column":0},"end":{"offset":355,"line":15,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This method has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/usecases/search_patients_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"SearchPatientsUseCase":{"codeSpan":{"start":{"offset":169,"line":6,"column":1},"end":{"offset":403,"line":14,"column":2},"text":"class SearchPatientsUseCase {\n  final UserRepository repository;\n\n  SearchPatientsUseCase(this.repository);\n\n  Future<Either<Failure, List<UserEntity>>> call(String term) async {\n    return await repository.searchPatients(term);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor SearchPatientsUseCase increase metric value","codeSpan":{"start":{"offset":237,"line":9,"column":3},"end":{"offset":276,"line":9,"column":42},"text":"SearchPatientsUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":280,"line":11,"column":3},"end":{"offset":401,"line":13,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> call(String term) async {\n    return await repository.searchPatients(term);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor SearchPatientsUseCase decrease metric value","codeSpan":{"start":{"offset":237,"line":9,"column":3},"end":{"offset":276,"line":9,"column":42},"text":"SearchPatientsUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":280,"line":11,"column":3},"end":{"offset":401,"line":13,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> call(String term) async {\n    return await repository.searchPatients(term);\n  }"}}]}]}},"functions":{"SearchPatientsUseCase.SearchPatientsUseCase":{"codeSpan":{"start":{"offset":237,"line":9,"column":3},"end":{"offset":276,"line":9,"column":42},"text":"SearchPatientsUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"SearchPatientsUseCase.call":{"codeSpan":{"start":{"offset":280,"line":11,"column":3},"end":{"offset":401,"line":13,"column":4},"text":"Future<Either<Failure, List<UserEntity>>> call(String term) async {\n    return await repository.searchPatients(term);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This method has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":346,"line":11,"column":69},"end":{"offset":401,"line":13,"column":4},"text":"{\n    return await repository.searchPatients(term);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":348,"line":12,"column":0},"end":{"offset":348,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":94,"level":"warning","comment":"This method has 94 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/auth/domain/entities/user_entity.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UserEntity":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":381,"line":18,"column":2},"text":"class UserEntity extends Equatable {\n  final String id;\n  final String name;\n  final String email;\n  final String type; // 'medico' ou 'paciente'\n\n  const UserEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.type,\n  });\n\n  @override\n  List<Object?> get props => [id, name, email, type];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor UserEntity increase metric value","codeSpan":{"start":{"offset":193,"line":9,"column":3},"end":{"offset":312,"line":14,"column":6},"text":"const UserEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.type,\n  });"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":328,"line":17,"column":3},"end":{"offset":379,"line":17,"column":54},"text":"List<Object?> get props => [id, name, email, type];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor UserEntity decrease metric value","codeSpan":{"start":{"offset":193,"line":9,"column":3},"end":{"offset":312,"line":14,"column":6},"text":"const UserEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.type,\n  });"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":328,"line":17,"column":3},"end":{"offset":379,"line":17,"column":54},"text":"List<Object?> get props => [id, name, email, type];"}}]}]}},"functions":{"UserEntity.UserEntity":{"codeSpan":{"start":{"offset":193,"line":9,"column":3},"end":{"offset":312,"line":14,"column":6},"text":"const UserEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.type,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This constructor has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"UserEntity.props":{"codeSpan":{"start":{"offset":328,"line":17,"column":3},"end":{"offset":379,"line":17,"column":54},"text":"List<Object?> get props => [id, name, email, type];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This getter has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":326,"line":17,"column":0},"end":{"offset":326,"line":17,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":94,"level":"warning","comment":"This getter has 94 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/doctor/ui/widgets/patient_evolution_chart.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PatientEvolutionChart":{"codeSpan":{"start":{"offset":180,"line":6,"column":1},"end":{"offset":6102,"line":182,"column":2},"text":"class PatientEvolutionChart extends StatelessWidget {\n  final List<CheckInEntity> checkIns;\n\n  const PatientEvolutionChart({super.key, required this.checkIns});\n\n  @override\n  Widget build(BuildContext context) {\n    if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    // Sort by date (Ascending: Old -> New)\n    final sortedCheckIns = List<CheckInEntity>.from(checkIns)\n      ..sort((a, b) => a.date.compareTo(b.date));\n\n    // Convert to spots (X: index, Y: feeling)\n    // Filter out items without feeling or invalid feeling\n    final validPoints = sortedCheckIns.where((c) => c.feeling != null).toList();\n\n    if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    final spots = validPoints.asMap().entries.map((entry) {\n      final index = entry.key;\n      final checkIn = entry.value;\n      return FlSpot(index.toDouble(), checkIn.feeling!.toDouble());\n    }).toList();\n\n    final primaryColor = Theme.of(context).colorScheme.primary;\n\n    return AspectRatio(\n      aspectRatio: 1.70,\n      child: Padding(\n        padding: const EdgeInsets.only(\n          right: 18.0,\n          left: 12.0,\n          top: 24,\n          bottom: 12,\n        ),\n        child: LineChart(\n          LineChartData(\n            gridData: FlGridData(\n              show: true,\n              drawVerticalLine: true,\n              getDrawingHorizontalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n              getDrawingVerticalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n            ),\n            titlesData: FlTitlesData(\n              show: true,\n              rightTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              topTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              bottomTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  reservedSize: 30,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  },\n                ),\n              ),\n              leftTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    // Only integer values 1-5\n                    if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }\n                    return const SizedBox.shrink();\n                  },\n                  reservedSize: 28,\n                ),\n              ),\n            ),\n            borderData: FlBorderData(\n              show: true,\n              border: Border.all(color: const Color(0xff37434d), width: 1),\n            ),\n            minX: 0,\n            maxX: (spots.length - 1).toDouble(),\n            minY: 1,\n            maxY: 5,\n            lineBarsData: [\n              LineChartBarData(\n                spots: spots,\n                isCurved: true,\n                color: primaryColor,\n                barWidth: 3,\n                isStrokeCapRound: true,\n                dotData: const FlDotData(show: true),\n                belowBarData: BarAreaData(\n                  show: true,\n                  gradient: LinearGradient(\n                    colors: [\n                      primaryColor.withOpacity(0.3),\n                      primaryColor.withOpacity(0.0),\n                    ],\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor PatientEvolutionChart increase metric value","codeSpan":{"start":{"offset":275,"line":9,"column":3},"end":{"offset":340,"line":9,"column":68},"text":"const PatientEvolutionChart({super.key, required this.checkIns});"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":356,"line":12,"column":3},"end":{"offset":6100,"line":181,"column":4},"text":"Widget build(BuildContext context) {\n    if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    // Sort by date (Ascending: Old -> New)\n    final sortedCheckIns = List<CheckInEntity>.from(checkIns)\n      ..sort((a, b) => a.date.compareTo(b.date));\n\n    // Convert to spots (X: index, Y: feeling)\n    // Filter out items without feeling or invalid feeling\n    final validPoints = sortedCheckIns.where((c) => c.feeling != null).toList();\n\n    if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    final spots = validPoints.asMap().entries.map((entry) {\n      final index = entry.key;\n      final checkIn = entry.value;\n      return FlSpot(index.toDouble(), checkIn.feeling!.toDouble());\n    }).toList();\n\n    final primaryColor = Theme.of(context).colorScheme.primary;\n\n    return AspectRatio(\n      aspectRatio: 1.70,\n      child: Padding(\n        padding: const EdgeInsets.only(\n          right: 18.0,\n          left: 12.0,\n          top: 24,\n          bottom: 12,\n        ),\n        child: LineChart(\n          LineChartData(\n            gridData: FlGridData(\n              show: true,\n              drawVerticalLine: true,\n              getDrawingHorizontalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n              getDrawingVerticalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n            ),\n            titlesData: FlTitlesData(\n              show: true,\n              rightTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              topTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              bottomTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  reservedSize: 30,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  },\n                ),\n              ),\n              leftTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    // Only integer values 1-5\n                    if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }\n                    return const SizedBox.shrink();\n                  },\n                  reservedSize: 28,\n                ),\n              ),\n            ),\n            borderData: FlBorderData(\n              show: true,\n              border: Border.all(color: const Color(0xff37434d), width: 1),\n            ),\n            minX: 0,\n            maxX: (spots.length - 1).toDouble(),\n            minY: 1,\n            maxY: 5,\n            lineBarsData: [\n              LineChartBarData(\n                spots: spots,\n                isCurved: true,\n                color: primaryColor,\n                barWidth: 3,\n                isStrokeCapRound: true,\n                dotData: const FlDotData(show: true),\n                belowBarData: BarAreaData(\n                  show: true,\n                  gradient: LinearGradient(\n                    colors: [\n                      primaryColor.withOpacity(0.3),\n                      primaryColor.withOpacity(0.0),\n                    ],\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor PatientEvolutionChart decrease metric value","codeSpan":{"start":{"offset":275,"line":9,"column":3},"end":{"offset":340,"line":9,"column":68},"text":"const PatientEvolutionChart({super.key, required this.checkIns});"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":356,"line":12,"column":3},"end":{"offset":6100,"line":181,"column":4},"text":"Widget build(BuildContext context) {\n    if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    // Sort by date (Ascending: Old -> New)\n    final sortedCheckIns = List<CheckInEntity>.from(checkIns)\n      ..sort((a, b) => a.date.compareTo(b.date));\n\n    // Convert to spots (X: index, Y: feeling)\n    // Filter out items without feeling or invalid feeling\n    final validPoints = sortedCheckIns.where((c) => c.feeling != null).toList();\n\n    if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    final spots = validPoints.asMap().entries.map((entry) {\n      final index = entry.key;\n      final checkIn = entry.value;\n      return FlSpot(index.toDouble(), checkIn.feeling!.toDouble());\n    }).toList();\n\n    final primaryColor = Theme.of(context).colorScheme.primary;\n\n    return AspectRatio(\n      aspectRatio: 1.70,\n      child: Padding(\n        padding: const EdgeInsets.only(\n          right: 18.0,\n          left: 12.0,\n          top: 24,\n          bottom: 12,\n        ),\n        child: LineChart(\n          LineChartData(\n            gridData: FlGridData(\n              show: true,\n              drawVerticalLine: true,\n              getDrawingHorizontalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n              getDrawingVerticalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n            ),\n            titlesData: FlTitlesData(\n              show: true,\n              rightTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              topTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              bottomTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  reservedSize: 30,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  },\n                ),\n              ),\n              leftTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    // Only integer values 1-5\n                    if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }\n                    return const SizedBox.shrink();\n                  },\n                  reservedSize: 28,\n                ),\n              ),\n            ),\n            borderData: FlBorderData(\n              show: true,\n              border: Border.all(color: const Color(0xff37434d), width: 1),\n            ),\n            minX: 0,\n            maxX: (spots.length - 1).toDouble(),\n            minY: 1,\n            maxY: 5,\n            lineBarsData: [\n              LineChartBarData(\n                spots: spots,\n                isCurved: true,\n                color: primaryColor,\n                barWidth: 3,\n                isStrokeCapRound: true,\n                dotData: const FlDotData(show: true),\n                belowBarData: BarAreaData(\n                  show: true,\n                  gradient: LinearGradient(\n                    colors: [\n                      primaryColor.withOpacity(0.3),\n                      primaryColor.withOpacity(0.0),\n                    ],\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"PatientEvolutionChart.PatientEvolutionChart":{"codeSpan":{"start":{"offset":275,"line":9,"column":3},"end":{"offset":340,"line":9,"column":68},"text":"const PatientEvolutionChart({super.key, required this.checkIns});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"PatientEvolutionChart.build":{"codeSpan":{"start":{"offset":356,"line":12,"column":3},"end":{"offset":6100,"line":181,"column":4},"text":"Widget build(BuildContext context) {\n    if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    // Sort by date (Ascending: Old -> New)\n    final sortedCheckIns = List<CheckInEntity>.from(checkIns)\n      ..sort((a, b) => a.date.compareTo(b.date));\n\n    // Convert to spots (X: index, Y: feeling)\n    // Filter out items without feeling or invalid feeling\n    final validPoints = sortedCheckIns.where((c) => c.feeling != null).toList();\n\n    if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    final spots = validPoints.asMap().entries.map((entry) {\n      final index = entry.key;\n      final checkIn = entry.value;\n      return FlSpot(index.toDouble(), checkIn.feeling!.toDouble());\n    }).toList();\n\n    final primaryColor = Theme.of(context).colorScheme.primary;\n\n    return AspectRatio(\n      aspectRatio: 1.70,\n      child: Padding(\n        padding: const EdgeInsets.only(\n          right: 18.0,\n          left: 12.0,\n          top: 24,\n          bottom: 12,\n        ),\n        child: LineChart(\n          LineChartData(\n            gridData: FlGridData(\n              show: true,\n              drawVerticalLine: true,\n              getDrawingHorizontalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n              getDrawingVerticalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n            ),\n            titlesData: FlTitlesData(\n              show: true,\n              rightTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              topTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              bottomTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  reservedSize: 30,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  },\n                ),\n              ),\n              leftTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    // Only integer values 1-5\n                    if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }\n                    return const SizedBox.shrink();\n                  },\n                  reservedSize: 28,\n                ),\n              ),\n            ),\n            borderData: FlBorderData(\n              show: true,\n              border: Border.all(color: const Color(0xff37434d), width: 1),\n            ),\n            minX: 0,\n            maxX: (spots.length - 1).toDouble(),\n            minY: 1,\n            maxY: 5,\n            lineBarsData: [\n              LineChartBarData(\n                spots: spots,\n                isCurved: true,\n                color: primaryColor,\n                barWidth: 3,\n                isStrokeCapRound: true,\n                dotData: const FlDotData(show: true),\n                belowBarData: BarAreaData(\n                  show: true,\n                  gradient: LinearGradient(\n                    colors: [\n                      primaryColor.withOpacity(0.3),\n                      primaryColor.withOpacity(0.0),\n                    ],\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":11,"level":"alarm","comment":"This method has a cyclomatic complexity of 11, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":397,"line":13,"column":5},"end":{"offset":655,"line":23,"column":6},"text":"if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1006,"line":33,"column":5},"end":{"offset":1276,"line":43,"column":6},"text":"if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3012,"line":97,"column":21},"end":{"offset":4216,"line":124,"column":22},"text":"if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":3027,"line":97,"column":36},"end":{"offset":3029,"line":97,"column":38},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3366,"line":104,"column":23},"end":{"offset":3670,"line":110,"column":24},"text":"if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3602,"line":109,"column":25},"end":{"offset":3646,"line":109,"column":69},"text":"if (index % interval == 0) showLabel = true;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3694,"line":112,"column":23},"end":{"offset":4194,"line":123,"column":24},"text":"if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":4589,"line":135,"column":21},"end":{"offset":4902,"line":141,"column":22},"text":"if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":4608,"line":135,"column":40},"end":{"offset":4610,"line":135,"column":42},"text":"&&"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":4622,"line":135,"column":54},"end":{"offset":4624,"line":135,"column":56},"text":"&&"}}]},{"metricsId":"halstead-volume","value":2730.3943025389603,"level":"none","comment":"This method has a halstead volume of 2730.3943025389603.","context":[]},{"metricsId":"lines-of-code","value":171,"unitType":"lines","level":"none","comment":"This method has 171 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":391,"line":12,"column":38},"end":{"offset":6100,"line":181,"column":4},"text":"{\n    if (checkIns.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    // Sort by date (Ascending: Old -> New)\n    final sortedCheckIns = List<CheckInEntity>.from(checkIns)\n      ..sort((a, b) => a.date.compareTo(b.date));\n\n    // Convert to spots (X: index, Y: feeling)\n    // Filter out items without feeling or invalid feeling\n    final validPoints = sortedCheckIns.where((c) => c.feeling != null).toList();\n\n    if (validPoints.length < 2) {\n      return const SizedBox(\n        height: 50,\n        child: Center(\n          child: Text(\n            'Dados de humor insuficientes para gr√°fico',\n            style: TextStyle(color: Colors.grey),\n          ),\n        ),\n      );\n    }\n\n    final spots = validPoints.asMap().entries.map((entry) {\n      final index = entry.key;\n      final checkIn = entry.value;\n      return FlSpot(index.toDouble(), checkIn.feeling!.toDouble());\n    }).toList();\n\n    final primaryColor = Theme.of(context).colorScheme.primary;\n\n    return AspectRatio(\n      aspectRatio: 1.70,\n      child: Padding(\n        padding: const EdgeInsets.only(\n          right: 18.0,\n          left: 12.0,\n          top: 24,\n          bottom: 12,\n        ),\n        child: LineChart(\n          LineChartData(\n            gridData: FlGridData(\n              show: true,\n              drawVerticalLine: true,\n              getDrawingHorizontalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n              getDrawingVerticalLine: (value) {\n                return const FlLine(\n                  color: Color(0xff37434d),\n                  strokeWidth: 0.5,\n                  dashArray: [5, 5],\n                );\n              },\n            ),\n            titlesData: FlTitlesData(\n              show: true,\n              rightTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              topTitles: const AxisTitles(\n                sideTitles: SideTitles(showTitles: false),\n              ),\n              bottomTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  reservedSize: 30,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  },\n                ),\n              ),\n              leftTitles: AxisTitles(\n                sideTitles: SideTitles(\n                  showTitles: true,\n                  interval: 1,\n                  getTitlesWidget: (value, meta) {\n                    // Only integer values 1-5\n                    if (value % 1 == 0 && value >= 1 && value <= 5) {\n                      return Text(\n                        value.toInt().toString(),\n                        style: TextStyle(color: Colors.grey[600], fontSize: 12),\n                        textAlign: TextAlign.left,\n                      );\n                    }\n                    return const SizedBox.shrink();\n                  },\n                  reservedSize: 28,\n                ),\n              ),\n            ),\n            borderData: FlBorderData(\n              show: true,\n              border: Border.all(color: const Color(0xff37434d), width: 1),\n            ),\n            minX: 0,\n            maxX: (spots.length - 1).toDouble(),\n            minY: 1,\n            maxY: 5,\n            lineBarsData: [\n              LineChartBarData(\n                spots: spots,\n                isCurved: true,\n                color: primaryColor,\n                barWidth: 3,\n                isStrokeCapRound: true,\n                dotData: const FlDotData(show: true),\n                belowBarData: BarAreaData(\n                  show: true,\n                  gradient: LinearGradient(\n                    colors: [\n                      primaryColor.withOpacity(0.3),\n                      primaryColor.withOpacity(0.0),\n                    ],\n                    begin: Alignment.topCenter,\n                    end: Alignment.bottomCenter,\n                  ),\n                ),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2941,"line":95,"column":50},"end":{"offset":4288,"line":126,"column":20},"text":"{\n                    final index = value.toInt();\n                    if (index >= 0 && index < validPoints.length) {\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }\n                    return const SizedBox.shrink();\n                  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3058,"line":97,"column":67},"end":{"offset":4216,"line":124,"column":22},"text":"{\n                      // Logic to prevent label overlap:\n                      // If list is small (< 7), show all.\n                      // Else show first, last, and middle points.\n                      bool showLabel = false;\n                      int total = validPoints.length;\n\n                      if (total < 7) {\n                        showLabel = true;\n                      } else {\n                        // Show every (total/5)th item roughly\n                        int interval = (total / 5).ceil();\n                        if (index % interval == 0) showLabel = true;\n                      }\n\n                      if (showLabel) {\n                        return Padding(\n                          padding: const EdgeInsets.only(top: 8.0),\n                          child: Text(\n                            DateFormat('dd/MM').format(validPoints[index].date),\n                            style: TextStyle(\n                              color: Colors.grey[600],\n                              fontSize: 10,\n                            ),\n                          ),\n                        );\n                      }\n                    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3381,"line":104,"column":38},"end":{"offset":3448,"line":106,"column":24},"text":"{\n                        showLabel = true;\n                      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":152,"unitType":"lines","level":"none","comment":"This method has 152 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":393,"line":13,"column":0},"end":{"offset":393,"line":13,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":424,"line":14,"column":0},"end":{"offset":424,"line":14,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":453,"line":15,"column":0},"end":{"offset":453,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":473,"line":16,"column":0},"end":{"offset":473,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":496,"line":17,"column":0},"end":{"offset":496,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":519,"line":18,"column":0},"end":{"offset":519,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":567,"line":19,"column":0},"end":{"offset":567,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":617,"line":20,"column":0},"end":{"offset":617,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":630,"line":21,"column":0},"end":{"offset":630,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":641,"line":22,"column":0},"end":{"offset":641,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":650,"line":23,"column":0},"end":{"offset":650,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":701,"line":26,"column":0},"end":{"offset":701,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":763,"line":27,"column":0},"end":{"offset":763,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":920,"line":31,"column":0},"end":{"offset":920,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1002,"line":33,"column":0},"end":{"offset":1002,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1036,"line":34,"column":0},"end":{"offset":1036,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1065,"line":35,"column":0},"end":{"offset":1065,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1085,"line":36,"column":0},"end":{"offset":1085,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1108,"line":37,"column":0},"end":{"offset":1108,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1131,"line":38,"column":0},"end":{"offset":1131,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1188,"line":39,"column":0},"end":{"offset":1188,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1238,"line":40,"column":0},"end":{"offset":1238,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1251,"line":41,"column":0},"end":{"offset":1251,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1262,"line":42,"column":0},"end":{"offset":1262,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1271,"line":43,"column":0},"end":{"offset":1271,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1278,"line":45,"column":0},"end":{"offset":1278,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1338,"line":46,"column":0},"end":{"offset":1338,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1369,"line":47,"column":0},"end":{"offset":1369,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1404,"line":48,"column":0},"end":{"offset":1404,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1472,"line":49,"column":0},"end":{"offset":1472,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1490,"line":51,"column":0},"end":{"offset":1490,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1555,"line":53,"column":0},"end":{"offset":1555,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1579,"line":54,"column":0},"end":{"offset":1579,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1604,"line":55,"column":0},"end":{"offset":1604,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1626,"line":56,"column":0},"end":{"offset":1626,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1666,"line":57,"column":0},"end":{"offset":1666,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1689,"line":58,"column":0},"end":{"offset":1689,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1711,"line":59,"column":0},"end":{"offset":1711,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1730,"line":60,"column":0},"end":{"offset":1730,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1752,"line":61,"column":0},"end":{"offset":1752,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1763,"line":62,"column":0},"end":{"offset":1763,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1789,"line":63,"column":0},"end":{"offset":1789,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1814,"line":64,"column":0},"end":{"offset":1814,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1848,"line":65,"column":0},"end":{"offset":1848,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1874,"line":66,"column":0},"end":{"offset":1874,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1912,"line":67,"column":0},"end":{"offset":1912,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1962,"line":68,"column":0},"end":{"offset":1962,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1999,"line":69,"column":0},"end":{"offset":1999,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2043,"line":70,"column":0},"end":{"offset":2043,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2079,"line":71,"column":0},"end":{"offset":2079,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2116,"line":72,"column":0},"end":{"offset":2116,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2135,"line":73,"column":0},"end":{"offset":2135,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2152,"line":74,"column":0},"end":{"offset":2152,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2200,"line":75,"column":0},"end":{"offset":2200,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2237,"line":76,"column":0},"end":{"offset":2237,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2281,"line":77,"column":0},"end":{"offset":2281,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2317,"line":78,"column":0},"end":{"offset":2317,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2354,"line":79,"column":0},"end":{"offset":2354,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2373,"line":80,"column":0},"end":{"offset":2373,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2390,"line":81,"column":0},"end":{"offset":2390,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2405,"line":82,"column":0},"end":{"offset":2405,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2443,"line":83,"column":0},"end":{"offset":2443,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2469,"line":84,"column":0},"end":{"offset":2469,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2514,"line":85,"column":0},"end":{"offset":2514,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2573,"line":86,"column":0},"end":{"offset":2573,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2590,"line":87,"column":0},"end":{"offset":2590,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2633,"line":88,"column":0},"end":{"offset":2633,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2692,"line":89,"column":0},"end":{"offset":2692,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2709,"line":90,"column":0},"end":{"offset":2709,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2749,"line":91,"column":0},"end":{"offset":2749,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2789,"line":92,"column":0},"end":{"offset":2789,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2825,"line":93,"column":0},"end":{"offset":2825,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2861,"line":94,"column":0},"end":{"offset":2861,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2892,"line":95,"column":0},"end":{"offset":2892,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2943,"line":96,"column":0},"end":{"offset":2943,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2992,"line":97,"column":0},"end":{"offset":2992,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3243,"line":101,"column":0},"end":{"offset":3243,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3289,"line":102,"column":0},"end":{"offset":3289,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3344,"line":104,"column":0},"end":{"offset":3344,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3383,"line":105,"column":0},"end":{"offset":3383,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3425,"line":106,"column":0},"end":{"offset":3425,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3519,"line":108,"column":0},"end":{"offset":3519,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3578,"line":109,"column":0},"end":{"offset":3578,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3647,"line":110,"column":0},"end":{"offset":3647,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3672,"line":112,"column":0},"end":{"offset":3672,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3711,"line":113,"column":0},"end":{"offset":3711,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3751,"line":114,"column":0},"end":{"offset":3751,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3819,"line":115,"column":0},"end":{"offset":3819,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3858,"line":116,"column":0},"end":{"offset":3858,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3939,"line":117,"column":0},"end":{"offset":3939,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3985,"line":118,"column":0},"end":{"offset":3985,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4040,"line":119,"column":0},"end":{"offset":4040,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4084,"line":120,"column":0},"end":{"offset":4084,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4115,"line":121,"column":0},"end":{"offset":4115,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4144,"line":122,"column":0},"end":{"offset":4144,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4171,"line":123,"column":0},"end":{"offset":4171,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4195,"line":124,"column":0},"end":{"offset":4195,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4217,"line":125,"column":0},"end":{"offset":4217,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4269,"line":126,"column":0},"end":{"offset":4269,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4290,"line":127,"column":0},"end":{"offset":4290,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4309,"line":128,"column":0},"end":{"offset":4309,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4326,"line":129,"column":0},"end":{"offset":4326,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4364,"line":130,"column":0},"end":{"offset":4364,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4404,"line":131,"column":0},"end":{"offset":4404,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4440,"line":132,"column":0},"end":{"offset":4440,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4471,"line":133,"column":0},"end":{"offset":4471,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4569,"line":135,"column":0},"end":{"offset":4569,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4639,"line":136,"column":0},"end":{"offset":4639,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4674,"line":137,"column":0},"end":{"offset":4674,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4724,"line":138,"column":0},"end":{"offset":4724,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4805,"line":139,"column":0},"end":{"offset":4805,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4856,"line":140,"column":0},"end":{"offset":4856,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4881,"line":141,"column":0},"end":{"offset":4881,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4903,"line":142,"column":0},"end":{"offset":4903,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4955,"line":143,"column":0},"end":{"offset":4955,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4976,"line":144,"column":0},"end":{"offset":4976,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5012,"line":145,"column":0},"end":{"offset":5012,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5031,"line":146,"column":0},"end":{"offset":5031,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5048,"line":147,"column":0},"end":{"offset":5048,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5063,"line":148,"column":0},"end":{"offset":5063,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5101,"line":149,"column":0},"end":{"offset":5101,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5127,"line":150,"column":0},"end":{"offset":5127,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5203,"line":151,"column":0},"end":{"offset":5203,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5218,"line":152,"column":0},"end":{"offset":5218,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5239,"line":153,"column":0},"end":{"offset":5239,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5288,"line":154,"column":0},"end":{"offset":5288,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5309,"line":155,"column":0},"end":{"offset":5309,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5330,"line":156,"column":0},"end":{"offset":5330,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5358,"line":157,"column":0},"end":{"offset":5358,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5390,"line":158,"column":0},"end":{"offset":5390,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5420,"line":159,"column":0},"end":{"offset":5420,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5452,"line":160,"column":0},"end":{"offset":5452,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5489,"line":161,"column":0},"end":{"offset":5489,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5518,"line":162,"column":0},"end":{"offset":5518,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5558,"line":163,"column":0},"end":{"offset":5558,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5612,"line":164,"column":0},"end":{"offset":5612,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5655,"line":165,"column":0},"end":{"offset":5655,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5685,"line":166,"column":0},"end":{"offset":5685,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5729,"line":167,"column":0},"end":{"offset":5729,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5759,"line":168,"column":0},"end":{"offset":5759,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5812,"line":169,"column":0},"end":{"offset":5812,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5865,"line":170,"column":0},"end":{"offset":5865,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5888,"line":171,"column":0},"end":{"offset":5888,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5936,"line":172,"column":0},"end":{"offset":5936,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5985,"line":173,"column":0},"end":{"offset":5985,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6006,"line":174,"column":0},"end":{"offset":6006,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6025,"line":175,"column":0},"end":{"offset":6025,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6042,"line":176,"column":0},"end":{"offset":6042,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6057,"line":177,"column":0},"end":{"offset":6057,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6070,"line":178,"column":0},"end":{"offset":6070,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6081,"line":179,"column":0},"end":{"offset":6081,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6090,"line":180,"column":0},"end":{"offset":6090,"line":180,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":27,"level":"alarm","comment":"This method has 27 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/ui/view_model/profile_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileViewModel":{"codeSpan":{"start":{"offset":262,"line":7,"column":1},"end":{"offset":2780,"line":116,"column":2},"text":"class ProfileViewModel extends ChangeNotifier {\n  final GetProfileUseCase getProfileUseCase;\n  final UpdateProfileUseCase updateProfileUseCase;\n  final LogoutUseCase logoutUseCase;\n\n  ProfileViewModel({\n    required this.getProfileUseCase,\n    required this.updateProfileUseCase,\n    required this.logoutUseCase,\n  });\n\n  bool _isLoading = false;\n  bool get isLoading => _isLoading;\n\n  bool _isEditing = false;\n  bool get isEditing => _isEditing;\n\n  ProfileEntity? _profile;\n  ProfileEntity? get profile => _profile;\n\n  String? _errorMessage;\n  String? get errorMessage => _errorMessage;\n\n  Future<void> loadProfile() async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await getProfileUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (profile) {\n        _profile = profile;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }\n\n  void toggleEdit() {\n    _isEditing = !_isEditing;\n    notifyListeners();\n  }\n\n  Future<void> saveProfile(String name, String phone, String? crm) async {\n    if (_profile == null) return;\n\n    // Clean phone number (formatting)\n    final cleanPhone = phone.replaceAll(RegExp(r'[^0-9]'), '');\n\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Create updated profile entity\n    final updatedProfile = ProfileEntity(\n      id: _profile!.id,\n      name: name,\n      email: _profile!.email,\n      userType: _profile!.userType,\n      crm: crm, // Use new CRM\n      phone: cleanPhone,\n    );\n\n    final result = await updateProfileUseCase(updatedProfile);\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        // Success\n        _profile = updatedProfile;\n        _isEditing = false;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }\n\n  Future<void> logout(BuildContext context) async {\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await logoutUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        _isLoading = false;\n        notifyListeners();\n        // Clear everything and go to login\n        Navigator.of(\n          context,\n        ).pushNamedAndRemoveUntil('/login', (route) => false);\n      },\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":9,"unitType":"methods","level":"none","comment":"This class has 9 methods.","context":[{"message":"constructor ProfileViewModel increase metric value","codeSpan":{"start":{"offset":446,"line":12,"column":3},"end":{"offset":580,"line":16,"column":6},"text":"ProfileViewModel({\n    required this.getProfileUseCase,\n    required this.updateProfileUseCase,\n    required this.logoutUseCase,\n  });"}},{"message":"getter isLoading increase metric value","codeSpan":{"start":{"offset":611,"line":19,"column":3},"end":{"offset":644,"line":19,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"getter isEditing increase metric value","codeSpan":{"start":{"offset":675,"line":22,"column":3},"end":{"offset":708,"line":22,"column":36},"text":"bool get isEditing => _isEditing;"}},{"message":"getter profile increase metric value","codeSpan":{"start":{"offset":739,"line":25,"column":3},"end":{"offset":778,"line":25,"column":42},"text":"ProfileEntity? get profile => _profile;"}},{"message":"getter errorMessage increase metric value","codeSpan":{"start":{"offset":807,"line":28,"column":3},"end":{"offset":849,"line":28,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"method loadProfile increase metric value","codeSpan":{"start":{"offset":853,"line":30,"column":3},"end":{"offset":1268,"line":49,"column":4},"text":"Future<void> loadProfile() async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await getProfileUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (profile) {\n        _profile = profile;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method toggleEdit increase metric value","codeSpan":{"start":{"offset":1272,"line":51,"column":3},"end":{"offset":1348,"line":54,"column":4},"text":"void toggleEdit() {\n    _isEditing = !_isEditing;\n    notifyListeners();\n  }"}},{"message":"method saveProfile increase metric value","codeSpan":{"start":{"offset":1352,"line":56,"column":3},"end":{"offset":2260,"line":92,"column":4},"text":"Future<void> saveProfile(String name, String phone, String? crm) async {\n    if (_profile == null) return;\n\n    // Clean phone number (formatting)\n    final cleanPhone = phone.replaceAll(RegExp(r'[^0-9]'), '');\n\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Create updated profile entity\n    final updatedProfile = ProfileEntity(\n      id: _profile!.id,\n      name: name,\n      email: _profile!.email,\n      userType: _profile!.userType,\n      crm: crm, // Use new CRM\n      phone: cleanPhone,\n    );\n\n    final result = await updateProfileUseCase(updatedProfile);\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        // Success\n        _profile = updatedProfile;\n        _isEditing = false;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":2264,"line":94,"column":3},"end":{"offset":2778,"line":115,"column":4},"text":"Future<void> logout(BuildContext context) async {\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await logoutUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        _isLoading = false;\n        notifyListeners();\n        // Clear everything and go to login\n        Navigator.of(\n          context,\n        ).pushNamedAndRemoveUntil('/login', (route) => false);\n      },\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.4444444444444444,"level":"none","comment":"This class has a weight of 0.4444444444444444.","context":[{"message":"public constructor ProfileViewModel decrease metric value","codeSpan":{"start":{"offset":446,"line":12,"column":3},"end":{"offset":580,"line":16,"column":6},"text":"ProfileViewModel({\n    required this.getProfileUseCase,\n    required this.updateProfileUseCase,\n    required this.logoutUseCase,\n  });"}},{"message":"public getter isLoading decrease metric value","codeSpan":{"start":{"offset":611,"line":19,"column":3},"end":{"offset":644,"line":19,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"public getter isEditing decrease metric value","codeSpan":{"start":{"offset":675,"line":22,"column":3},"end":{"offset":708,"line":22,"column":36},"text":"bool get isEditing => _isEditing;"}},{"message":"public getter profile decrease metric value","codeSpan":{"start":{"offset":739,"line":25,"column":3},"end":{"offset":778,"line":25,"column":42},"text":"ProfileEntity? get profile => _profile;"}},{"message":"public getter errorMessage decrease metric value","codeSpan":{"start":{"offset":807,"line":28,"column":3},"end":{"offset":849,"line":28,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"functional method loadProfile increase metric value","codeSpan":{"start":{"offset":853,"line":30,"column":3},"end":{"offset":1268,"line":49,"column":4},"text":"Future<void> loadProfile() async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await getProfileUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (profile) {\n        _profile = profile;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method toggleEdit increase metric value","codeSpan":{"start":{"offset":1272,"line":51,"column":3},"end":{"offset":1348,"line":54,"column":4},"text":"void toggleEdit() {\n    _isEditing = !_isEditing;\n    notifyListeners();\n  }"}},{"message":"functional method saveProfile increase metric value","codeSpan":{"start":{"offset":1352,"line":56,"column":3},"end":{"offset":2260,"line":92,"column":4},"text":"Future<void> saveProfile(String name, String phone, String? crm) async {\n    if (_profile == null) return;\n\n    // Clean phone number (formatting)\n    final cleanPhone = phone.replaceAll(RegExp(r'[^0-9]'), '');\n\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Create updated profile entity\n    final updatedProfile = ProfileEntity(\n      id: _profile!.id,\n      name: name,\n      email: _profile!.email,\n      userType: _profile!.userType,\n      crm: crm, // Use new CRM\n      phone: cleanPhone,\n    );\n\n    final result = await updateProfileUseCase(updatedProfile);\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        // Success\n        _profile = updatedProfile;\n        _isEditing = false;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":2264,"line":94,"column":3},"end":{"offset":2778,"line":115,"column":4},"text":"Future<void> logout(BuildContext context) async {\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await logoutUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        _isLoading = false;\n        notifyListeners();\n        // Clear everything and go to login\n        Navigator.of(\n          context,\n        ).pushNamedAndRemoveUntil('/login', (route) => false);\n      },\n    );\n  }"}}]}]}},"functions":{"ProfileViewModel.ProfileViewModel":{"codeSpan":{"start":{"offset":446,"line":12,"column":3},"end":{"offset":580,"line":16,"column":6},"text":"ProfileViewModel({\n    required this.getProfileUseCase,\n    required this.updateProfileUseCase,\n    required this.logoutUseCase,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This constructor has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ProfileViewModel.isLoading":{"codeSpan":{"start":{"offset":611,"line":19,"column":3},"end":{"offset":644,"line":19,"column":36},"text":"bool get isLoading => _isLoading;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":609,"line":19,"column":0},"end":{"offset":609,"line":19,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ProfileViewModel.isEditing":{"codeSpan":{"start":{"offset":675,"line":22,"column":3},"end":{"offset":708,"line":22,"column":36},"text":"bool get isEditing => _isEditing;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":673,"line":22,"column":0},"end":{"offset":673,"line":22,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ProfileViewModel.profile":{"codeSpan":{"start":{"offset":739,"line":25,"column":3},"end":{"offset":778,"line":25,"column":42},"text":"ProfileEntity? get profile => _profile;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":737,"line":25,"column":0},"end":{"offset":737,"line":25,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ProfileViewModel.errorMessage":{"codeSpan":{"start":{"offset":807,"line":28,"column":3},"end":{"offset":849,"line":28,"column":45},"text":"String? get errorMessage => _errorMessage;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":805,"line":28,"column":0},"end":{"offset":805,"line":28,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"ProfileViewModel.loadProfile":{"codeSpan":{"start":{"offset":853,"line":30,"column":3},"end":{"offset":1268,"line":49,"column":4},"text":"Future<void> loadProfile() async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await getProfileUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (profile) {\n        _profile = profile;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":139.8135375281251,"level":"none","comment":"This method has a halstead volume of 139.8135375281251.","context":[]},{"metricsId":"lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":886,"line":30,"column":36},"end":{"offset":1268,"line":49,"column":4},"text":"{\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await getProfileUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (profile) {\n        _profile = profile;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1041,"line":38,"column":17},"end":{"offset":1146,"line":42,"column":8},"text":"{\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":888,"line":31,"column":0},"end":{"offset":888,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":911,"line":32,"column":0},"end":{"offset":911,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":937,"line":33,"column":0},"end":{"offset":937,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":961,"line":35,"column":0},"end":{"offset":961,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1008,"line":37,"column":0},"end":{"offset":1008,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1025,"line":38,"column":0},"end":{"offset":1025,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1043,"line":39,"column":0},"end":{"offset":1043,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1084,"line":40,"column":0},"end":{"offset":1084,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1112,"line":41,"column":0},"end":{"offset":1112,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1139,"line":42,"column":0},"end":{"offset":1139,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1148,"line":43,"column":0},"end":{"offset":1148,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1166,"line":44,"column":0},"end":{"offset":1166,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1194,"line":45,"column":0},"end":{"offset":1194,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1222,"line":46,"column":0},"end":{"offset":1222,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1249,"line":47,"column":0},"end":{"offset":1249,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1258,"line":48,"column":0},"end":{"offset":1258,"line":48,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":59,"level":"warning","comment":"This method has 59 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ProfileViewModel.toggleEdit":{"codeSpan":{"start":{"offset":1272,"line":51,"column":3},"end":{"offset":1348,"line":54,"column":4},"text":"void toggleEdit() {\n    _isEditing = !_isEditing;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":10.0,"level":"none","comment":"This method has a halstead volume of 10.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1290,"line":51,"column":21},"end":{"offset":1348,"line":54,"column":4},"text":"{\n    _isEditing = !_isEditing;\n    notifyListeners();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1292,"line":52,"column":0},"end":{"offset":1292,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1322,"line":53,"column":0},"end":{"offset":1322,"line":53,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":87,"level":"warning","comment":"This method has 87 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ProfileViewModel.saveProfile":{"codeSpan":{"start":{"offset":1352,"line":56,"column":3},"end":{"offset":2260,"line":92,"column":4},"text":"Future<void> saveProfile(String name, String phone, String? crm) async {\n    if (_profile == null) return;\n\n    // Clean phone number (formatting)\n    final cleanPhone = phone.replaceAll(RegExp(r'[^0-9]'), '');\n\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Create updated profile entity\n    final updatedProfile = ProfileEntity(\n      id: _profile!.id,\n      name: name,\n      email: _profile!.email,\n      userType: _profile!.userType,\n      crm: crm, // Use new CRM\n      phone: cleanPhone,\n    );\n\n    final result = await updateProfileUseCase(updatedProfile);\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        // Success\n        _profile = updatedProfile;\n        _isEditing = false;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1429,"line":57,"column":5},"end":{"offset":1458,"line":57,"column":34},"text":"if (_profile == null) return;"}}]},{"metricsId":"halstead-volume","value":338.43165970615865,"level":"none","comment":"This method has a halstead volume of 338.43165970615865.","context":[]},{"metricsId":"lines-of-code","value":37,"unitType":"lines","level":"none","comment":"This method has 37 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1423,"line":56,"column":74},"end":{"offset":2260,"line":92,"column":4},"text":"{\n    if (_profile == null) return;\n\n    // Clean phone number (formatting)\n    final cleanPhone = phone.replaceAll(RegExp(r'[^0-9]'), '');\n\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Create updated profile entity\n    final updatedProfile = ProfileEntity(\n      id: _profile!.id,\n      name: name,\n      email: _profile!.email,\n      userType: _profile!.userType,\n      crm: crm, // Use new CRM\n      phone: cleanPhone,\n    );\n\n    final result = await updateProfileUseCase(updatedProfile);\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        // Success\n        _profile = updatedProfile;\n        _isEditing = false;\n        _isLoading = false;\n        notifyListeners();\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1985,"line":79,"column":17},"end":{"offset":2090,"line":83,"column":8},"text":"{\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":3,"level":"alarm","comment":"This method has 3 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":27,"unitType":"lines","level":"none","comment":"This method has 27 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1425,"line":57,"column":0},"end":{"offset":1425,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1499,"line":60,"column":0},"end":{"offset":1499,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1564,"line":62,"column":0},"end":{"offset":1564,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1587,"line":63,"column":0},"end":{"offset":1587,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1613,"line":64,"column":0},"end":{"offset":1613,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1674,"line":67,"column":0},"end":{"offset":1674,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1716,"line":68,"column":0},"end":{"offset":1716,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1740,"line":69,"column":0},"end":{"offset":1740,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1758,"line":70,"column":0},"end":{"offset":1758,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1788,"line":71,"column":0},"end":{"offset":1788,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1824,"line":72,"column":0},"end":{"offset":1824,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1855,"line":73,"column":0},"end":{"offset":1855,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1880,"line":74,"column":0},"end":{"offset":1880,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1888,"line":76,"column":0},"end":{"offset":1888,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1952,"line":78,"column":0},"end":{"offset":1952,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1969,"line":79,"column":0},"end":{"offset":1969,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1987,"line":80,"column":0},"end":{"offset":1987,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2028,"line":81,"column":0},"end":{"offset":2028,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2056,"line":82,"column":0},"end":{"offset":2056,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2083,"line":83,"column":0},"end":{"offset":2083,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2092,"line":84,"column":0},"end":{"offset":2092,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2123,"line":86,"column":0},"end":{"offset":2123,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2158,"line":87,"column":0},"end":{"offset":2158,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2186,"line":88,"column":0},"end":{"offset":2186,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2214,"line":89,"column":0},"end":{"offset":2214,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2241,"line":90,"column":0},"end":{"offset":2241,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2250,"line":91,"column":0},"end":{"offset":2250,"line":91,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":51,"level":"warning","comment":"This method has 51 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ProfileViewModel.logout":{"codeSpan":{"start":{"offset":2264,"line":94,"column":3},"end":{"offset":2778,"line":115,"column":4},"text":"Future<void> logout(BuildContext context) async {\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await logoutUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        _isLoading = false;\n        notifyListeners();\n        // Clear everything and go to login\n        Navigator.of(\n          context,\n        ).pushNamedAndRemoveUntil('/login', (route) => false);\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":164.0,"level":"none","comment":"This method has a halstead volume of 164.0.","context":[]},{"metricsId":"lines-of-code","value":22,"unitType":"lines","level":"none","comment":"This method has 22 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2312,"line":94,"column":51},"end":{"offset":2778,"line":115,"column":4},"text":"{\n    _isLoading = true;\n    notifyListeners();\n\n    final result = await logoutUseCase();\n\n    result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      },\n      (_) {\n        _isLoading = false;\n        notifyListeners();\n        // Clear everything and go to login\n        Navigator.of(\n          context,\n        ).pushNamedAndRemoveUntil('/login', (route) => false);\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2437,"line":101,"column":17},"end":{"offset":2542,"line":105,"column":8},"text":"{\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2314,"line":95,"column":0},"end":{"offset":2314,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2337,"line":96,"column":0},"end":{"offset":2337,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2361,"line":98,"column":0},"end":{"offset":2361,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2404,"line":100,"column":0},"end":{"offset":2404,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2421,"line":101,"column":0},"end":{"offset":2421,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2439,"line":102,"column":0},"end":{"offset":2439,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2480,"line":103,"column":0},"end":{"offset":2480,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2508,"line":104,"column":0},"end":{"offset":2508,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2535,"line":105,"column":0},"end":{"offset":2535,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2544,"line":106,"column":0},"end":{"offset":2544,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2556,"line":107,"column":0},"end":{"offset":2556,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2584,"line":108,"column":0},"end":{"offset":2584,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2655,"line":110,"column":0},"end":{"offset":2655,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2677,"line":111,"column":0},"end":{"offset":2677,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2696,"line":112,"column":0},"end":{"offset":2696,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2759,"line":113,"column":0},"end":{"offset":2759,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2768,"line":114,"column":0},"end":{"offset":2768,"line":114,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":58,"level":"warning","comment":"This method has 58 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/ui/widgets/profile_screen.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileScreen":{"codeSpan":{"start":{"offset":271,"line":7,"column":1},"end":{"offset":429,"line":12,"column":2},"text":"class ProfileScreen extends StatefulWidget {\n  const ProfileScreen({super.key});\n\n  @override\n  State<ProfileScreen> createState() => _ProfileScreenState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor ProfileScreen increase metric value","codeSpan":{"start":{"offset":318,"line":8,"column":3},"end":{"offset":351,"line":8,"column":36},"text":"const ProfileScreen({super.key});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":367,"line":11,"column":3},"end":{"offset":427,"line":11,"column":63},"text":"State<ProfileScreen> createState() => _ProfileScreenState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor ProfileScreen decrease metric value","codeSpan":{"start":{"offset":318,"line":8,"column":3},"end":{"offset":351,"line":8,"column":36},"text":"const ProfileScreen({super.key});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":367,"line":11,"column":3},"end":{"offset":427,"line":11,"column":63},"text":"State<ProfileScreen> createState() => _ProfileScreenState();"}}]}]},"_ProfileScreenState":{"codeSpan":{"start":{"offset":431,"line":14,"column":1},"end":{"offset":8210,"line":229,"column":2},"text":"class _ProfileScreenState extends State<ProfileScreen> {\n  late TextEditingController _nameController;\n  late TextEditingController _phoneController;\n  late TextEditingController _crmController;\n\n  @override\n  void initState() {\n    super.initState();\n    _nameController = TextEditingController();\n    _phoneController = TextEditingController();\n    _crmController = TextEditingController();\n\n    // Load profile on init\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ProfileViewModel>().loadProfile();\n    });\n  }\n\n  @override\n  void dispose() {\n    _nameController.dispose();\n    _phoneController.dispose();\n    _crmController.dispose();\n    super.dispose();\n  }\n\n  // Update controllers when profile changes\n  void _updateControllers(ProfileViewModel viewModel) {\n    if (viewModel.profile != null && !viewModel.isEditing) {\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<ProfileViewModel>(\n        builder: (context, viewModel, _) {\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":641,"line":20,"column":3},"end":{"offset":973,"line":30,"column":4},"text":"void initState() {\n    super.initState();\n    _nameController = TextEditingController();\n    _phoneController = TextEditingController();\n    _crmController = TextEditingController();\n\n    // Load profile on init\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ProfileViewModel>().loadProfile();\n    });\n  }"}},{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":989,"line":33,"column":3},"end":{"offset":1123,"line":38,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _phoneController.dispose();\n    _crmController.dispose();\n    super.dispose();\n  }"}},{"message":"method _updateControllers increase metric value","codeSpan":{"start":{"offset":1172,"line":41,"column":3},"end":{"offset":1792,"line":56,"column":4},"text":"void _updateControllers(ProfileViewModel viewModel) {\n    if (viewModel.profile != null && !viewModel.isEditing) {\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":1808,"line":59,"column":3},"end":{"offset":8208,"line":228,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<ProfileViewModel>(\n        builder: (context, viewModel, _) {\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":641,"line":20,"column":3},"end":{"offset":973,"line":30,"column":4},"text":"void initState() {\n    super.initState();\n    _nameController = TextEditingController();\n    _phoneController = TextEditingController();\n    _crmController = TextEditingController();\n\n    // Load profile on init\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ProfileViewModel>().loadProfile();\n    });\n  }"}},{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":989,"line":33,"column":3},"end":{"offset":1123,"line":38,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _phoneController.dispose();\n    _crmController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":1808,"line":59,"column":3},"end":{"offset":8208,"line":228,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<ProfileViewModel>(\n        builder: (context, viewModel, _) {\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"ProfileScreen.ProfileScreen":{"codeSpan":{"start":{"offset":318,"line":8,"column":3},"end":{"offset":351,"line":8,"column":36},"text":"const ProfileScreen({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ProfileScreen.createState":{"codeSpan":{"start":{"offset":367,"line":11,"column":3},"end":{"offset":427,"line":11,"column":63},"text":"State<ProfileScreen> createState() => _ProfileScreenState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":365,"line":11,"column":0},"end":{"offset":365,"line":11,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_ProfileScreenState.initState":{"codeSpan":{"start":{"offset":641,"line":20,"column":3},"end":{"offset":973,"line":30,"column":4},"text":"void initState() {\n    super.initState();\n    _nameController = TextEditingController();\n    _phoneController = TextEditingController();\n    _crmController = TextEditingController();\n\n    // Load profile on init\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ProfileViewModel>().loadProfile();\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":104.0,"level":"none","comment":"This method has a halstead volume of 104.0.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This method has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":658,"line":20,"column":20},"end":{"offset":973,"line":30,"column":4},"text":"{\n    super.initState();\n    _nameController = TextEditingController();\n    _phoneController = TextEditingController();\n    _crmController = TextEditingController();\n\n    // Load profile on init\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<ProfileViewModel>().loadProfile();\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":906,"line":27,"column":54},"end":{"offset":967,"line":29,"column":6},"text":"{\n      context.read<ProfileViewModel>().loadProfile();\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":660,"line":21,"column":0},"end":{"offset":660,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":683,"line":22,"column":0},"end":{"offset":683,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":730,"line":23,"column":0},"end":{"offset":730,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":778,"line":24,"column":0},"end":{"offset":778,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":853,"line":27,"column":0},"end":{"offset":853,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":908,"line":28,"column":0},"end":{"offset":908,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":962,"line":29,"column":0},"end":{"offset":962,"line":29,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ProfileScreenState.dispose":{"codeSpan":{"start":{"offset":989,"line":33,"column":3},"end":{"offset":1123,"line":38,"column":4},"text":"void dispose() {\n    _nameController.dispose();\n    _phoneController.dispose();\n    _crmController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":14.0,"level":"none","comment":"This method has a halstead volume of 14.0.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1004,"line":33,"column":18},"end":{"offset":1123,"line":38,"column":4},"text":"{\n    _nameController.dispose();\n    _phoneController.dispose();\n    _crmController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1006,"line":34,"column":0},"end":{"offset":1006,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1037,"line":35,"column":0},"end":{"offset":1037,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1069,"line":36,"column":0},"end":{"offset":1069,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1099,"line":37,"column":0},"end":{"offset":1099,"line":37,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":79,"level":"warning","comment":"This method has 79 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ProfileScreenState._updateControllers":{"codeSpan":{"start":{"offset":1172,"line":41,"column":3},"end":{"offset":1792,"line":56,"column":4},"text":"void _updateControllers(ProfileViewModel viewModel) {\n    if (viewModel.profile != null && !viewModel.isEditing) {\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":10,"level":"alarm","comment":"This method has a cyclomatic complexity of 10, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1230,"line":42,"column":5},"end":{"offset":1788,"line":55,"column":6},"text":"if (viewModel.profile != null && !viewModel.isEditing) {\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1260,"line":42,"column":35},"end":{"offset":1262,"line":42,"column":37},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1293,"line":43,"column":7},"end":{"offset":1411,"line":45,"column":8},"text":"if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1418,"line":46,"column":7},"end":{"offset":1647,"line":51,"column":8},"text":"if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1517,"line":47,"column":37},"end":{"offset":1519,"line":47,"column":39},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1622,"line":49,"column":36},"end":{"offset":1624,"line":49,"column":38},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1654,"line":52,"column":7},"end":{"offset":1782,"line":54,"column":8},"text":"if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1705,"line":52,"column":58},"end":{"offset":1707,"line":52,"column":60},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1768,"line":53,"column":54},"end":{"offset":1770,"line":53,"column":56},"text":"??"}}]},{"metricsId":"halstead-volume","value":242.13186826628436,"level":"none","comment":"This method has a halstead volume of 242.13186826628436.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1224,"line":41,"column":55},"end":{"offset":1792,"line":56,"column":4},"text":"{\n    if (viewModel.profile != null && !viewModel.isEditing) {\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1285,"line":42,"column":60},"end":{"offset":1788,"line":55,"column":6},"text":"{\n      if (_nameController.text != viewModel.profile!.name) {\n        _nameController.text = viewModel.profile!.name;\n      }\n      if (_phoneController.text.replaceAll(RegExp(r'[^0-9]'), '') !=\n          (viewModel.profile!.phone ?? '')) {\n        _phoneController.text = PhoneInputFormatter.format(\n          viewModel.profile!.phone ?? '',\n        );\n      }\n      if (_crmController.text != (viewModel.profile!.crm ?? '')) {\n        _crmController.text = viewModel.profile!.crm ?? '';\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1346,"line":43,"column":60},"end":{"offset":1411,"line":45,"column":8},"text":"{\n        _nameController.text = viewModel.profile!.name;\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1226,"line":42,"column":0},"end":{"offset":1226,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1287,"line":43,"column":0},"end":{"offset":1287,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1348,"line":44,"column":0},"end":{"offset":1348,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1404,"line":45,"column":0},"end":{"offset":1404,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1412,"line":46,"column":0},"end":{"offset":1412,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1481,"line":47,"column":0},"end":{"offset":1481,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1527,"line":48,"column":0},"end":{"offset":1527,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1587,"line":49,"column":0},"end":{"offset":1587,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1629,"line":50,"column":0},"end":{"offset":1629,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1640,"line":51,"column":0},"end":{"offset":1640,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1648,"line":52,"column":0},"end":{"offset":1648,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1715,"line":53,"column":0},"end":{"offset":1715,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1775,"line":54,"column":0},"end":{"offset":1775,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1783,"line":55,"column":0},"end":{"offset":1783,"line":55,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_ProfileScreenState.build":{"codeSpan":{"start":{"offset":1808,"line":59,"column":3},"end":{"offset":8208,"line":228,"column":4},"text":"Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<ProfileViewModel>(\n        builder: (context, viewModel, _) {\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":13,"level":"alarm","comment":"This method has a cyclomatic complexity of 13, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2041,"line":66,"column":11},"end":{"offset":2177,"line":68,"column":12},"text":"if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2065,"line":66,"column":35},"end":{"offset":2067,"line":66,"column":37},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2189,"line":70,"column":11},"end":{"offset":2342,"line":72,"column":12},"text":"if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2224,"line":70,"column":46},"end":{"offset":2226,"line":70,"column":48},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2399,"line":75,"column":11},"end":{"offset":2451,"line":75,"column":63},"text":"if (profile == null) return const SizedBox.shrink();"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2513,"line":78,"column":28},"end":{"offset":2642,"line":80,"column":20},"text":"profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?'"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":3479,"line":104,"column":25},"end":{"offset":3534,"line":104,"column":80},"text":"viewModel.isEditing ? Icons.check : Icons.edit_outlined"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3720,"line":109,"column":25},"end":{"offset":4083,"line":117,"column":26},"text":"if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":6142,"line":171,"column":29},"end":{"offset":6257,"line":173,"column":43},"text":"viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":6805,"line":187,"column":29},"end":{"offset":6920,"line":189,"column":43},"text":"viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":7316,"line":200,"column":31},"end":{"offset":7435,"line":202,"column":45},"text":"viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":7870,"line":215,"column":32},"end":{"offset":7978,"line":217,"column":58},"text":"viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context)"}}]},{"metricsId":"halstead-volume","value":3942.163156777453,"level":"none","comment":"This method has a halstead volume of 3942.163156777453.","context":[]},{"metricsId":"lines-of-code","value":171,"unitType":"lines","level":"none","comment":"This method has 171 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1843,"line":59,"column":38},"end":{"offset":8208,"line":228,"column":4},"text":"{\n    return Scaffold(\n      appBar: AppBar(toolbarHeight: 0),\n      body: Consumer<ProfileViewModel>(\n        builder: (context, viewModel, _) {\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1987,"line":63,"column":42},"end":{"offset":8187,"line":225,"column":10},"text":"{\n          _updateControllers(viewModel);\n\n          if (viewModel.isLoading && viewModel.profile == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (viewModel.errorMessage != null && viewModel.profile == null) {\n            return Center(child: Text('Erro: ${viewModel.errorMessage}'));\n          }\n\n          final profile = viewModel.profile;\n          if (profile == null) return const SizedBox.shrink();\n\n          // Initials for avatar\n          final initials = profile.name.trim().isNotEmpty\n              ? profile.name.trim().split(' ').map((e) => e[0]).take(2).join()\n              : '?';\n\n          return SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(\n              horizontal: 24.0,\n              vertical: 24.0,\n            ),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                  children: [\n                    Text(\n                      'Perfil',\n                      style: TextStyle(\n                        fontSize: 28,\n                        fontWeight: FontWeight.w800,\n                        color: Theme.of(context).primaryColor,\n                        letterSpacing: -0.5,\n                      ),\n                    ),\n                    IconButton(\n                      icon: Icon(\n                        viewModel.isEditing ? Icons.check : Icons.edit_outlined,\n                        color: Theme.of(context).primaryColor,\n                        size: 28,\n                      ),\n                      onPressed: () {\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 32),\n                Center(\n                  child: Column(\n                    children: [\n                      Container(\n                        padding: const EdgeInsets.all(4),\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          border: Border.all(\n                            color: Theme.of(\n                              context,\n                            ).primaryColor.withOpacity(0.2),\n                            width: 3,\n                          ),\n                        ),\n                        child: CircleAvatar(\n                          radius: 56,\n                          backgroundColor: Theme.of(\n                            context,\n                          ).primaryColor.withOpacity(0.1),\n                          child: Text(\n                            initials.toUpperCase(),\n                            style: TextStyle(\n                              fontSize: 40,\n                              fontWeight: FontWeight.bold,\n                              color: Theme.of(context).primaryColor,\n                            ),\n                          ),\n                        ),\n                      ),\n                      const SizedBox(height: 16),\n                      Text(\n                        profile.email,\n                        style: TextStyle(\n                          fontSize: 16,\n                          color: Colors.grey[600],\n                          fontWeight: FontWeight.w500,\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n                const SizedBox(height: 48),\n\n                TextFormField(\n                  controller: _nameController,\n                  readOnly: !viewModel.isEditing,\n                  decoration: InputDecoration(\n                    labelText: 'Nome',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n                const SizedBox(height: 16),\n                TextFormField(\n                  controller: _phoneController,\n                  readOnly: !viewModel.isEditing,\n                  keyboardType: TextInputType.number,\n                  inputFormatters: [\n                    FilteringTextInputFormatter.digitsOnly,\n                    PhoneInputFormatter(),\n                  ],\n                  decoration: InputDecoration(\n                    labelText: 'Telefone',\n                    border: viewModel.isEditing\n                        ? const OutlineInputBorder()\n                        : InputBorder.none,\n                  ),\n                ),\n\n                if (profile.userType == 'medico') ...[\n                  const SizedBox(height: 16),\n                  TextFormField(\n                    controller: _crmController,\n                    readOnly: !viewModel.isEditing,\n                    decoration: InputDecoration(\n                      labelText: 'CRM',\n                      border: viewModel.isEditing\n                          ? const OutlineInputBorder()\n                          : InputBorder.none,\n                    ),\n                  ),\n                ],\n\n                const SizedBox(height: 48),\n                SizedBox(\n                  width: double.infinity,\n                  child: ElevatedButton.icon(\n                    style: ElevatedButton.styleFrom(\n                      backgroundColor: Colors.red,\n                      foregroundColor: Colors.white,\n                    ),\n                    onPressed: viewModel.isLoading\n                        ? null\n                        : () => viewModel.logout(context),\n                    icon: const Icon(Icons.logout),\n                    label: const Text('Sair do Aplicativo'),\n                  ),\n                ),\n              ],\n            ),\n          );\n        }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3694,"line":108,"column":37},"end":{"offset":4107,"line":118,"column":24},"text":"{\n                        if (viewModel.isEditing) {\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        } else {\n                          viewModel.toggleEdit();\n                        }\n                      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3745,"line":109,"column":50},"end":{"offset":4000,"line":115,"column":26},"text":"{\n                          viewModel.saveProfile(\n                            _nameController.text,\n                            _phoneController.text,\n                            _crmController.text,\n                          );\n                        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":159,"unitType":"lines","level":"none","comment":"This method has 159 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1845,"line":60,"column":0},"end":{"offset":1845,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1866,"line":61,"column":0},"end":{"offset":1866,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1906,"line":62,"column":0},"end":{"offset":1906,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1946,"line":63,"column":0},"end":{"offset":1946,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1989,"line":64,"column":0},"end":{"offset":1989,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2031,"line":66,"column":0},"end":{"offset":2031,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2097,"line":67,"column":0},"end":{"offset":2097,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2166,"line":68,"column":0},"end":{"offset":2166,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2179,"line":70,"column":0},"end":{"offset":2179,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2256,"line":71,"column":0},"end":{"offset":2256,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2331,"line":72,"column":0},"end":{"offset":2331,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2344,"line":74,"column":0},"end":{"offset":2344,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2389,"line":75,"column":0},"end":{"offset":2389,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2486,"line":78,"column":0},"end":{"offset":2486,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2544,"line":79,"column":0},"end":{"offset":2544,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2623,"line":80,"column":0},"end":{"offset":2623,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2645,"line":82,"column":0},"end":{"offset":2645,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2685,"line":83,"column":0},"end":{"offset":2685,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2734,"line":84,"column":0},"end":{"offset":2734,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2766,"line":85,"column":0},"end":{"offset":2766,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2796,"line":86,"column":0},"end":{"offset":2796,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2811,"line":87,"column":0},"end":{"offset":2811,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2838,"line":88,"column":0},"end":{"offset":2838,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2898,"line":89,"column":0},"end":{"offset":2898,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2924,"line":90,"column":0},"end":{"offset":2924,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2945,"line":91,"column":0},"end":{"offset":2945,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3014,"line":92,"column":0},"end":{"offset":3014,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3044,"line":93,"column":0},"end":{"offset":3044,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3070,"line":94,"column":0},"end":{"offset":3070,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3102,"line":95,"column":0},"end":{"offset":3102,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3142,"line":96,"column":0},"end":{"offset":3142,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3180,"line":97,"column":0},"end":{"offset":3180,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3233,"line":98,"column":0},"end":{"offset":3233,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3296,"line":99,"column":0},"end":{"offset":3296,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3341,"line":100,"column":0},"end":{"offset":3341,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3366,"line":101,"column":0},"end":{"offset":3366,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3389,"line":102,"column":0},"end":{"offset":3389,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3421,"line":103,"column":0},"end":{"offset":3421,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3455,"line":104,"column":0},"end":{"offset":3455,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3536,"line":105,"column":0},"end":{"offset":3536,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3599,"line":106,"column":0},"end":{"offset":3599,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3633,"line":107,"column":0},"end":{"offset":3633,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3658,"line":108,"column":0},"end":{"offset":3658,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3696,"line":109,"column":0},"end":{"offset":3696,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3747,"line":110,"column":0},"end":{"offset":3747,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3796,"line":111,"column":0},"end":{"offset":3796,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3846,"line":112,"column":0},"end":{"offset":3846,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3897,"line":113,"column":0},"end":{"offset":3897,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3946,"line":114,"column":0},"end":{"offset":3946,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3975,"line":115,"column":0},"end":{"offset":3975,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4008,"line":116,"column":0},"end":{"offset":4008,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4058,"line":117,"column":0},"end":{"offset":4058,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4084,"line":118,"column":0},"end":{"offset":4084,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4109,"line":119,"column":0},"end":{"offset":4109,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4132,"line":120,"column":0},"end":{"offset":4132,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4153,"line":121,"column":0},"end":{"offset":4153,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4172,"line":122,"column":0},"end":{"offset":4172,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4216,"line":123,"column":0},"end":{"offset":4216,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4240,"line":124,"column":0},"end":{"offset":4240,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4273,"line":125,"column":0},"end":{"offset":4273,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4305,"line":126,"column":0},"end":{"offset":4305,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4338,"line":127,"column":0},"end":{"offset":4338,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4396,"line":128,"column":0},"end":{"offset":4396,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4447,"line":129,"column":0},"end":{"offset":4447,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4497,"line":130,"column":0},"end":{"offset":4497,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4543,"line":131,"column":0},"end":{"offset":4543,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4588,"line":132,"column":0},"end":{"offset":4588,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4627,"line":133,"column":0},"end":{"offset":4627,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4688,"line":134,"column":0},"end":{"offset":4688,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4726,"line":135,"column":0},"end":{"offset":4726,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4755,"line":136,"column":0},"end":{"offset":4755,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4782,"line":137,"column":0},"end":{"offset":4782,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4827,"line":138,"column":0},"end":{"offset":4827,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4865,"line":139,"column":0},"end":{"offset":4865,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4918,"line":140,"column":0},"end":{"offset":4918,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4955,"line":141,"column":0},"end":{"offset":4955,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5014,"line":142,"column":0},"end":{"offset":5014,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5053,"line":143,"column":0},"end":{"offset":5053,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5105,"line":144,"column":0},"end":{"offset":5105,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5151,"line":145,"column":0},"end":{"offset":5151,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5195,"line":146,"column":0},"end":{"offset":5195,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5254,"line":147,"column":0},"end":{"offset":5254,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5323,"line":148,"column":0},"end":{"offset":5323,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5354,"line":149,"column":0},"end":{"offset":5354,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5383,"line":150,"column":0},"end":{"offset":5383,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5410,"line":151,"column":0},"end":{"offset":5410,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5435,"line":152,"column":0},"end":{"offset":5435,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5485,"line":153,"column":0},"end":{"offset":5485,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5513,"line":154,"column":0},"end":{"offset":5513,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5552,"line":155,"column":0},"end":{"offset":5552,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5594,"line":156,"column":0},"end":{"offset":5594,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5634,"line":157,"column":0},"end":{"offset":5634,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5685,"line":158,"column":0},"end":{"offset":5685,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5740,"line":159,"column":0},"end":{"offset":5740,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5767,"line":160,"column":0},"end":{"offset":5767,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5792,"line":161,"column":0},"end":{"offset":5792,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5815,"line":162,"column":0},"end":{"offset":5815,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5836,"line":163,"column":0},"end":{"offset":5836,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5855,"line":164,"column":0},"end":{"offset":5855,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5900,"line":166,"column":0},"end":{"offset":5900,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5931,"line":167,"column":0},"end":{"offset":5931,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5978,"line":168,"column":0},"end":{"offset":5978,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6028,"line":169,"column":0},"end":{"offset":6028,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6075,"line":170,"column":0},"end":{"offset":6075,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6114,"line":171,"column":0},"end":{"offset":6114,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6162,"line":172,"column":0},"end":{"offset":6162,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6215,"line":173,"column":0},"end":{"offset":6215,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6259,"line":174,"column":0},"end":{"offset":6259,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6280,"line":175,"column":0},"end":{"offset":6280,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6299,"line":176,"column":0},"end":{"offset":6299,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6343,"line":177,"column":0},"end":{"offset":6343,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6374,"line":178,"column":0},"end":{"offset":6374,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6422,"line":179,"column":0},"end":{"offset":6422,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6472,"line":180,"column":0},"end":{"offset":6472,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6526,"line":181,"column":0},"end":{"offset":6526,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6563,"line":182,"column":0},"end":{"offset":6563,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6623,"line":183,"column":0},"end":{"offset":6623,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6666,"line":184,"column":0},"end":{"offset":6666,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6687,"line":185,"column":0},"end":{"offset":6687,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6734,"line":186,"column":0},"end":{"offset":6734,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6777,"line":187,"column":0},"end":{"offset":6777,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6825,"line":188,"column":0},"end":{"offset":6825,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6878,"line":189,"column":0},"end":{"offset":6878,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6922,"line":190,"column":0},"end":{"offset":6922,"line":190,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6943,"line":191,"column":0},"end":{"offset":6943,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6963,"line":193,"column":0},"end":{"offset":6963,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7018,"line":194,"column":0},"end":{"offset":7018,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7064,"line":195,"column":0},"end":{"offset":7064,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7097,"line":196,"column":0},"end":{"offset":7097,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7145,"line":197,"column":0},"end":{"offset":7145,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7197,"line":198,"column":0},"end":{"offset":7197,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7246,"line":199,"column":0},"end":{"offset":7246,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7286,"line":200,"column":0},"end":{"offset":7286,"line":200,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7336,"line":201,"column":0},"end":{"offset":7336,"line":201,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7391,"line":202,"column":0},"end":{"offset":7391,"line":202,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7437,"line":203,"column":0},"end":{"offset":7437,"line":203,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7460,"line":204,"column":0},"end":{"offset":7460,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7481,"line":205,"column":0},"end":{"offset":7481,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7501,"line":207,"column":0},"end":{"offset":7501,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7545,"line":208,"column":0},"end":{"offset":7545,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7571,"line":209,"column":0},"end":{"offset":7571,"line":209,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7613,"line":210,"column":0},"end":{"offset":7613,"line":210,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7659,"line":211,"column":0},"end":{"offset":7659,"line":211,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7712,"line":212,"column":0},"end":{"offset":7712,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7763,"line":213,"column":0},"end":{"offset":7763,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7816,"line":214,"column":0},"end":{"offset":7816,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7839,"line":215,"column":0},"end":{"offset":7839,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7890,"line":216,"column":0},"end":{"offset":7890,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7921,"line":217,"column":0},"end":{"offset":7921,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7980,"line":218,"column":0},"end":{"offset":7980,"line":218,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8032,"line":219,"column":0},"end":{"offset":8032,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8093,"line":220,"column":0},"end":{"offset":8093,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8114,"line":221,"column":0},"end":{"offset":8114,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8133,"line":222,"column":0},"end":{"offset":8133,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8150,"line":223,"column":0},"end":{"offset":8150,"line":223,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8165,"line":224,"column":0},"end":{"offset":8165,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8178,"line":225,"column":0},"end":{"offset":8178,"line":225,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8189,"line":226,"column":0},"end":{"offset":8189,"line":226,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8198,"line":227,"column":0},"end":{"offset":8198,"line":227,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":26,"level":"alarm","comment":"This method has 26 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/infra/datasources/profile_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileRemoteDataSource":{"codeSpan":{"start":{"offset":212,"line":6,"column":1},"end":{"offset":369,"line":10,"column":2},"text":"abstract class ProfileRemoteDataSource {\n  Future<ProfileModel> getProfile();\n  Future<void> updateProfile(ProfileEntity profile);\n  Future<void> logout();\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method getProfile increase metric value","codeSpan":{"start":{"offset":255,"line":7,"column":3},"end":{"offset":289,"line":7,"column":37},"text":"Future<ProfileModel> getProfile();"}},{"message":"method updateProfile increase metric value","codeSpan":{"start":{"offset":292,"line":8,"column":3},"end":{"offset":342,"line":8,"column":53},"text":"Future<void> updateProfile(ProfileEntity profile);"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":345,"line":9,"column":3},"end":{"offset":367,"line":9,"column":25},"text":"Future<void> logout();"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method getProfile increase metric value","codeSpan":{"start":{"offset":255,"line":7,"column":3},"end":{"offset":289,"line":7,"column":37},"text":"Future<ProfileModel> getProfile();"}},{"message":"functional method updateProfile increase metric value","codeSpan":{"start":{"offset":292,"line":8,"column":3},"end":{"offset":342,"line":8,"column":53},"text":"Future<void> updateProfile(ProfileEntity profile);"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":345,"line":9,"column":3},"end":{"offset":367,"line":9,"column":25},"text":"Future<void> logout();"}}]}]},"ParseProfileDataSourceImpl":{"codeSpan":{"start":{"offset":371,"line":12,"column":1},"end":{"offset":1900,"line":65,"column":2},"text":"class ParseProfileDataSourceImpl implements ProfileRemoteDataSource {\n  @override\n  Future<ProfileModel> getProfile() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final response = await user.getUpdatedUser();\n    if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }\n  }\n\n  @override\n  Future<void> updateProfile(ProfileEntity profile) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    user.set('name', profile.name);\n    if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }\n    if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }\n\n    final response = await user.save();\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }\n  }\n\n  @override\n  Future<void> logout() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method getProfile increase metric value","codeSpan":{"start":{"offset":455,"line":14,"column":3},"end":{"offset":956,"line":28,"column":4},"text":"Future<ProfileModel> getProfile() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final response = await user.getUpdatedUser();\n    if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }\n  }"}},{"message":"method updateProfile increase metric value","codeSpan":{"start":{"offset":972,"line":31,"column":3},"end":{"offset":1566,"line":51,"column":4},"text":"Future<void> updateProfile(ProfileEntity profile) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    user.set('name', profile.name);\n    if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }\n    if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }\n\n    final response = await user.save();\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }\n  }"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":1582,"line":54,"column":3},"end":{"offset":1898,"line":64,"column":4},"text":"Future<void> logout() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method getProfile increase metric value","codeSpan":{"start":{"offset":455,"line":14,"column":3},"end":{"offset":956,"line":28,"column":4},"text":"Future<ProfileModel> getProfile() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final response = await user.getUpdatedUser();\n    if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }\n  }"}},{"message":"functional method updateProfile increase metric value","codeSpan":{"start":{"offset":972,"line":31,"column":3},"end":{"offset":1566,"line":51,"column":4},"text":"Future<void> updateProfile(ProfileEntity profile) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    user.set('name', profile.name);\n    if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }\n    if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }\n\n    final response = await user.save();\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }\n  }"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":1582,"line":54,"column":3},"end":{"offset":1898,"line":64,"column":4},"text":"Future<void> logout() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }\n  }"}}]}]}},"functions":{"ProfileRemoteDataSource.getProfile":{"codeSpan":{"start":{"offset":255,"line":7,"column":3},"end":{"offset":289,"line":7,"column":37},"text":"Future<ProfileModel> getProfile();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ProfileRemoteDataSource.updateProfile":{"codeSpan":{"start":{"offset":292,"line":8,"column":3},"end":{"offset":342,"line":8,"column":53},"text":"Future<void> updateProfile(ProfileEntity profile);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ProfileRemoteDataSource.logout":{"codeSpan":{"start":{"offset":345,"line":9,"column":3},"end":{"offset":367,"line":9,"column":25},"text":"Future<void> logout();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ParseProfileDataSourceImpl.getProfile":{"codeSpan":{"start":{"offset":455,"line":14,"column":3},"end":{"offset":956,"line":28,"column":4},"text":"Future<ProfileModel> getProfile() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final response = await user.getUpdatedUser();\n    if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":563,"line":16,"column":5},"end":{"offset":654,"line":18,"column":6},"text":"if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":710,"line":21,"column":5},"end":{"offset":952,"line":27,"column":6},"text":"if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":731,"line":21,"column":26},"end":{"offset":733,"line":21,"column":28},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":901,"line":25,"column":32},"end":{"offset":903,"line":25,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":911,"line":25,"column":42},"end":{"offset":913,"line":25,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":158.12342722003538,"level":"none","comment":"This method has a halstead volume of 158.12342722003538.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":495,"line":14,"column":43},"end":{"offset":956,"line":28,"column":4},"text":"{\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    final response = await user.getUpdatedUser();\n    if (response.success && response.result != null) {\n      return ProfileModel.fromParse(response.result as ParseUser);\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch user',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":581,"line":16,"column":23},"end":{"offset":654,"line":18,"column":6},"text":"{\n      throw const ServerException(message: 'User not logged in');\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This method has 12 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":497,"line":15,"column":0},"end":{"offset":497,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":559,"line":16,"column":0},"end":{"offset":559,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":583,"line":17,"column":0},"end":{"offset":583,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":649,"line":18,"column":0},"end":{"offset":649,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":656,"line":20,"column":0},"end":{"offset":656,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":706,"line":21,"column":0},"end":{"offset":706,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":761,"line":22,"column":0},"end":{"offset":761,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":828,"line":23,"column":0},"end":{"offset":828,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":841,"line":24,"column":0},"end":{"offset":841,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":870,"line":25,"column":0},"end":{"offset":870,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":938,"line":26,"column":0},"end":{"offset":938,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":947,"line":27,"column":0},"end":{"offset":947,"line":27,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This method has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseProfileDataSourceImpl.updateProfile":{"codeSpan":{"start":{"offset":972,"line":31,"column":3},"end":{"offset":1566,"line":51,"column":4},"text":"Future<void> updateProfile(ProfileEntity profile) async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    user.set('name', profile.name);\n    if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }\n    if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }\n\n    final response = await user.save();\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1096,"line":33,"column":5},"end":{"offset":1187,"line":35,"column":6},"text":"if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1229,"line":38,"column":5},"end":{"offset":1303,"line":40,"column":6},"text":"if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1308,"line":41,"column":5},"end":{"offset":1376,"line":43,"column":6},"text":"if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1422,"line":46,"column":5},"end":{"offset":1562,"line":50,"column":6},"text":"if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1507,"line":48,"column":32},"end":{"offset":1509,"line":48,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1517,"line":48,"column":42},"end":{"offset":1519,"line":48,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":203.5602880225656,"level":"none","comment":"This method has a halstead volume of 203.5602880225656.","context":[]},{"metricsId":"lines-of-code","value":22,"unitType":"lines","level":"none","comment":"This method has 22 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1028,"line":31,"column":59},"end":{"offset":1566,"line":51,"column":4},"text":"{\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user == null) {\n      throw const ServerException(message: 'User not logged in');\n    }\n\n    user.set('name', profile.name);\n    if (profile.phone != null) {\n      user.set('phone', profile.phone);\n    }\n    if (profile.crm != null) {\n      user.set('crm', profile.crm);\n    }\n\n    final response = await user.save();\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to update profile',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1114,"line":33,"column":23},"end":{"offset":1187,"line":35,"column":6},"text":"{\n      throw const ServerException(message: 'User not logged in');\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":17,"unitType":"lines","level":"none","comment":"This method has 17 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1030,"line":32,"column":0},"end":{"offset":1030,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1092,"line":33,"column":0},"end":{"offset":1092,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1116,"line":34,"column":0},"end":{"offset":1116,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1182,"line":35,"column":0},"end":{"offset":1182,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1189,"line":37,"column":0},"end":{"offset":1189,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1225,"line":38,"column":0},"end":{"offset":1225,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1258,"line":39,"column":0},"end":{"offset":1258,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1298,"line":40,"column":0},"end":{"offset":1298,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1304,"line":41,"column":0},"end":{"offset":1304,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1335,"line":42,"column":0},"end":{"offset":1335,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1371,"line":43,"column":0},"end":{"offset":1371,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1378,"line":45,"column":0},"end":{"offset":1378,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1418,"line":46,"column":0},"end":{"offset":1418,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1447,"line":47,"column":0},"end":{"offset":1447,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1476,"line":48,"column":0},"end":{"offset":1476,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1548,"line":49,"column":0},"end":{"offset":1548,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1557,"line":50,"column":0},"end":{"offset":1557,"line":50,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseProfileDataSourceImpl.logout":{"codeSpan":{"start":{"offset":1582,"line":54,"column":3},"end":{"offset":1898,"line":64,"column":4},"text":"Future<void> logout() async {\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This method has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1678,"line":56,"column":5},"end":{"offset":1894,"line":63,"column":6},"text":"if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1748,"line":58,"column":7},"end":{"offset":1888,"line":62,"column":8},"text":"if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1837,"line":60,"column":34},"end":{"offset":1839,"line":60,"column":36},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1847,"line":60,"column":44},"end":{"offset":1849,"line":60,"column":46},"text":"??"}}]},{"metricsId":"halstead-volume","value":102.1865710312585,"level":"none","comment":"This method has a halstead volume of 102.1865710312585.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This method has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1610,"line":54,"column":31},"end":{"offset":1898,"line":64,"column":4},"text":"{\n    final user = await ParseUser.currentUser() as ParseUser?;\n    if (user != null) {\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1696,"line":56,"column":23},"end":{"offset":1894,"line":63,"column":6},"text":"{\n      final response = await user.logout();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1771,"line":58,"column":30},"end":{"offset":1888,"line":62,"column":8},"text":"{\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to logout',\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1612,"line":55,"column":0},"end":{"offset":1612,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1674,"line":56,"column":0},"end":{"offset":1674,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1698,"line":57,"column":0},"end":{"offset":1698,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1742,"line":58,"column":0},"end":{"offset":1742,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1773,"line":59,"column":0},"end":{"offset":1773,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1804,"line":60,"column":0},"end":{"offset":1804,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1870,"line":61,"column":0},"end":{"offset":1870,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1881,"line":62,"column":0},"end":{"offset":1881,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1889,"line":63,"column":0},"end":{"offset":1889,"line":63,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":65,"level":"warning","comment":"This method has 65 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/infra/repositories/profile_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileRepositoryImpl":{"codeSpan":{"start":{"offset":298,"line":8,"column":1},"end":{"offset":1432,"line":48,"column":2},"text":"class ProfileRepositoryImpl implements ProfileRepository {\n  final ProfileRemoteDataSource remoteDataSource;\n\n  ProfileRepositoryImpl(this.remoteDataSource);\n\n  @override\n  Future<Either<Failure, ProfileEntity>> getProfile() async {\n    try {\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }\n\n  @override\n  Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile) async {\n    try {\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }\n\n  @override\n  Future<Either<Failure, Unit>> logout() async {\n    try {\n      await remoteDataSource.logout();\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"constructor ProfileRepositoryImpl increase metric value","codeSpan":{"start":{"offset":410,"line":11,"column":3},"end":{"offset":455,"line":11,"column":48},"text":"ProfileRepositoryImpl(this.remoteDataSource);"}},{"message":"method getProfile increase metric value","codeSpan":{"start":{"offset":471,"line":14,"column":3},"end":{"offset":786,"line":23,"column":4},"text":"Future<Either<Failure, ProfileEntity>> getProfile() async {\n    try {\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"method updateProfile increase metric value","codeSpan":{"start":{"offset":802,"line":26,"column":3},"end":{"offset":1129,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile) async {\n    try {\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":1145,"line":38,"column":3},"end":{"offset":1430,"line":47,"column":4},"text":"Future<Either<Failure, Unit>> logout() async {\n    try {\n      await remoteDataSource.logout();\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.75,"level":"none","comment":"This class has a weight of 0.75.","context":[{"message":"public constructor ProfileRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":410,"line":11,"column":3},"end":{"offset":455,"line":11,"column":48},"text":"ProfileRepositoryImpl(this.remoteDataSource);"}},{"message":"functional method getProfile increase metric value","codeSpan":{"start":{"offset":471,"line":14,"column":3},"end":{"offset":786,"line":23,"column":4},"text":"Future<Either<Failure, ProfileEntity>> getProfile() async {\n    try {\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"functional method updateProfile increase metric value","codeSpan":{"start":{"offset":802,"line":26,"column":3},"end":{"offset":1129,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile) async {\n    try {\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":1145,"line":38,"column":3},"end":{"offset":1430,"line":47,"column":4},"text":"Future<Either<Failure, Unit>> logout() async {\n    try {\n      await remoteDataSource.logout();\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}}]}]}},"functions":{"ProfileRepositoryImpl.ProfileRepositoryImpl":{"codeSpan":{"start":{"offset":410,"line":11,"column":3},"end":{"offset":455,"line":11,"column":48},"text":"ProfileRepositoryImpl(this.remoteDataSource);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ProfileRepositoryImpl.getProfile":{"codeSpan":{"start":{"offset":471,"line":14,"column":3},"end":{"offset":786,"line":23,"column":4},"text":"Future<Either<Failure, ProfileEntity>> getProfile() async {\n    try {\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":635,"line":18,"column":7},"end":{"offset":716,"line":20,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":717,"line":20,"column":7},"end":{"offset":782,"line":22,"column":6},"text":"catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }"}}]},{"metricsId":"halstead-volume","value":70.30835464468075,"level":"none","comment":"This method has a halstead volume of 70.30835464468075.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":529,"line":14,"column":61},"end":{"offset":786,"line":23,"column":4},"text":"{\n    try {\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":539,"line":15,"column":9},"end":{"offset":634,"line":18,"column":6},"text":"{\n      final profile = await remoteDataSource.getProfile();\n      return Right(profile);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":531,"line":15,"column":0},"end":{"offset":531,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":541,"line":16,"column":0},"end":{"offset":541,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":600,"line":17,"column":0},"end":{"offset":600,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":629,"line":18,"column":0},"end":{"offset":629,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":666,"line":19,"column":0},"end":{"offset":666,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":711,"line":20,"column":0},"end":{"offset":711,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":729,"line":21,"column":0},"end":{"offset":729,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":777,"line":22,"column":0},"end":{"offset":777,"line":22,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ProfileRepositoryImpl.updateProfile":{"codeSpan":{"start":{"offset":802,"line":26,"column":3},"end":{"offset":1129,"line":35,"column":4},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile) async {\n    try {\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":978,"line":30,"column":7},"end":{"offset":1059,"line":32,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1060,"line":32,"column":7},"end":{"offset":1125,"line":34,"column":6},"text":"catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }"}}]},{"metricsId":"halstead-volume","value":66.60791492653966,"level":"none","comment":"This method has a halstead volume of 66.60791492653966.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":875,"line":26,"column":76},"end":{"offset":1129,"line":35,"column":4},"text":"{\n    try {\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":885,"line":27,"column":9},"end":{"offset":977,"line":30,"column":6},"text":"{\n      await remoteDataSource.updateProfile(profile);\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":877,"line":27,"column":0},"end":{"offset":877,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":887,"line":28,"column":0},"end":{"offset":887,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":940,"line":29,"column":0},"end":{"offset":940,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":972,"line":30,"column":0},"end":{"offset":972,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1009,"line":31,"column":0},"end":{"offset":1009,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1054,"line":32,"column":0},"end":{"offset":1054,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1072,"line":33,"column":0},"end":{"offset":1072,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1120,"line":34,"column":0},"end":{"offset":1120,"line":34,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ProfileRepositoryImpl.logout":{"codeSpan":{"start":{"offset":1145,"line":38,"column":3},"end":{"offset":1430,"line":47,"column":4},"text":"Future<Either<Failure, Unit>> logout() async {\n    try {\n      await remoteDataSource.logout();\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1279,"line":42,"column":7},"end":{"offset":1360,"line":44,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1361,"line":44,"column":7},"end":{"offset":1426,"line":46,"column":6},"text":"catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }"}}]},{"metricsId":"halstead-volume","value":60.94436251225966,"level":"none","comment":"This method has a halstead volume of 60.94436251225966.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1190,"line":38,"column":48},"end":{"offset":1430,"line":47,"column":4},"text":"{\n    try {\n      await remoteDataSource.logout();\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure(e.toString()));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1200,"line":39,"column":9},"end":{"offset":1278,"line":42,"column":6},"text":"{\n      await remoteDataSource.logout();\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1192,"line":39,"column":0},"end":{"offset":1192,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1202,"line":40,"column":0},"end":{"offset":1202,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1241,"line":41,"column":0},"end":{"offset":1241,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1273,"line":42,"column":0},"end":{"offset":1273,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1310,"line":43,"column":0},"end":{"offset":1310,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1355,"line":44,"column":0},"end":{"offset":1355,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1373,"line":45,"column":0},"end":{"offset":1373,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1421,"line":46,"column":0},"end":{"offset":1421,"line":46,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/infra/models/profile_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileModel":{"codeSpan":{"start":{"offset":126,"line":4,"column":1},"end":{"offset":749,"line":27,"column":2},"text":"class ProfileModel extends ProfileEntity {\n  const ProfileModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.userType,\n    super.crm,\n    super.phone,\n  });\n\n  factory ProfileModel.fromParse(ParseUser user) {\n    return ProfileModel(\n      id: user.objectId!,\n      name:\n          user.get<String>('fullName') ??\n          user.get<String>('username') ??\n          'Sem Nome',\n      email: user.emailAddress ?? user.username ?? '',\n      userType: user.get<String>('userType') ?? '',\n      crm: user.get<String>('crm'),\n      phone: user.get<String>('phone'),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor ProfileModel increase metric value","codeSpan":{"start":{"offset":171,"line":5,"column":3},"end":{"offset":332,"line":12,"column":6},"text":"const ProfileModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.userType,\n    super.crm,\n    super.phone,\n  });"}},{"message":"constructor fromParse increase metric value","codeSpan":{"start":{"offset":336,"line":14,"column":3},"end":{"offset":747,"line":26,"column":4},"text":"factory ProfileModel.fromParse(ParseUser user) {\n    return ProfileModel(\n      id: user.objectId!,\n      name:\n          user.get<String>('fullName') ??\n          user.get<String>('username') ??\n          'Sem Nome',\n      email: user.emailAddress ?? user.username ?? '',\n      userType: user.get<String>('userType') ?? '',\n      crm: user.get<String>('crm'),\n      phone: user.get<String>('phone'),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor ProfileModel decrease metric value","codeSpan":{"start":{"offset":171,"line":5,"column":3},"end":{"offset":332,"line":12,"column":6},"text":"const ProfileModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.userType,\n    super.crm,\n    super.phone,\n  });"}},{"message":"public constructor fromParse decrease metric value","codeSpan":{"start":{"offset":336,"line":14,"column":3},"end":{"offset":747,"line":26,"column":4},"text":"factory ProfileModel.fromParse(ParseUser user) {\n    return ProfileModel(\n      id: user.objectId!,\n      name:\n          user.get<String>('fullName') ??\n          user.get<String>('username') ??\n          'Sem Nome',\n      email: user.emailAddress ?? user.username ?? '',\n      userType: user.get<String>('userType') ?? '',\n      crm: user.get<String>('crm'),\n      phone: user.get<String>('phone'),\n    );\n  }"}}]}]}},"functions":{"ProfileModel.ProfileModel":{"codeSpan":{"start":{"offset":171,"line":5,"column":3},"end":{"offset":332,"line":12,"column":6},"text":"const ProfileModel({\n    required super.id,\n    required super.name,\n    required super.email,\n    required super.userType,\n    super.crm,\n    super.phone,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This constructor has 8 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ProfileModel.fromParse":{"codeSpan":{"start":{"offset":336,"line":14,"column":3},"end":{"offset":747,"line":26,"column":4},"text":"factory ProfileModel.fromParse(ParseUser user) {\n    return ProfileModel(\n      id: user.objectId!,\n      name:\n          user.get<String>('fullName') ??\n          user.get<String>('username') ??\n          'Sem Nome',\n      email: user.emailAddress ?? user.username ?? '',\n      userType: user.get<String>('userType') ?? '',\n      crm: user.get<String>('crm'),\n      phone: user.get<String>('phone'),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This constructor has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":487,"line":18,"column":40},"end":{"offset":489,"line":18,"column":42},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":529,"line":19,"column":40},"end":{"offset":531,"line":19,"column":42},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":585,"line":21,"column":32},"end":{"offset":587,"line":21,"column":34},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":602,"line":21,"column":49},"end":{"offset":604,"line":21,"column":51},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":654,"line":22,"column":46},"end":{"offset":656,"line":22,"column":48},"text":"??"}}]},{"metricsId":"halstead-volume","value":179.84836501501496,"level":"none","comment":"This constructor has a halstead volume of 179.84836501501496.","context":[]},{"metricsId":"lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This constructor has 13 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This constructor has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":383,"line":14,"column":50},"end":{"offset":747,"line":26,"column":4},"text":"{\n    return ProfileModel(\n      id: user.objectId!,\n      name:\n          user.get<String>('fullName') ??\n          user.get<String>('username') ??\n          'Sem Nome',\n      email: user.emailAddress ?? user.username ?? '',\n      userType: user.get<String>('userType') ?? '',\n      crm: user.get<String>('crm'),\n      phone: user.get<String>('phone'),\n    );\n  }"}}]},{"metricsId":"source-lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This constructor has 11 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":385,"line":15,"column":0},"end":{"offset":385,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":410,"line":16,"column":0},"end":{"offset":410,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":436,"line":17,"column":0},"end":{"offset":436,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":448,"line":18,"column":0},"end":{"offset":448,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":490,"line":19,"column":0},"end":{"offset":490,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":532,"line":20,"column":0},"end":{"offset":532,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":554,"line":21,"column":0},"end":{"offset":554,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":609,"line":22,"column":0},"end":{"offset":609,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":661,"line":23,"column":0},"end":{"offset":661,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":697,"line":24,"column":0},"end":{"offset":697,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":737,"line":25,"column":0},"end":{"offset":737,"line":25,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This constructor has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/domain/repositories/profile_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileRepository":{"codeSpan":{"start":{"offset":125,"line":5,"column":1},"end":{"offset":328,"line":9,"column":2},"text":"abstract class ProfileRepository {\n  Future<Either<Failure, ProfileEntity>> getProfile();\n  Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile);\n  Future<Either<Failure, Unit>> logout();\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method getProfile increase metric value","codeSpan":{"start":{"offset":162,"line":6,"column":3},"end":{"offset":214,"line":6,"column":55},"text":"Future<Either<Failure, ProfileEntity>> getProfile();"}},{"message":"method updateProfile increase metric value","codeSpan":{"start":{"offset":217,"line":7,"column":3},"end":{"offset":284,"line":7,"column":70},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile);"}},{"message":"method logout increase metric value","codeSpan":{"start":{"offset":287,"line":8,"column":3},"end":{"offset":326,"line":8,"column":42},"text":"Future<Either<Failure, Unit>> logout();"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method getProfile increase metric value","codeSpan":{"start":{"offset":162,"line":6,"column":3},"end":{"offset":214,"line":6,"column":55},"text":"Future<Either<Failure, ProfileEntity>> getProfile();"}},{"message":"functional method updateProfile increase metric value","codeSpan":{"start":{"offset":217,"line":7,"column":3},"end":{"offset":284,"line":7,"column":70},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile);"}},{"message":"functional method logout increase metric value","codeSpan":{"start":{"offset":287,"line":8,"column":3},"end":{"offset":326,"line":8,"column":42},"text":"Future<Either<Failure, Unit>> logout();"}}]}]}},"functions":{"ProfileRepository.getProfile":{"codeSpan":{"start":{"offset":162,"line":6,"column":3},"end":{"offset":214,"line":6,"column":55},"text":"Future<Either<Failure, ProfileEntity>> getProfile();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ProfileRepository.updateProfile":{"codeSpan":{"start":{"offset":217,"line":7,"column":3},"end":{"offset":284,"line":7,"column":70},"text":"Future<Either<Failure, Unit>> updateProfile(ProfileEntity profile);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ProfileRepository.logout":{"codeSpan":{"start":{"offset":287,"line":8,"column":3},"end":{"offset":326,"line":8,"column":42},"text":"Future<Either<Failure, Unit>> logout();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/domain/usecases/update_profile_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"UpdateProfileUseCase":{"codeSpan":{"start":{"offset":175,"line":6,"column":1},"end":{"offset":398,"line":14,"column":2},"text":"class UpdateProfileUseCase {\n  final ProfileRepository repository;\n\n  UpdateProfileUseCase(this.repository);\n\n  Future<Either<Failure, Unit>> call(ProfileEntity profile) {\n    return repository.updateProfile(profile);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor UpdateProfileUseCase increase metric value","codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":283,"line":9,"column":41},"text":"UpdateProfileUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":287,"line":11,"column":3},"end":{"offset":396,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(ProfileEntity profile) {\n    return repository.updateProfile(profile);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor UpdateProfileUseCase decrease metric value","codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":283,"line":9,"column":41},"text":"UpdateProfileUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":287,"line":11,"column":3},"end":{"offset":396,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(ProfileEntity profile) {\n    return repository.updateProfile(profile);\n  }"}}]}]}},"functions":{"UpdateProfileUseCase.UpdateProfileUseCase":{"codeSpan":{"start":{"offset":245,"line":9,"column":3},"end":{"offset":283,"line":9,"column":41},"text":"UpdateProfileUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"UpdateProfileUseCase.call":{"codeSpan":{"start":{"offset":287,"line":11,"column":3},"end":{"offset":396,"line":13,"column":4},"text":"Future<Either<Failure, Unit>> call(ProfileEntity profile) {\n    return repository.updateProfile(profile);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":4.754887502163469,"level":"none","comment":"This method has a halstead volume of 4.754887502163469.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":345,"line":11,"column":61},"end":{"offset":396,"line":13,"column":4},"text":"{\n    return repository.updateProfile(profile);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":347,"line":12,"column":0},"end":{"offset":347,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":96,"level":"warning","comment":"This method has 96 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/domain/usecases/logout_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"LogoutUseCase":{"codeSpan":{"start":{"offset":133,"line":5,"column":1},"end":{"offset":307,"line":13,"column":2},"text":"class LogoutUseCase {\n  final ProfileRepository repository;\n\n  LogoutUseCase(this.repository);\n\n  Future<Either<Failure, Unit>> call() {\n    return repository.logout();\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor LogoutUseCase increase metric value","codeSpan":{"start":{"offset":196,"line":8,"column":3},"end":{"offset":227,"line":8,"column":34},"text":"LogoutUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":231,"line":10,"column":3},"end":{"offset":305,"line":12,"column":4},"text":"Future<Either<Failure, Unit>> call() {\n    return repository.logout();\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor LogoutUseCase decrease metric value","codeSpan":{"start":{"offset":196,"line":8,"column":3},"end":{"offset":227,"line":8,"column":34},"text":"LogoutUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":231,"line":10,"column":3},"end":{"offset":305,"line":12,"column":4},"text":"Future<Either<Failure, Unit>> call() {\n    return repository.logout();\n  }"}}]}]}},"functions":{"LogoutUseCase.LogoutUseCase":{"codeSpan":{"start":{"offset":196,"line":8,"column":3},"end":{"offset":227,"line":8,"column":34},"text":"LogoutUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"LogoutUseCase.call":{"codeSpan":{"start":{"offset":231,"line":10,"column":3},"end":{"offset":305,"line":12,"column":4},"text":"Future<Either<Failure, Unit>> call() {\n    return repository.logout();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":2.0,"level":"none","comment":"This method has a halstead volume of 2.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":268,"line":10,"column":40},"end":{"offset":305,"line":12,"column":4},"text":"{\n    return repository.logout();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":270,"line":11,"column":0},"end":{"offset":270,"line":11,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":98,"level":"warning","comment":"This method has 98 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/domain/usecases/get_profile_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetProfileUseCase":{"codeSpan":{"start":{"offset":175,"line":6,"column":1},"end":{"offset":370,"line":14,"column":2},"text":"class GetProfileUseCase {\n  final ProfileRepository repository;\n\n  GetProfileUseCase(this.repository);\n\n  Future<Either<Failure, ProfileEntity>> call() {\n    return repository.getProfile();\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor GetProfileUseCase increase metric value","codeSpan":{"start":{"offset":242,"line":9,"column":3},"end":{"offset":277,"line":9,"column":38},"text":"GetProfileUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":281,"line":11,"column":3},"end":{"offset":368,"line":13,"column":4},"text":"Future<Either<Failure, ProfileEntity>> call() {\n    return repository.getProfile();\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor GetProfileUseCase decrease metric value","codeSpan":{"start":{"offset":242,"line":9,"column":3},"end":{"offset":277,"line":9,"column":38},"text":"GetProfileUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":281,"line":11,"column":3},"end":{"offset":368,"line":13,"column":4},"text":"Future<Either<Failure, ProfileEntity>> call() {\n    return repository.getProfile();\n  }"}}]}]}},"functions":{"GetProfileUseCase.GetProfileUseCase":{"codeSpan":{"start":{"offset":242,"line":9,"column":3},"end":{"offset":277,"line":9,"column":38},"text":"GetProfileUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetProfileUseCase.call":{"codeSpan":{"start":{"offset":281,"line":11,"column":3},"end":{"offset":368,"line":13,"column":4},"text":"Future<Either<Failure, ProfileEntity>> call() {\n    return repository.getProfile();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":2.0,"level":"none","comment":"This method has a halstead volume of 2.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":327,"line":11,"column":49},"end":{"offset":368,"line":13,"column":4},"text":"{\n    return repository.getProfile();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":329,"line":12,"column":0},"end":{"offset":329,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":98,"level":"warning","comment":"This method has 98 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/profile/domain/entities/profile_entity.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"ProfileEntity":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":459,"line":22,"column":2},"text":"class ProfileEntity extends Equatable {\n  final String id;\n  final String name;\n  final String email;\n  final String userType;\n  final String? crm;\n  final String? phone;\n\n  const ProfileEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.userType,\n    this.crm,\n    this.phone,\n  });\n\n  @override\n  List<Object?> get props => [id, name, email, userType, crm, phone];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor ProfileEntity increase metric value","codeSpan":{"start":{"offset":218,"line":11,"column":3},"end":{"offset":374,"line":18,"column":6},"text":"const ProfileEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.userType,\n    this.crm,\n    this.phone,\n  });"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":390,"line":21,"column":3},"end":{"offset":457,"line":21,"column":70},"text":"List<Object?> get props => [id, name, email, userType, crm, phone];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor ProfileEntity decrease metric value","codeSpan":{"start":{"offset":218,"line":11,"column":3},"end":{"offset":374,"line":18,"column":6},"text":"const ProfileEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.userType,\n    this.crm,\n    this.phone,\n  });"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":390,"line":21,"column":3},"end":{"offset":457,"line":21,"column":70},"text":"List<Object?> get props => [id, name, email, userType, crm, phone];"}}]}]}},"functions":{"ProfileEntity.ProfileEntity":{"codeSpan":{"start":{"offset":218,"line":11,"column":3},"end":{"offset":374,"line":18,"column":6},"text":"const ProfileEntity({\n    required this.id,\n    required this.name,\n    required this.email,\n    required this.userType,\n    this.crm,\n    this.phone,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This constructor has 8 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"ProfileEntity.props":{"codeSpan":{"start":{"offset":390,"line":21,"column":3},"end":{"offset":457,"line":21,"column":70},"text":"List<Object?> get props => [id, name, email, userType, crm, phone];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":15.509775004326936,"level":"none","comment":"This getter has a halstead volume of 15.509775004326936.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":388,"line":21,"column":0},"end":{"offset":388,"line":21,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":92,"level":"warning","comment":"This getter has 92 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/ui/view_model/check_in_view_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInViewModel":{"codeSpan":{"start":{"offset":467,"line":11,"column":1},"end":{"offset":4319,"line":146,"column":2},"text":"class CheckInViewModel extends ChangeNotifier {\n  final PerformCheckInUseCase performCheckInUseCase;\n  final GetPlanHistoryUseCase getPlanHistoryUseCase;\n  final HasCheckInTodayUseCase hasCheckInTodayUseCase; // New dependency\n\n  CheckInViewModel({\n    required this.performCheckInUseCase,\n    required this.getPlanHistoryUseCase,\n    required this.hasCheckInTodayUseCase,\n  });\n\n  bool _isLoading = false;\n  bool get isLoading => _isLoading;\n\n  bool _isCheckingStatus = false;\n  bool get isCheckingStatus => _isCheckingStatus;\n\n  bool _isCheckedInToday = false;\n  bool get isCheckedInToday => _isCheckedInToday;\n\n  String? _errorMessage;\n  String? get errorMessage => _errorMessage;\n\n  List<CheckInEntity> _history = [];\n  List<CheckInEntity> get history => _history;\n\n  Future<void> checkStatus(String planId) async {\n    _isCheckingStatus = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Use efficient hasCheckInToday query first\n    final hasCheckInResult = await hasCheckInTodayUseCase(planId);\n\n    hasCheckInResult.fold(\n      (failure) {\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      },\n      (hasCheckIn) {\n        _isCheckedInToday = hasCheckIn;\n      },\n    );\n\n    // Also fetch history if needed for other screens, or separate?\n    // For now keeping history fetch but it's secondary to the status check for FAB.\n    // Actually, let's keep getPlanHistoryUseCase if used by other parts,\n    // but relies on hasCheckInToday for the FAB state to be fast.\n\n    _isCheckingStatus = false;\n    notifyListeners();\n  }\n\n  Future<File?> pickImage(ImageSource source) async {\n    if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }\n\n    try {\n      final pickedFile = await ImagePicker().pickImage(\n        source: source,\n        imageQuality: 70, // Optimize size\n      );\n      if (pickedFile != null) {\n        return File(pickedFile.path);\n      }\n    } catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }\n    return null;\n  }\n\n  Future<bool> doCheckIn(\n    String planId, {\n    String? notes,\n    int? feeling,\n    File? photo,\n  }) async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await performCheckInUseCase(\n      planId,\n      notes,\n      feeling: feeling,\n      photo: photo,\n    );\n\n    return result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        // Sucesso\n        _isCheckedInToday = true;\n        _isLoading = false;\n        notifyListeners();\n        // Refresh history to include the new one\n        checkStatus(planId);\n        return true;\n      },\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":9,"unitType":"methods","level":"none","comment":"This class has 9 methods.","context":[{"message":"constructor CheckInViewModel increase metric value","codeSpan":{"start":{"offset":697,"line":16,"column":3},"end":{"offset":845,"line":20,"column":6},"text":"CheckInViewModel({\n    required this.performCheckInUseCase,\n    required this.getPlanHistoryUseCase,\n    required this.hasCheckInTodayUseCase,\n  });"}},{"message":"getter isLoading increase metric value","codeSpan":{"start":{"offset":876,"line":23,"column":3},"end":{"offset":909,"line":23,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"getter isCheckingStatus increase metric value","codeSpan":{"start":{"offset":947,"line":26,"column":3},"end":{"offset":994,"line":26,"column":50},"text":"bool get isCheckingStatus => _isCheckingStatus;"}},{"message":"getter isCheckedInToday increase metric value","codeSpan":{"start":{"offset":1032,"line":29,"column":3},"end":{"offset":1079,"line":29,"column":50},"text":"bool get isCheckedInToday => _isCheckedInToday;"}},{"message":"getter errorMessage increase metric value","codeSpan":{"start":{"offset":1108,"line":32,"column":3},"end":{"offset":1150,"line":32,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"getter history increase metric value","codeSpan":{"start":{"offset":1191,"line":35,"column":3},"end":{"offset":1235,"line":35,"column":47},"text":"List<CheckInEntity> get history => _history;"}},{"message":"method checkStatus increase metric value","codeSpan":{"start":{"offset":1239,"line":37,"column":3},"end":{"offset":2104,"line":63,"column":4},"text":"Future<void> checkStatus(String planId) async {\n    _isCheckingStatus = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Use efficient hasCheckInToday query first\n    final hasCheckInResult = await hasCheckInTodayUseCase(planId);\n\n    hasCheckInResult.fold(\n      (failure) {\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      },\n      (hasCheckIn) {\n        _isCheckedInToday = hasCheckIn;\n      },\n    );\n\n    // Also fetch history if needed for other screens, or separate?\n    // For now keeping history fetch but it's secondary to the status check for FAB.\n    // Actually, let's keep getPlanHistoryUseCase if used by other parts,\n    // but relies on hasCheckInToday for the FAB state to be fast.\n\n    _isCheckingStatus = false;\n    notifyListeners();\n  }"}},{"message":"method pickImage increase metric value","codeSpan":{"start":{"offset":2108,"line":65,"column":3},"end":{"offset":3593,"line":109,"column":4},"text":"Future<File?> pickImage(ImageSource source) async {\n    if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }\n\n    try {\n      final pickedFile = await ImagePicker().pickImage(\n        source: source,\n        imageQuality: 70, // Optimize size\n      );\n      if (pickedFile != null) {\n        return File(pickedFile.path);\n      }\n    } catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }\n    return null;\n  }"}},{"message":"method doCheckIn increase metric value","codeSpan":{"start":{"offset":3597,"line":111,"column":3},"end":{"offset":4317,"line":145,"column":4},"text":"Future<bool> doCheckIn(\n    String planId, {\n    String? notes,\n    int? feeling,\n    File? photo,\n  }) async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await performCheckInUseCase(\n      planId,\n      notes,\n      feeling: feeling,\n      photo: photo,\n    );\n\n    return result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        // Sucesso\n        _isCheckedInToday = true;\n        _isLoading = false;\n        notifyListeners();\n        // Refresh history to include the new one\n        checkStatus(planId);\n        return true;\n      },\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.3333333333333333,"level":"none","comment":"This class has a weight of 0.3333333333333333.","context":[{"message":"public constructor CheckInViewModel decrease metric value","codeSpan":{"start":{"offset":697,"line":16,"column":3},"end":{"offset":845,"line":20,"column":6},"text":"CheckInViewModel({\n    required this.performCheckInUseCase,\n    required this.getPlanHistoryUseCase,\n    required this.hasCheckInTodayUseCase,\n  });"}},{"message":"public getter isLoading decrease metric value","codeSpan":{"start":{"offset":876,"line":23,"column":3},"end":{"offset":909,"line":23,"column":36},"text":"bool get isLoading => _isLoading;"}},{"message":"public getter isCheckingStatus decrease metric value","codeSpan":{"start":{"offset":947,"line":26,"column":3},"end":{"offset":994,"line":26,"column":50},"text":"bool get isCheckingStatus => _isCheckingStatus;"}},{"message":"public getter isCheckedInToday decrease metric value","codeSpan":{"start":{"offset":1032,"line":29,"column":3},"end":{"offset":1079,"line":29,"column":50},"text":"bool get isCheckedInToday => _isCheckedInToday;"}},{"message":"public getter errorMessage decrease metric value","codeSpan":{"start":{"offset":1108,"line":32,"column":3},"end":{"offset":1150,"line":32,"column":45},"text":"String? get errorMessage => _errorMessage;"}},{"message":"public getter history decrease metric value","codeSpan":{"start":{"offset":1191,"line":35,"column":3},"end":{"offset":1235,"line":35,"column":47},"text":"List<CheckInEntity> get history => _history;"}},{"message":"functional method checkStatus increase metric value","codeSpan":{"start":{"offset":1239,"line":37,"column":3},"end":{"offset":2104,"line":63,"column":4},"text":"Future<void> checkStatus(String planId) async {\n    _isCheckingStatus = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Use efficient hasCheckInToday query first\n    final hasCheckInResult = await hasCheckInTodayUseCase(planId);\n\n    hasCheckInResult.fold(\n      (failure) {\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      },\n      (hasCheckIn) {\n        _isCheckedInToday = hasCheckIn;\n      },\n    );\n\n    // Also fetch history if needed for other screens, or separate?\n    // For now keeping history fetch but it's secondary to the status check for FAB.\n    // Actually, let's keep getPlanHistoryUseCase if used by other parts,\n    // but relies on hasCheckInToday for the FAB state to be fast.\n\n    _isCheckingStatus = false;\n    notifyListeners();\n  }"}},{"message":"functional method pickImage increase metric value","codeSpan":{"start":{"offset":2108,"line":65,"column":3},"end":{"offset":3593,"line":109,"column":4},"text":"Future<File?> pickImage(ImageSource source) async {\n    if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }\n\n    try {\n      final pickedFile = await ImagePicker().pickImage(\n        source: source,\n        imageQuality: 70, // Optimize size\n      );\n      if (pickedFile != null) {\n        return File(pickedFile.path);\n      }\n    } catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }\n    return null;\n  }"}},{"message":"functional method doCheckIn increase metric value","codeSpan":{"start":{"offset":3597,"line":111,"column":3},"end":{"offset":4317,"line":145,"column":4},"text":"Future<bool> doCheckIn(\n    String planId, {\n    String? notes,\n    int? feeling,\n    File? photo,\n  }) async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await performCheckInUseCase(\n      planId,\n      notes,\n      feeling: feeling,\n      photo: photo,\n    );\n\n    return result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        // Sucesso\n        _isCheckedInToday = true;\n        _isLoading = false;\n        notifyListeners();\n        // Refresh history to include the new one\n        checkStatus(planId);\n        return true;\n      },\n    );\n  }"}}]}]}},"functions":{"CheckInViewModel.CheckInViewModel":{"codeSpan":{"start":{"offset":697,"line":16,"column":3},"end":{"offset":845,"line":20,"column":6},"text":"CheckInViewModel({\n    required this.performCheckInUseCase,\n    required this.getPlanHistoryUseCase,\n    required this.hasCheckInTodayUseCase,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This constructor has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CheckInViewModel.isLoading":{"codeSpan":{"start":{"offset":876,"line":23,"column":3},"end":{"offset":909,"line":23,"column":36},"text":"bool get isLoading => _isLoading;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":874,"line":23,"column":0},"end":{"offset":874,"line":23,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CheckInViewModel.isCheckingStatus":{"codeSpan":{"start":{"offset":947,"line":26,"column":3},"end":{"offset":994,"line":26,"column":50},"text":"bool get isCheckingStatus => _isCheckingStatus;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":945,"line":26,"column":0},"end":{"offset":945,"line":26,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CheckInViewModel.isCheckedInToday":{"codeSpan":{"start":{"offset":1032,"line":29,"column":3},"end":{"offset":1079,"line":29,"column":50},"text":"bool get isCheckedInToday => _isCheckedInToday;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1030,"line":29,"column":0},"end":{"offset":1030,"line":29,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CheckInViewModel.errorMessage":{"codeSpan":{"start":{"offset":1108,"line":32,"column":3},"end":{"offset":1150,"line":32,"column":45},"text":"String? get errorMessage => _errorMessage;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1106,"line":32,"column":0},"end":{"offset":1106,"line":32,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CheckInViewModel.history":{"codeSpan":{"start":{"offset":1191,"line":35,"column":3},"end":{"offset":1235,"line":35,"column":47},"text":"List<CheckInEntity> get history => _history;"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This getter has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1189,"line":35,"column":0},"end":{"offset":1189,"line":35,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This getter has 100 maintainability index.","context":[]}]},"CheckInViewModel.checkStatus":{"codeSpan":{"start":{"offset":1239,"line":37,"column":3},"end":{"offset":2104,"line":63,"column":4},"text":"Future<void> checkStatus(String planId) async {\n    _isCheckingStatus = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Use efficient hasCheckInToday query first\n    final hasCheckInResult = await hasCheckInTodayUseCase(planId);\n\n    hasCheckInResult.fold(\n      (failure) {\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      },\n      (hasCheckIn) {\n        _isCheckedInToday = hasCheckIn;\n      },\n    );\n\n    // Also fetch history if needed for other screens, or separate?\n    // For now keeping history fetch but it's secondary to the status check for FAB.\n    // Actually, let's keep getPlanHistoryUseCase if used by other parts,\n    // but relies on hasCheckInToday for the FAB state to be fast.\n\n    _isCheckingStatus = false;\n    notifyListeners();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":96.79398751947123,"level":"none","comment":"This method has a halstead volume of 96.79398751947123.","context":[]},{"metricsId":"lines-of-code","value":27,"unitType":"lines","level":"none","comment":"This method has 27 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1285,"line":37,"column":49},"end":{"offset":2104,"line":63,"column":4},"text":"{\n    _isCheckingStatus = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    // Use efficient hasCheckInToday query first\n    final hasCheckInResult = await hasCheckInTodayUseCase(planId);\n\n    hasCheckInResult.fold(\n      (failure) {\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      },\n      (hasCheckIn) {\n        _isCheckedInToday = hasCheckIn;\n      },\n    );\n\n    // Also fetch history if needed for other screens, or separate?\n    // For now keeping history fetch but it's secondary to the status check for FAB.\n    // Actually, let's keep getPlanHistoryUseCase if used by other parts,\n    // but relies on hasCheckInToday for the FAB state to be fast.\n\n    _isCheckingStatus = false;\n    notifyListeners();\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1527,"line":46,"column":17},"end":{"offset":1672,"line":50,"column":8},"text":"{\n        // Silently fail or log, but don't block UI too much?\n        // Or treat as not checked in?\n        _isCheckedInToday = false;\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1287,"line":38,"column":0},"end":{"offset":1287,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1317,"line":39,"column":0},"end":{"offset":1317,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1343,"line":40,"column":0},"end":{"offset":1343,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1416,"line":43,"column":0},"end":{"offset":1416,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1484,"line":45,"column":0},"end":{"offset":1484,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1511,"line":46,"column":0},"end":{"offset":1511,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1630,"line":49,"column":0},"end":{"offset":1630,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1665,"line":50,"column":0},"end":{"offset":1665,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1674,"line":51,"column":0},"end":{"offset":1674,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1695,"line":52,"column":0},"end":{"offset":1695,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1735,"line":53,"column":0},"end":{"offset":1735,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1744,"line":54,"column":0},"end":{"offset":1744,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2047,"line":61,"column":0},"end":{"offset":2047,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2078,"line":62,"column":0},"end":{"offset":2078,"line":62,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This method has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CheckInViewModel.pickImage":{"codeSpan":{"start":{"offset":2108,"line":65,"column":3},"end":{"offset":3593,"line":109,"column":4},"text":"Future<File?> pickImage(ImageSource source) async {\n    if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }\n\n    try {\n      final pickedFile = await ImagePicker().pickImage(\n        source: source,\n        imageQuality: 70, // Optimize size\n      );\n      if (pickedFile != null) {\n        return File(pickedFile.path);\n      }\n    } catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }\n    return null;\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":11,"level":"alarm","comment":"This method has a cyclomatic complexity of 11, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2164,"line":66,"column":5},"end":{"offset":3247,"line":94,"column":6},"text":"if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2262,"line":68,"column":7},"end":{"offset":2459,"line":73,"column":8},"text":"if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2466,"line":74,"column":7},"end":{"offset":2501,"line":74,"column":42},"text":"if (!status.isGranted) return null;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2513,"line":75,"column":12},"end":{"offset":3247,"line":94,"column":6},"text":"if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2556,"line":76,"column":7},"end":{"offset":3134,"line":92,"column":8},"text":"if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2689,"line":79,"column":9},"end":{"offset":2864,"line":83,"column":10},"text":"if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2874,"line":85,"column":9},"end":{"offset":3082,"line":90,"column":10},"text":"if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3091,"line":91,"column":9},"end":{"offset":3126,"line":91,"column":44},"text":"if (!status.isGranted) return null;"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3397,"line":101,"column":7},"end":{"offset":3468,"line":103,"column":8},"text":"if (pickedFile != null) {\n        return File(pickedFile.path);\n      }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":3475,"line":104,"column":7},"end":{"offset":3572,"line":107,"column":6},"text":"catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }"}}]},{"metricsId":"halstead-volume","value":368.2407707131671,"level":"none","comment":"This method has a halstead volume of 368.2407707131671.","context":[]},{"metricsId":"lines-of-code","value":45,"unitType":"lines","level":"none","comment":"This method has 45 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2158,"line":65,"column":53},"end":{"offset":3593,"line":109,"column":4},"text":"{\n    if (source == ImageSource.camera) {\n      final status = await Permission.camera.request();\n      if (status.isPermanentlyDenied) {\n        _errorMessage =\n            'Permiss√£o de c√¢mera negada permanentemente. Ative nas configura√ß√µes.';\n        notifyListeners();\n        return null;\n      }\n      if (!status.isGranted) return null;\n    } else if (source == ImageSource.gallery) {\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }\n\n    try {\n      final pickedFile = await ImagePicker().pickImage(\n        source: source,\n        imageQuality: 70, // Optimize size\n      );\n      if (pickedFile != null) {\n        return File(pickedFile.path);\n      }\n    } catch (e) {\n      _errorMessage = 'Erro ao selecionar imagem: $e';\n      notifyListeners();\n    }\n    return null;\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2548,"line":75,"column":47},"end":{"offset":3247,"line":94,"column":6},"text":"{\n      if (Platform.isAndroid) {\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }\n      // iOS gallery permission is handled by plist mostly, but can add Permission.photos check if needed.\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2580,"line":76,"column":31},"end":{"offset":3134,"line":92,"column":8},"text":"{\n        final androidInfo = await DeviceInfoPlugin().androidInfo;\n        PermissionStatus status;\n        if (androidInfo.version.sdkInt <= 32) {\n          status = await Permission.storage.request();\n        } else {\n          status = await Permission.photos.request();\n        }\n\n        if (status.isPermanentlyDenied) {\n          _errorMessage =\n              'Permiss√£o de galeria negada permanentemente. Ative nas configura√ß√µes.';\n          notifyListeners();\n          return null;\n        }\n        if (!status.isGranted) return null;\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2727,"line":79,"column":47},"end":{"offset":2793,"line":81,"column":10},"text":"{\n          status = await Permission.storage.request();\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":40,"unitType":"lines","level":"none","comment":"This method has 40 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2160,"line":66,"column":0},"end":{"offset":2160,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2200,"line":67,"column":0},"end":{"offset":2200,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2256,"line":68,"column":0},"end":{"offset":2256,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2296,"line":69,"column":0},"end":{"offset":2296,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2320,"line":70,"column":0},"end":{"offset":2320,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2404,"line":71,"column":0},"end":{"offset":2404,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2431,"line":72,"column":0},"end":{"offset":2431,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2452,"line":73,"column":0},"end":{"offset":2452,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2460,"line":74,"column":0},"end":{"offset":2460,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2502,"line":75,"column":0},"end":{"offset":2502,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2550,"line":76,"column":0},"end":{"offset":2550,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2582,"line":77,"column":0},"end":{"offset":2582,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2648,"line":78,"column":0},"end":{"offset":2648,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2681,"line":79,"column":0},"end":{"offset":2681,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2729,"line":80,"column":0},"end":{"offset":2729,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2784,"line":81,"column":0},"end":{"offset":2784,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2801,"line":82,"column":0},"end":{"offset":2801,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2855,"line":83,"column":0},"end":{"offset":2855,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2866,"line":85,"column":0},"end":{"offset":2866,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2908,"line":86,"column":0},"end":{"offset":2908,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2934,"line":87,"column":0},"end":{"offset":2934,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3021,"line":88,"column":0},"end":{"offset":3021,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3050,"line":89,"column":0},"end":{"offset":3050,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3073,"line":90,"column":0},"end":{"offset":3073,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3083,"line":91,"column":0},"end":{"offset":3083,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3127,"line":92,"column":0},"end":{"offset":3127,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3242,"line":94,"column":0},"end":{"offset":3242,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3249,"line":96,"column":0},"end":{"offset":3249,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3259,"line":97,"column":0},"end":{"offset":3259,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3315,"line":98,"column":0},"end":{"offset":3315,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3339,"line":99,"column":0},"end":{"offset":3339,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3382,"line":100,"column":0},"end":{"offset":3382,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3391,"line":101,"column":0},"end":{"offset":3391,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3423,"line":102,"column":0},"end":{"offset":3423,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3461,"line":103,"column":0},"end":{"offset":3461,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3469,"line":104,"column":0},"end":{"offset":3469,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3487,"line":105,"column":0},"end":{"offset":3487,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3542,"line":106,"column":0},"end":{"offset":3542,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3567,"line":107,"column":0},"end":{"offset":3567,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3573,"line":108,"column":0},"end":{"offset":3573,"line":108,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":46,"level":"alarm","comment":"This method has 46 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CheckInViewModel.doCheckIn":{"codeSpan":{"start":{"offset":3597,"line":111,"column":3},"end":{"offset":4317,"line":145,"column":4},"text":"Future<bool> doCheckIn(\n    String planId, {\n    String? notes,\n    int? feeling,\n    File? photo,\n  }) async {\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await performCheckInUseCase(\n      planId,\n      notes,\n      feeling: feeling,\n      photo: photo,\n    );\n\n    return result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        // Sucesso\n        _isCheckedInToday = true;\n        _isLoading = false;\n        notifyListeners();\n        // Refresh history to include the new one\n        checkStatus(planId);\n        return true;\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":192.11075353876598,"level":"none","comment":"This method has a halstead volume of 192.11075353876598.","context":[]},{"metricsId":"lines-of-code","value":35,"unitType":"lines","level":"none","comment":"This method has 35 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3707,"line":116,"column":12},"end":{"offset":4317,"line":145,"column":4},"text":"{\n    _isLoading = true;\n    _errorMessage = null;\n    notifyListeners();\n\n    final result = await performCheckInUseCase(\n      planId,\n      notes,\n      feeling: feeling,\n      photo: photo,\n    );\n\n    return result.fold(\n      (failure) {\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      },\n      (_) {\n        // Sucesso\n        _isCheckedInToday = true;\n        _isLoading = false;\n        notifyListeners();\n        // Refresh history to include the new one\n        checkStatus(planId);\n        return true;\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3949,"line":129,"column":17},"end":{"offset":4076,"line":134,"column":8},"text":"{\n        _errorMessage = failure.message;\n        _isLoading = false;\n        notifyListeners();\n        return false;\n      }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3709,"line":117,"column":0},"end":{"offset":3709,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3732,"line":118,"column":0},"end":{"offset":3732,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3758,"line":119,"column":0},"end":{"offset":3758,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3782,"line":121,"column":0},"end":{"offset":3782,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3830,"line":122,"column":0},"end":{"offset":3830,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3844,"line":123,"column":0},"end":{"offset":3844,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3857,"line":124,"column":0},"end":{"offset":3857,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3881,"line":125,"column":0},"end":{"offset":3881,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3901,"line":126,"column":0},"end":{"offset":3901,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3909,"line":128,"column":0},"end":{"offset":3909,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3933,"line":129,"column":0},"end":{"offset":3933,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3951,"line":130,"column":0},"end":{"offset":3951,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3992,"line":131,"column":0},"end":{"offset":3992,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4020,"line":132,"column":0},"end":{"offset":4020,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4047,"line":133,"column":0},"end":{"offset":4047,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4069,"line":134,"column":0},"end":{"offset":4069,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4078,"line":135,"column":0},"end":{"offset":4078,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4109,"line":137,"column":0},"end":{"offset":4109,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4143,"line":138,"column":0},"end":{"offset":4143,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4171,"line":139,"column":0},"end":{"offset":4171,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4248,"line":141,"column":0},"end":{"offset":4248,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4277,"line":142,"column":0},"end":{"offset":4277,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4298,"line":143,"column":0},"end":{"offset":4298,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4307,"line":144,"column":0},"end":{"offset":4307,"line":144,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":54,"level":"warning","comment":"This method has 54 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/ui/widgets/daily_check_in_button.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"DailyCheckInButton":{"codeSpan":{"start":{"offset":162,"line":6,"column":1},"end":{"offset":386,"line":13,"column":2},"text":"class DailyCheckInButton extends StatefulWidget {\n  final String planId;\n\n  const DailyCheckInButton({super.key, required this.planId});\n\n  @override\n  State<DailyCheckInButton> createState() => _DailyCheckInButtonState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor DailyCheckInButton increase metric value","codeSpan":{"start":{"offset":238,"line":9,"column":3},"end":{"offset":298,"line":9,"column":63},"text":"const DailyCheckInButton({super.key, required this.planId});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":314,"line":12,"column":3},"end":{"offset":384,"line":12,"column":73},"text":"State<DailyCheckInButton> createState() => _DailyCheckInButtonState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor DailyCheckInButton decrease metric value","codeSpan":{"start":{"offset":238,"line":9,"column":3},"end":{"offset":298,"line":9,"column":63},"text":"const DailyCheckInButton({super.key, required this.planId});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":314,"line":12,"column":3},"end":{"offset":384,"line":12,"column":73},"text":"State<DailyCheckInButton> createState() => _DailyCheckInButtonState();"}}]}]},"_DailyCheckInButtonState":{"codeSpan":{"start":{"offset":388,"line":15,"column":1},"end":{"offset":4464,"line":140,"column":2},"text":"class _DailyCheckInButtonState extends State<DailyCheckInButton> {\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    });\n  }\n\n  @override\n  void didUpdateWidget(covariant DailyCheckInButton oldWidget) {\n    super.didUpdateWidget(oldWidget);\n    if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Consumer<CheckInViewModel>(\n      builder: (context, viewModel, child) {\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"method initState increase metric value","codeSpan":{"start":{"offset":469,"line":17,"column":3},"end":{"offset":644,"line":22,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    });\n  }"}},{"message":"method didUpdateWidget increase metric value","codeSpan":{"start":{"offset":660,"line":25,"column":3},"end":{"offset":951,"line":32,"column":4},"text":"void didUpdateWidget(covariant DailyCheckInButton oldWidget) {\n    super.didUpdateWidget(oldWidget);\n    if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":967,"line":35,"column":3},"end":{"offset":4462,"line":139,"column":4},"text":"Widget build(BuildContext context) {\n    return Consumer<CheckInViewModel>(\n      builder: (context, viewModel, child) {\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method initState increase metric value","codeSpan":{"start":{"offset":469,"line":17,"column":3},"end":{"offset":644,"line":22,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    });\n  }"}},{"message":"functional method didUpdateWidget increase metric value","codeSpan":{"start":{"offset":660,"line":25,"column":3},"end":{"offset":951,"line":32,"column":4},"text":"void didUpdateWidget(covariant DailyCheckInButton oldWidget) {\n    super.didUpdateWidget(oldWidget);\n    if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":967,"line":35,"column":3},"end":{"offset":4462,"line":139,"column":4},"text":"Widget build(BuildContext context) {\n    return Consumer<CheckInViewModel>(\n      builder: (context, viewModel, child) {\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"}}]}]}},"functions":{"DailyCheckInButton.DailyCheckInButton":{"codeSpan":{"start":{"offset":238,"line":9,"column":3},"end":{"offset":298,"line":9,"column":63},"text":"const DailyCheckInButton({super.key, required this.planId});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"DailyCheckInButton.createState":{"codeSpan":{"start":{"offset":314,"line":12,"column":3},"end":{"offset":384,"line":12,"column":73},"text":"State<DailyCheckInButton> createState() => _DailyCheckInButtonState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":312,"line":12,"column":0},"end":{"offset":312,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_DailyCheckInButtonState.initState":{"codeSpan":{"start":{"offset":469,"line":17,"column":3},"end":{"offset":644,"line":22,"column":4},"text":"void initState() {\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    });\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":77.70923408096293,"level":"none","comment":"This method has a halstead volume of 77.70923408096293.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":486,"line":17,"column":20},"end":{"offset":644,"line":22,"column":4},"text":"{\n    super.initState();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    });\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":564,"line":19,"column":54},"end":{"offset":638,"line":21,"column":6},"text":"{\n      context.read<CheckInViewModel>().checkStatus(widget.planId);\n    }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This method has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":488,"line":18,"column":0},"end":{"offset":488,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":511,"line":19,"column":0},"end":{"offset":511,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":566,"line":20,"column":0},"end":{"offset":566,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":633,"line":21,"column":0},"end":{"offset":633,"line":21,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":74,"level":"warning","comment":"This method has 74 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_DailyCheckInButtonState.didUpdateWidget":{"codeSpan":{"start":{"offset":660,"line":25,"column":3},"end":{"offset":951,"line":32,"column":4},"text":"void didUpdateWidget(covariant DailyCheckInButton oldWidget) {\n    super.didUpdateWidget(oldWidget);\n    if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":765,"line":27,"column":5},"end":{"offset":947,"line":31,"column":6},"text":"if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }"}}]},{"metricsId":"halstead-volume","value":105.48604608143,"level":"none","comment":"This method has a halstead volume of 105.48604608143.","context":[]},{"metricsId":"lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":721,"line":25,"column":64},"end":{"offset":951,"line":32,"column":4},"text":"{\n    super.didUpdateWidget(oldWidget);\n    if (oldWidget.planId != widget.planId) {\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":804,"line":27,"column":44},"end":{"offset":947,"line":31,"column":6},"text":"{\n      WidgetsBinding.instance.addPostFrameCallback((_) {\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      });\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":861,"line":28,"column":56},"end":{"offset":939,"line":30,"column":8},"text":"{\n        context.read<CheckInViewModel>().checkStatus(widget.planId);\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":723,"line":26,"column":0},"end":{"offset":723,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":761,"line":27,"column":0},"end":{"offset":761,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":806,"line":28,"column":0},"end":{"offset":806,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":863,"line":29,"column":0},"end":{"offset":863,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":932,"line":30,"column":0},"end":{"offset":932,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":942,"line":31,"column":0},"end":{"offset":942,"line":31,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":69,"level":"warning","comment":"This method has 69 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_DailyCheckInButtonState.build":{"codeSpan":{"start":{"offset":967,"line":35,"column":3},"end":{"offset":4462,"line":139,"column":4},"text":"Widget build(BuildContext context) {\n    return Consumer<CheckInViewModel>(\n      builder: (context, viewModel, child) {\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":6,"level":"alarm","comment":"This method has a cyclomatic complexity of 6, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1096,"line":38,"column":9},"end":{"offset":1394,"line":46,"column":10},"text":"if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1120,"line":38,"column":33},"end":{"offset":1122,"line":38,"column":35},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1404,"line":48,"column":9},"end":{"offset":1678,"line":56,"column":10},"text":"if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1688,"line":58,"column":9},"end":{"offset":2449,"line":80,"column":10},"text":"if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2575,"line":86,"column":20},"end":{"offset":2921,"line":95,"column":20},"text":"viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  }"}}]},{"metricsId":"halstead-volume","value":1918.0766794283454,"level":"none","comment":"This method has a halstead volume of 1918.0766794283454.","context":[]},{"metricsId":"lines-of-code","value":106,"unitType":"lines","level":"none","comment":"This method has 106 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1002,"line":35,"column":38},"end":{"offset":4462,"line":139,"column":4},"text":"{\n    return Consumer<CheckInViewModel>(\n      builder: (context, viewModel, child) {\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1086,"line":37,"column":44},"end":{"offset":4450,"line":137,"column":8},"text":"{\n        if (viewModel.isLoading && !viewModel.isCheckedInToday) {\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }\n\n        if (viewModel.errorMessage != null) {\n          return Card(\n            color: Colors.red[50],\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Text('Erro: ${viewModel.errorMessage}'),\n            ),\n          );\n        }\n\n        if (viewModel.isCheckedInToday) {\n          return Card(\n            color: Colors.green[100],\n            child: const Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Row(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(Icons.check_circle, color: Colors.green, size: 30),\n                  SizedBox(width: 10),\n                  Text(\n                    'Tarefa de Hoje Conclu√≠da!',\n                    style: TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.green,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        }\n\n        return Card(\n          elevation: 4,\n          color: Colors.blue[50],\n          child: InkWell(\n            onTap: viewModel.isLoading\n                ? null\n                : () {\n                    showModalBottomSheet(\n                      context: context,\n                      isScrollControlled: true,\n                      builder: (context) =>\n                          CheckInDialog(planId: widget.planId),\n                    );\n                  },\n            child: Padding(\n              padding: const EdgeInsets.symmetric(\n                vertical: 24.0,\n                horizontal: 16.0,\n              ),\n              child: Column(\n                children: [\n                  const Text(\n                    'Tarefa do Dia',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  const SizedBox(height: 12),\n                  if (viewModel.isLoading)\n                    const CircularProgressIndicator()\n                  else\n                    Container(\n                      padding: const EdgeInsets.all(12),\n                      decoration: BoxDecoration(\n                        color: Colors.blue,\n                        borderRadius: BorderRadius.circular(30),\n                      ),\n                      child: const Row(\n                        mainAxisSize: MainAxisSize.min,\n                        children: [\n                          Icon(Icons.check, color: Colors.white),\n                          SizedBox(width: 8),\n                          Text(\n                            'MARCAR COMO REALIZADO',\n                            style: TextStyle(\n                              color: Colors.white,\n                              fontWeight: FontWeight.bold,\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                ],\n              ),\n            ),\n          ),\n        );\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1152,"line":38,"column":65},"end":{"offset":1394,"line":46,"column":10},"text":"{\n          // Loading initial status\n          return const Card(\n            child: Padding(\n              padding: EdgeInsets.all(16.0),\n              child: Center(child: CircularProgressIndicator()),\n            ),\n          );\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":99,"unitType":"lines","level":"none","comment":"This method has 99 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1004,"line":36,"column":0},"end":{"offset":1004,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1043,"line":37,"column":0},"end":{"offset":1043,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1088,"line":38,"column":0},"end":{"offset":1088,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1190,"line":40,"column":0},"end":{"offset":1190,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1219,"line":41,"column":0},"end":{"offset":1219,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1247,"line":42,"column":0},"end":{"offset":1247,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1292,"line":43,"column":0},"end":{"offset":1292,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1357,"line":44,"column":0},"end":{"offset":1357,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1372,"line":45,"column":0},"end":{"offset":1372,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1385,"line":46,"column":0},"end":{"offset":1385,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1396,"line":48,"column":0},"end":{"offset":1396,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1442,"line":49,"column":0},"end":{"offset":1442,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1465,"line":50,"column":0},"end":{"offset":1465,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1500,"line":51,"column":0},"end":{"offset":1500,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1528,"line":52,"column":0},"end":{"offset":1528,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1579,"line":53,"column":0},"end":{"offset":1579,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1641,"line":54,"column":0},"end":{"offset":1641,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1656,"line":55,"column":0},"end":{"offset":1656,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1669,"line":56,"column":0},"end":{"offset":1669,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1680,"line":58,"column":0},"end":{"offset":1680,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1722,"line":59,"column":0},"end":{"offset":1722,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1745,"line":60,"column":0},"end":{"offset":1745,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1783,"line":61,"column":0},"end":{"offset":1783,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1817,"line":62,"column":0},"end":{"offset":1817,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1862,"line":63,"column":0},"end":{"offset":1862,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1888,"line":64,"column":0},"end":{"offset":1888,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1949,"line":65,"column":0},"end":{"offset":1949,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1977,"line":66,"column":0},"end":{"offset":1977,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2052,"line":67,"column":0},"end":{"offset":2052,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2091,"line":68,"column":0},"end":{"offset":2091,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2115,"line":69,"column":0},"end":{"offset":2115,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2164,"line":70,"column":0},"end":{"offset":2164,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2202,"line":71,"column":0},"end":{"offset":2202,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2238,"line":72,"column":0},"end":{"offset":2238,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2289,"line":73,"column":0},"end":{"offset":2289,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2332,"line":74,"column":0},"end":{"offset":2332,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2355,"line":75,"column":0},"end":{"offset":2355,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2376,"line":76,"column":0},"end":{"offset":2376,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2395,"line":77,"column":0},"end":{"offset":2395,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2412,"line":78,"column":0},"end":{"offset":2412,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2427,"line":79,"column":0},"end":{"offset":2427,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2440,"line":80,"column":0},"end":{"offset":2440,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2451,"line":82,"column":0},"end":{"offset":2451,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2472,"line":83,"column":0},"end":{"offset":2472,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2496,"line":84,"column":0},"end":{"offset":2496,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2530,"line":85,"column":0},"end":{"offset":2530,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2556,"line":86,"column":0},"end":{"offset":2556,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2595,"line":87,"column":0},"end":{"offset":2595,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2618,"line":88,"column":0},"end":{"offset":2618,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2641,"line":89,"column":0},"end":{"offset":2641,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2683,"line":90,"column":0},"end":{"offset":2683,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2723,"line":91,"column":0},"end":{"offset":2723,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2771,"line":92,"column":0},"end":{"offset":2771,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2815,"line":93,"column":0},"end":{"offset":2815,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2879,"line":94,"column":0},"end":{"offset":2879,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2902,"line":95,"column":0},"end":{"offset":2902,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2923,"line":96,"column":0},"end":{"offset":2923,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2951,"line":97,"column":0},"end":{"offset":2951,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3002,"line":98,"column":0},"end":{"offset":3002,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3034,"line":99,"column":0},"end":{"offset":3034,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3068,"line":100,"column":0},"end":{"offset":3068,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3085,"line":101,"column":0},"end":{"offset":3085,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3114,"line":102,"column":0},"end":{"offset":3114,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3142,"line":103,"column":0},"end":{"offset":3142,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3172,"line":104,"column":0},"end":{"offset":3172,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3209,"line":105,"column":0},"end":{"offset":3209,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3290,"line":106,"column":0},"end":{"offset":3290,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3311,"line":107,"column":0},"end":{"offset":3311,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3357,"line":108,"column":0},"end":{"offset":3357,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3400,"line":109,"column":0},"end":{"offset":3400,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3454,"line":110,"column":0},"end":{"offset":3454,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3477,"line":111,"column":0},"end":{"offset":3477,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3508,"line":112,"column":0},"end":{"offset":3508,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3565,"line":113,"column":0},"end":{"offset":3565,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3614,"line":114,"column":0},"end":{"offset":3614,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3658,"line":115,"column":0},"end":{"offset":3658,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3723,"line":116,"column":0},"end":{"offset":3723,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3748,"line":117,"column":0},"end":{"offset":3748,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3788,"line":118,"column":0},"end":{"offset":3788,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3844,"line":119,"column":0},"end":{"offset":3844,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3880,"line":120,"column":0},"end":{"offset":3880,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3946,"line":121,"column":0},"end":{"offset":3946,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3992,"line":122,"column":0},"end":{"offset":3992,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4024,"line":123,"column":0},"end":{"offset":4024,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4077,"line":124,"column":0},"end":{"offset":4077,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4123,"line":125,"column":0},"end":{"offset":4123,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4174,"line":126,"column":0},"end":{"offset":4174,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4233,"line":127,"column":0},"end":{"offset":4233,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4264,"line":128,"column":0},"end":{"offset":4264,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4293,"line":129,"column":0},"end":{"offset":4293,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4320,"line":130,"column":0},"end":{"offset":4320,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4345,"line":131,"column":0},"end":{"offset":4345,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4368,"line":132,"column":0},"end":{"offset":4368,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4387,"line":133,"column":0},"end":{"offset":4387,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4404,"line":134,"column":0},"end":{"offset":4404,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4419,"line":135,"column":0},"end":{"offset":4419,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4432,"line":136,"column":0},"end":{"offset":4432,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4443,"line":137,"column":0},"end":{"offset":4443,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4452,"line":138,"column":0},"end":{"offset":4452,"line":138,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":33,"level":"alarm","comment":"This method has 33 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/ui/widgets/check_in_dialog.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInDialog":{"codeSpan":{"start":{"offset":198,"line":7,"column":1},"end":{"offset":402,"line":14,"column":2},"text":"class CheckInDialog extends StatefulWidget {\n  final String planId;\n\n  const CheckInDialog({super.key, required this.planId});\n\n  @override\n  State<CheckInDialog> createState() => _CheckInDialogState();\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CheckInDialog increase metric value","codeSpan":{"start":{"offset":269,"line":10,"column":3},"end":{"offset":324,"line":10,"column":58},"text":"const CheckInDialog({super.key, required this.planId});"}},{"message":"method createState increase metric value","codeSpan":{"start":{"offset":340,"line":13,"column":3},"end":{"offset":400,"line":13,"column":63},"text":"State<CheckInDialog> createState() => _CheckInDialogState();"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor CheckInDialog decrease metric value","codeSpan":{"start":{"offset":269,"line":10,"column":3},"end":{"offset":324,"line":10,"column":58},"text":"const CheckInDialog({super.key, required this.planId});"}},{"message":"functional method createState increase metric value","codeSpan":{"start":{"offset":340,"line":13,"column":3},"end":{"offset":400,"line":13,"column":63},"text":"State<CheckInDialog> createState() => _CheckInDialogState();"}}]}]},"_CheckInDialogState":{"codeSpan":{"start":{"offset":404,"line":16,"column":1},"end":{"offset":8362,"line":244,"column":2},"text":"class _CheckInDialogState extends State<CheckInDialog> {\n  final TextEditingController _notesController = TextEditingController();\n  int? _selectedFeeling;\n  File? _selectedPhoto;\n\n  @override\n  void dispose() {\n    _notesController.dispose();\n    super.dispose();\n  }\n\n  Future<void> _pickImage(ImageSource source) async {\n    final viewModel = context.read<CheckInViewModel>();\n    final file = await viewModel.pickImage(source);\n    if (file != null) {\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final viewModel = context.watch<CheckInViewModel>();\n\n    return Dialog(\n      insetPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.stretch,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  const Text(\n                    'Check-in Di√°rio',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  IconButton(\n                    icon: const Icon(Icons.close),\n                    onPressed: () => Navigator.pop(context),\n                  ),\n                ],\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Como voc√™ est√° se sentindo hoje?',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: List.generate(5, (index) {\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }),\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Evid√™ncia (Opcional)',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              if (_selectedPhoto != null)\n                Stack(\n                  alignment: Alignment.topRight,\n                  children: [\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: Image.file(\n                        _selectedPhoto!,\n                        height: 150,\n                        width: double.infinity,\n                        fit: BoxFit.cover,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.close, color: Colors.white),\n                      onPressed: () {\n                        setState(() {\n                          _selectedPhoto = null;\n                        });\n                      },\n                    ),\n                  ],\n                )\n              else\n                Row(\n                  children: [\n                    Expanded(\n                      child: ElevatedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.camera),\n                        icon: const Icon(Icons.camera_alt),\n                        label: const Text('C√¢mera'),\n                      ),\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: OutlinedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.gallery),\n                        icon: const Icon(Icons.photo_library),\n                        label: const Text('Galeria'),\n                      ),\n                    ),\n                  ],\n                ),\n              const SizedBox(height: 16),\n              TextField(\n                controller: _notesController,\n                decoration: const InputDecoration(\n                  labelText: 'Observa√ß√µes (Opcional)',\n                  border: OutlineInputBorder(),\n                ),\n                maxLines: 2,\n              ),\n              const SizedBox(height: 16),\n              if (viewModel.errorMessage != null)\n                Padding(\n                  padding: const EdgeInsets.only(bottom: 16.0),\n                  child: Text(\n                    viewModel.errorMessage!,\n                    style: TextStyle(\n                      color: Theme.of(context).colorScheme.error,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ),\n              const SizedBox(height: 8),\n              if (viewModel.isLoading)\n                const Center(child: CircularProgressIndicator())\n              else\n                ElevatedButton(\n                  onPressed: () async {\n                    final success = await viewModel.doCheckIn(\n                      widget.planId,\n                      notes: _notesController.text,\n                      feeling: _selectedFeeling,\n                      photo: _selectedPhoto,\n                    );\n                    if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    padding: const EdgeInsets.symmetric(vertical: 16),\n                  ),\n                  child: const Text('CONFIRMAR CHECK-IN'),\n                ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n\n  IconData _getFeelingIcon(int level) {\n    switch (level) {\n      case 1:\n        return Icons.sentiment_very_dissatisfied;\n      case 2:\n        return Icons.sentiment_dissatisfied;\n      case 3:\n        return Icons.sentiment_neutral;\n      case 4:\n        return Icons.sentiment_satisfied;\n      case 5:\n        return Icons.sentiment_very_satisfied;\n      default:\n        return Icons.sentiment_neutral;\n    }\n  }\n\n  Color _getFeelingColor(int level) {\n    switch (level) {\n      case 1:\n        return Colors.red;\n      case 2:\n        return Colors.orange;\n      case 3:\n        return Colors.amber;\n      case 4:\n        return Colors.lightGreen;\n      case 5:\n        return Colors.green;\n      default:\n        return Colors.grey;\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":5,"unitType":"methods","level":"none","comment":"This class has 5 methods.","context":[{"message":"method dispose increase metric value","codeSpan":{"start":{"offset":599,"line":22,"column":3},"end":{"offset":672,"line":25,"column":4},"text":"void dispose() {\n    _notesController.dispose();\n    super.dispose();\n  }"}},{"message":"method _pickImage increase metric value","codeSpan":{"start":{"offset":676,"line":27,"column":3},"end":{"offset":930,"line":35,"column":4},"text":"Future<void> _pickImage(ImageSource source) async {\n    final viewModel = context.read<CheckInViewModel>();\n    final file = await viewModel.pickImage(source);\n    if (file != null) {\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }\n  }"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":946,"line":38,"column":3},"end":{"offset":7607,"line":209,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<CheckInViewModel>();\n\n    return Dialog(\n      insetPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.stretch,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  const Text(\n                    'Check-in Di√°rio',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  IconButton(\n                    icon: const Icon(Icons.close),\n                    onPressed: () => Navigator.pop(context),\n                  ),\n                ],\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Como voc√™ est√° se sentindo hoje?',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: List.generate(5, (index) {\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }),\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Evid√™ncia (Opcional)',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              if (_selectedPhoto != null)\n                Stack(\n                  alignment: Alignment.topRight,\n                  children: [\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: Image.file(\n                        _selectedPhoto!,\n                        height: 150,\n                        width: double.infinity,\n                        fit: BoxFit.cover,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.close, color: Colors.white),\n                      onPressed: () {\n                        setState(() {\n                          _selectedPhoto = null;\n                        });\n                      },\n                    ),\n                  ],\n                )\n              else\n                Row(\n                  children: [\n                    Expanded(\n                      child: ElevatedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.camera),\n                        icon: const Icon(Icons.camera_alt),\n                        label: const Text('C√¢mera'),\n                      ),\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: OutlinedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.gallery),\n                        icon: const Icon(Icons.photo_library),\n                        label: const Text('Galeria'),\n                      ),\n                    ),\n                  ],\n                ),\n              const SizedBox(height: 16),\n              TextField(\n                controller: _notesController,\n                decoration: const InputDecoration(\n                  labelText: 'Observa√ß√µes (Opcional)',\n                  border: OutlineInputBorder(),\n                ),\n                maxLines: 2,\n              ),\n              const SizedBox(height: 16),\n              if (viewModel.errorMessage != null)\n                Padding(\n                  padding: const EdgeInsets.only(bottom: 16.0),\n                  child: Text(\n                    viewModel.errorMessage!,\n                    style: TextStyle(\n                      color: Theme.of(context).colorScheme.error,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ),\n              const SizedBox(height: 8),\n              if (viewModel.isLoading)\n                const Center(child: CircularProgressIndicator())\n              else\n                ElevatedButton(\n                  onPressed: () async {\n                    final success = await viewModel.doCheckIn(\n                      widget.planId,\n                      notes: _notesController.text,\n                      feeling: _selectedFeeling,\n                      photo: _selectedPhoto,\n                    );\n                    if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    padding: const EdgeInsets.symmetric(vertical: 16),\n                  ),\n                  child: const Text('CONFIRMAR CHECK-IN'),\n                ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}},{"message":"method _getFeelingIcon increase metric value","codeSpan":{"start":{"offset":7611,"line":211,"column":3},"end":{"offset":8028,"line":226,"column":4},"text":"IconData _getFeelingIcon(int level) {\n    switch (level) {\n      case 1:\n        return Icons.sentiment_very_dissatisfied;\n      case 2:\n        return Icons.sentiment_dissatisfied;\n      case 3:\n        return Icons.sentiment_neutral;\n      case 4:\n        return Icons.sentiment_satisfied;\n      case 5:\n        return Icons.sentiment_very_satisfied;\n      default:\n        return Icons.sentiment_neutral;\n    }\n  }"}},{"message":"method _getFeelingColor increase metric value","codeSpan":{"start":{"offset":8032,"line":228,"column":3},"end":{"offset":8360,"line":243,"column":4},"text":"Color _getFeelingColor(int level) {\n    switch (level) {\n      case 1:\n        return Colors.red;\n      case 2:\n        return Colors.orange;\n      case 3:\n        return Colors.amber;\n      case 4:\n        return Colors.lightGreen;\n      case 5:\n        return Colors.green;\n      default:\n        return Colors.grey;\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method dispose increase metric value","codeSpan":{"start":{"offset":599,"line":22,"column":3},"end":{"offset":672,"line":25,"column":4},"text":"void dispose() {\n    _notesController.dispose();\n    super.dispose();\n  }"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":946,"line":38,"column":3},"end":{"offset":7607,"line":209,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<CheckInViewModel>();\n\n    return Dialog(\n      insetPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.stretch,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  const Text(\n                    'Check-in Di√°rio',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  IconButton(\n                    icon: const Icon(Icons.close),\n                    onPressed: () => Navigator.pop(context),\n                  ),\n                ],\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Como voc√™ est√° se sentindo hoje?',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: List.generate(5, (index) {\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }),\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Evid√™ncia (Opcional)',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              if (_selectedPhoto != null)\n                Stack(\n                  alignment: Alignment.topRight,\n                  children: [\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: Image.file(\n                        _selectedPhoto!,\n                        height: 150,\n                        width: double.infinity,\n                        fit: BoxFit.cover,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.close, color: Colors.white),\n                      onPressed: () {\n                        setState(() {\n                          _selectedPhoto = null;\n                        });\n                      },\n                    ),\n                  ],\n                )\n              else\n                Row(\n                  children: [\n                    Expanded(\n                      child: ElevatedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.camera),\n                        icon: const Icon(Icons.camera_alt),\n                        label: const Text('C√¢mera'),\n                      ),\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: OutlinedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.gallery),\n                        icon: const Icon(Icons.photo_library),\n                        label: const Text('Galeria'),\n                      ),\n                    ),\n                  ],\n                ),\n              const SizedBox(height: 16),\n              TextField(\n                controller: _notesController,\n                decoration: const InputDecoration(\n                  labelText: 'Observa√ß√µes (Opcional)',\n                  border: OutlineInputBorder(),\n                ),\n                maxLines: 2,\n              ),\n              const SizedBox(height: 16),\n              if (viewModel.errorMessage != null)\n                Padding(\n                  padding: const EdgeInsets.only(bottom: 16.0),\n                  child: Text(\n                    viewModel.errorMessage!,\n                    style: TextStyle(\n                      color: Theme.of(context).colorScheme.error,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ),\n              const SizedBox(height: 8),\n              if (viewModel.isLoading)\n                const Center(child: CircularProgressIndicator())\n              else\n                ElevatedButton(\n                  onPressed: () async {\n                    final success = await viewModel.doCheckIn(\n                      widget.planId,\n                      notes: _notesController.text,\n                      feeling: _selectedFeeling,\n                      photo: _selectedPhoto,\n                    );\n                    if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    padding: const EdgeInsets.symmetric(vertical: 16),\n                  ),\n                  child: const Text('CONFIRMAR CHECK-IN'),\n                ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}}]}]}},"functions":{"CheckInDialog.CheckInDialog":{"codeSpan":{"start":{"offset":269,"line":10,"column":3},"end":{"offset":324,"line":10,"column":58},"text":"const CheckInDialog({super.key, required this.planId});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CheckInDialog.createState":{"codeSpan":{"start":{"offset":340,"line":13,"column":3},"end":{"offset":400,"line":13,"column":63},"text":"State<CheckInDialog> createState() => _CheckInDialogState();"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":338,"line":13,"column":0},"end":{"offset":338,"line":13,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"_CheckInDialogState.dispose":{"codeSpan":{"start":{"offset":599,"line":22,"column":3},"end":{"offset":672,"line":25,"column":4},"text":"void dispose() {\n    _notesController.dispose();\n    super.dispose();\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":3.0,"level":"none","comment":"This method has a halstead volume of 3.0.","context":[]},{"metricsId":"lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This method has 5 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":614,"line":22,"column":18},"end":{"offset":672,"line":25,"column":4},"text":"{\n    _notesController.dispose();\n    super.dispose();\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This method has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This method has 2 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":616,"line":23,"column":0},"end":{"offset":616,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":648,"line":24,"column":0},"end":{"offset":648,"line":24,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":90,"level":"warning","comment":"This method has 90 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CheckInDialogState._pickImage":{"codeSpan":{"start":{"offset":676,"line":27,"column":3},"end":{"offset":930,"line":35,"column":4},"text":"Future<void> _pickImage(ImageSource source) async {\n    final viewModel = context.read<CheckInViewModel>();\n    final file = await viewModel.pickImage(source);\n    if (file != null) {\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":840,"line":30,"column":5},"end":{"offset":926,"line":34,"column":6},"text":"if (file != null) {\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }"}}]},{"metricsId":"halstead-volume","value":83.76180828526728,"level":"none","comment":"This method has a halstead volume of 83.76180828526728.","context":[]},{"metricsId":"lines-of-code","value":9,"unitType":"lines","level":"none","comment":"This method has 9 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":726,"line":27,"column":53},"end":{"offset":930,"line":35,"column":4},"text":"{\n    final viewModel = context.read<CheckInViewModel>();\n    final file = await viewModel.pickImage(source);\n    if (file != null) {\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":858,"line":30,"column":23},"end":{"offset":926,"line":34,"column":6},"text":"{\n      setState(() {\n        _selectedPhoto = file;\n      });\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":878,"line":31,"column":19},"end":{"offset":918,"line":33,"column":8},"text":"{\n        _selectedPhoto = file;\n      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This method has 7 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":728,"line":28,"column":0},"end":{"offset":728,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":784,"line":29,"column":0},"end":{"offset":784,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":836,"line":30,"column":0},"end":{"offset":836,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":860,"line":31,"column":0},"end":{"offset":860,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":880,"line":32,"column":0},"end":{"offset":880,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":911,"line":33,"column":0},"end":{"offset":911,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":921,"line":34,"column":0},"end":{"offset":921,"line":34,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":68,"level":"warning","comment":"This method has 68 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CheckInDialogState.build":{"codeSpan":{"start":{"offset":946,"line":38,"column":3},"end":{"offset":7607,"line":209,"column":4},"text":"Widget build(BuildContext context) {\n    final viewModel = context.watch<CheckInViewModel>();\n\n    return Dialog(\n      insetPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.stretch,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  const Text(\n                    'Check-in Di√°rio',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  IconButton(\n                    icon: const Icon(Icons.close),\n                    onPressed: () => Navigator.pop(context),\n                  ),\n                ],\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Como voc√™ est√° se sentindo hoje?',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: List.generate(5, (index) {\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }),\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Evid√™ncia (Opcional)',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              if (_selectedPhoto != null)\n                Stack(\n                  alignment: Alignment.topRight,\n                  children: [\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: Image.file(\n                        _selectedPhoto!,\n                        height: 150,\n                        width: double.infinity,\n                        fit: BoxFit.cover,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.close, color: Colors.white),\n                      onPressed: () {\n                        setState(() {\n                          _selectedPhoto = null;\n                        });\n                      },\n                    ),\n                  ],\n                )\n              else\n                Row(\n                  children: [\n                    Expanded(\n                      child: ElevatedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.camera),\n                        icon: const Icon(Icons.camera_alt),\n                        label: const Text('C√¢mera'),\n                      ),\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: OutlinedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.gallery),\n                        icon: const Icon(Icons.photo_library),\n                        label: const Text('Galeria'),\n                      ),\n                    ),\n                  ],\n                ),\n              const SizedBox(height: 16),\n              TextField(\n                controller: _notesController,\n                decoration: const InputDecoration(\n                  labelText: 'Observa√ß√µes (Opcional)',\n                  border: OutlineInputBorder(),\n                ),\n                maxLines: 2,\n              ),\n              const SizedBox(height: 16),\n              if (viewModel.errorMessage != null)\n                Padding(\n                  padding: const EdgeInsets.only(bottom: 16.0),\n                  child: Text(\n                    viewModel.errorMessage!,\n                    style: TextStyle(\n                      color: Theme.of(context).colorScheme.error,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ),\n              const SizedBox(height: 8),\n              if (viewModel.isLoading)\n                const Center(child: CircularProgressIndicator())\n              else\n                ElevatedButton(\n                  onPressed: () async {\n                    final success = await viewModel.doCheckIn(\n                      widget.planId,\n                      notes: _notesController.text,\n                      feeling: _selectedFeeling,\n                      photo: _selectedPhoto,\n                    );\n                    if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    padding: const EdgeInsets.symmetric(vertical: 16),\n                  ),\n                  child: const Text('CONFIRMAR CHECK-IN'),\n                ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This method has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":2900,"line":85,"column":32},"end":{"offset":3095,"line":89,"column":35},"text":"isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null"}},{"message":"Conditional expression increases complexity","codeSpan":{"start":{"offset":3177,"line":91,"column":33},"end":{"offset":3416,"line":96,"column":35},"text":"isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":6929,"line":189,"column":21},"end":{"offset":7264,"line":196,"column":22},"text":"if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":6941,"line":189,"column":33},"end":{"offset":6943,"line":189,"column":35},"text":"&&"}}]},{"metricsId":"halstead-volume","value":2871.108406048134,"level":"none","comment":"This method has a halstead volume of 2871.108406048134.","context":[]},{"metricsId":"lines-of-code","value":173,"unitType":"lines","level":"none","comment":"This method has 173 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":981,"line":38,"column":38},"end":{"offset":7607,"line":209,"column":4},"text":"{\n    final viewModel = context.watch<CheckInViewModel>();\n\n    return Dialog(\n      insetPadding: const EdgeInsets.symmetric(horizontal: 16, vertical: 24),\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),\n      child: SingleChildScrollView(\n        child: Padding(\n          padding: const EdgeInsets.all(16),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.stretch,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  const Text(\n                    'Check-in Di√°rio',\n                    style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),\n                  ),\n                  IconButton(\n                    icon: const Icon(Icons.close),\n                    onPressed: () => Navigator.pop(context),\n                  ),\n                ],\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Como voc√™ est√° se sentindo hoje?',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                children: List.generate(5, (index) {\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }),\n              ),\n              const SizedBox(height: 16),\n              const Text(\n                'Evid√™ncia (Opcional)',\n                style: TextStyle(fontSize: 16, fontWeight: FontWeight.w500),\n              ),\n              const SizedBox(height: 8),\n              if (_selectedPhoto != null)\n                Stack(\n                  alignment: Alignment.topRight,\n                  children: [\n                    ClipRRect(\n                      borderRadius: BorderRadius.circular(8),\n                      child: Image.file(\n                        _selectedPhoto!,\n                        height: 150,\n                        width: double.infinity,\n                        fit: BoxFit.cover,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.close, color: Colors.white),\n                      onPressed: () {\n                        setState(() {\n                          _selectedPhoto = null;\n                        });\n                      },\n                    ),\n                  ],\n                )\n              else\n                Row(\n                  children: [\n                    Expanded(\n                      child: ElevatedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.camera),\n                        icon: const Icon(Icons.camera_alt),\n                        label: const Text('C√¢mera'),\n                      ),\n                    ),\n                    const SizedBox(width: 8),\n                    Expanded(\n                      child: OutlinedButton.icon(\n                        onPressed: () => _pickImage(ImageSource.gallery),\n                        icon: const Icon(Icons.photo_library),\n                        label: const Text('Galeria'),\n                      ),\n                    ),\n                  ],\n                ),\n              const SizedBox(height: 16),\n              TextField(\n                controller: _notesController,\n                decoration: const InputDecoration(\n                  labelText: 'Observa√ß√µes (Opcional)',\n                  border: OutlineInputBorder(),\n                ),\n                maxLines: 2,\n              ),\n              const SizedBox(height: 16),\n              if (viewModel.errorMessage != null)\n                Padding(\n                  padding: const EdgeInsets.only(bottom: 16.0),\n                  child: Text(\n                    viewModel.errorMessage!,\n                    style: TextStyle(\n                      color: Theme.of(context).colorScheme.error,\n                    ),\n                    textAlign: TextAlign.center,\n                  ),\n                ),\n              const SizedBox(height: 8),\n              if (viewModel.isLoading)\n                const Center(child: CircularProgressIndicator())\n              else\n                ElevatedButton(\n                  onPressed: () async {\n                    final success = await viewModel.doCheckIn(\n                      widget.planId,\n                      notes: _notesController.text,\n                      feeling: _selectedFeeling,\n                      photo: _selectedPhoto,\n                    );\n                    if (success && context.mounted) {\n                      Navigator.pop(context);\n                      ScaffoldMessenger.of(context).showSnackBar(\n                        const SnackBar(\n                          content: Text('Check-in realizado com sucesso!'),\n                        ),\n                      );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    padding: const EdgeInsets.symmetric(vertical: 16),\n                  ),\n                  child: const Text('CONFIRMAR CHECK-IN'),\n                ),\n              const SizedBox(height: 24),\n            ],\n          ),\n        ),\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2349,"line":72,"column":52},"end":{"offset":3706,"line":105,"column":18},"text":"{\n                  final feeling = index + 1;\n                  final isSelected = _selectedFeeling == feeling;\n                  return InkWell(\n                    onTap: () {\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    },\n                    borderRadius: BorderRadius.circular(50),\n                    child: Container(\n                      padding: const EdgeInsets.all(8),\n                      decoration: BoxDecoration(\n                        color: isSelected\n                            ? Theme.of(\n                                context,\n                              ).colorScheme.primary.withOpacity(0.2)\n                            : null,\n                        shape: BoxShape.circle,\n                        border: isSelected\n                            ? Border.all(\n                                color: Theme.of(context).colorScheme.primary,\n                                width: 2,\n                              )\n                            : null,\n                      ),\n                      child: Icon(\n                        _getFeelingIcon(feeling),\n                        size: 32,\n                        color: _getFeelingColor(feeling),\n                      ),\n                    ),\n                  );\n                }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2526,"line":76,"column":31},"end":{"offset":2663,"line":80,"column":22},"text":"{\n                      setState(() {\n                        _selectedFeeling = feeling;\n                      });\n                    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2562,"line":77,"column":35},"end":{"offset":2639,"line":79,"column":24},"text":"{\n                        _selectedFeeling = feeling;\n                      }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":169,"unitType":"lines","level":"none","comment":"This method has 169 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":983,"line":39,"column":0},"end":{"offset":983,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1041,"line":41,"column":0},"end":{"offset":1041,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1060,"line":42,"column":0},"end":{"offset":1060,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1138,"line":43,"column":0},"end":{"offset":1138,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1216,"line":44,"column":0},"end":{"offset":1216,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1252,"line":45,"column":0},"end":{"offset":1252,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1276,"line":46,"column":0},"end":{"offset":1276,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1321,"line":47,"column":0},"end":{"offset":1321,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1346,"line":48,"column":0},"end":{"offset":1346,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1390,"line":49,"column":0},"end":{"offset":1390,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1450,"line":50,"column":0},"end":{"offset":1450,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1474,"line":51,"column":0},"end":{"offset":1474,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1493,"line":52,"column":0},"end":{"offset":1493,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1560,"line":53,"column":0},"end":{"offset":1560,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1588,"line":54,"column":0},"end":{"offset":1588,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1618,"line":55,"column":0},"end":{"offset":1618,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1657,"line":56,"column":0},"end":{"offset":1657,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1738,"line":57,"column":0},"end":{"offset":1738,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1759,"line":58,"column":0},"end":{"offset":1759,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1789,"line":59,"column":0},"end":{"offset":1789,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1840,"line":60,"column":0},"end":{"offset":1840,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1901,"line":61,"column":0},"end":{"offset":1901,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1922,"line":62,"column":0},"end":{"offset":1922,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1941,"line":63,"column":0},"end":{"offset":1941,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1958,"line":64,"column":0},"end":{"offset":1958,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2000,"line":65,"column":0},"end":{"offset":2000,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2026,"line":66,"column":0},"end":{"offset":2026,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2078,"line":67,"column":0},"end":{"offset":2078,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2155,"line":68,"column":0},"end":{"offset":2155,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2172,"line":69,"column":0},"end":{"offset":2172,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2213,"line":70,"column":0},"end":{"offset":2213,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2232,"line":71,"column":0},"end":{"offset":2232,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2298,"line":72,"column":0},"end":{"offset":2298,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2351,"line":73,"column":0},"end":{"offset":2351,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2396,"line":74,"column":0},"end":{"offset":2396,"line":74,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2462,"line":75,"column":0},"end":{"offset":2462,"line":75,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2496,"line":76,"column":0},"end":{"offset":2496,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2528,"line":77,"column":0},"end":{"offset":2528,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2564,"line":78,"column":0},"end":{"offset":2564,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2616,"line":79,"column":0},"end":{"offset":2616,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2642,"line":80,"column":0},"end":{"offset":2642,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2665,"line":81,"column":0},"end":{"offset":2665,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2726,"line":82,"column":0},"end":{"offset":2726,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2764,"line":83,"column":0},"end":{"offset":2764,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2820,"line":84,"column":0},"end":{"offset":2820,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2869,"line":85,"column":0},"end":{"offset":2869,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2911,"line":86,"column":0},"end":{"offset":2911,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2951,"line":87,"column":0},"end":{"offset":2951,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2992,"line":88,"column":0},"end":{"offset":2992,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3061,"line":89,"column":0},"end":{"offset":3061,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3097,"line":90,"column":0},"end":{"offset":3097,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3145,"line":91,"column":0},"end":{"offset":3145,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3188,"line":92,"column":0},"end":{"offset":3188,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3230,"line":93,"column":0},"end":{"offset":3230,"line":93,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3308,"line":94,"column":0},"end":{"offset":3308,"line":94,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3350,"line":95,"column":0},"end":{"offset":3350,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3382,"line":96,"column":0},"end":{"offset":3382,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3418,"line":97,"column":0},"end":{"offset":3418,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3443,"line":98,"column":0},"end":{"offset":3443,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3478,"line":99,"column":0},"end":{"offset":3478,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3528,"line":100,"column":0},"end":{"offset":3528,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3562,"line":101,"column":0},"end":{"offset":3562,"line":101,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3620,"line":102,"column":0},"end":{"offset":3620,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3645,"line":103,"column":0},"end":{"offset":3645,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3668,"line":104,"column":0},"end":{"offset":3668,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3689,"line":105,"column":0},"end":{"offset":3689,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3709,"line":106,"column":0},"end":{"offset":3709,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3726,"line":107,"column":0},"end":{"offset":3726,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3768,"line":108,"column":0},"end":{"offset":3768,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3794,"line":109,"column":0},"end":{"offset":3794,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3834,"line":110,"column":0},"end":{"offset":3834,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3911,"line":111,"column":0},"end":{"offset":3911,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3928,"line":112,"column":0},"end":{"offset":3928,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3969,"line":113,"column":0},"end":{"offset":3969,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4011,"line":114,"column":0},"end":{"offset":4011,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4034,"line":115,"column":0},"end":{"offset":4034,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4083,"line":116,"column":0},"end":{"offset":4083,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4113,"line":117,"column":0},"end":{"offset":4113,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4144,"line":118,"column":0},"end":{"offset":4144,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4206,"line":119,"column":0},"end":{"offset":4206,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4247,"line":120,"column":0},"end":{"offset":4247,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4288,"line":121,"column":0},"end":{"offset":4288,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4325,"line":122,"column":0},"end":{"offset":4325,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4373,"line":123,"column":0},"end":{"offset":4373,"line":123,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4416,"line":124,"column":0},"end":{"offset":4416,"line":124,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4441,"line":125,"column":0},"end":{"offset":4441,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4464,"line":126,"column":0},"end":{"offset":4464,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4496,"line":127,"column":0},"end":{"offset":4496,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4570,"line":128,"column":0},"end":{"offset":4570,"line":128,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4608,"line":129,"column":0},"end":{"offset":4608,"line":129,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4646,"line":130,"column":0},"end":{"offset":4646,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4695,"line":131,"column":0},"end":{"offset":4695,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4723,"line":132,"column":0},"end":{"offset":4723,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4748,"line":133,"column":0},"end":{"offset":4748,"line":133,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4771,"line":134,"column":0},"end":{"offset":4771,"line":134,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4792,"line":135,"column":0},"end":{"offset":4792,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4810,"line":136,"column":0},"end":{"offset":4810,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4829,"line":137,"column":0},"end":{"offset":4829,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4850,"line":138,"column":0},"end":{"offset":4850,"line":138,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4880,"line":139,"column":0},"end":{"offset":4880,"line":139,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4910,"line":140,"column":0},"end":{"offset":4910,"line":140,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4960,"line":141,"column":0},"end":{"offset":4960,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5033,"line":142,"column":0},"end":{"offset":5033,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5093,"line":143,"column":0},"end":{"offset":5093,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5146,"line":144,"column":0},"end":{"offset":5146,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5171,"line":145,"column":0},"end":{"offset":5171,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5194,"line":146,"column":0},"end":{"offset":5194,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5240,"line":147,"column":0},"end":{"offset":5240,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5270,"line":148,"column":0},"end":{"offset":5270,"line":148,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5320,"line":149,"column":0},"end":{"offset":5320,"line":149,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5394,"line":150,"column":0},"end":{"offset":5394,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5457,"line":151,"column":0},"end":{"offset":5457,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5511,"line":152,"column":0},"end":{"offset":5511,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5536,"line":153,"column":0},"end":{"offset":5536,"line":153,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5559,"line":154,"column":0},"end":{"offset":5559,"line":154,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5580,"line":155,"column":0},"end":{"offset":5580,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5599,"line":156,"column":0},"end":{"offset":5599,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5641,"line":157,"column":0},"end":{"offset":5641,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5666,"line":158,"column":0},"end":{"offset":5666,"line":158,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5712,"line":159,"column":0},"end":{"offset":5712,"line":159,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5763,"line":160,"column":0},"end":{"offset":5763,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5818,"line":161,"column":0},"end":{"offset":5818,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5866,"line":162,"column":0},"end":{"offset":5866,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5885,"line":163,"column":0},"end":{"offset":5885,"line":163,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5914,"line":164,"column":0},"end":{"offset":5914,"line":164,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5931,"line":165,"column":0},"end":{"offset":5931,"line":165,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5973,"line":166,"column":0},"end":{"offset":5973,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6023,"line":167,"column":0},"end":{"offset":6023,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6048,"line":168,"column":0},"end":{"offset":6048,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6112,"line":169,"column":0},"end":{"offset":6112,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6143,"line":170,"column":0},"end":{"offset":6143,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6188,"line":171,"column":0},"end":{"offset":6188,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6226,"line":172,"column":0},"end":{"offset":6226,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6292,"line":173,"column":0},"end":{"offset":6292,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6315,"line":174,"column":0},"end":{"offset":6315,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6364,"line":175,"column":0},"end":{"offset":6364,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6385,"line":176,"column":0},"end":{"offset":6385,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6404,"line":177,"column":0},"end":{"offset":6404,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6445,"line":178,"column":0},"end":{"offset":6445,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6484,"line":179,"column":0},"end":{"offset":6484,"line":179,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6549,"line":180,"column":0},"end":{"offset":6549,"line":180,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6568,"line":181,"column":0},"end":{"offset":6568,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6600,"line":182,"column":0},"end":{"offset":6600,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6640,"line":183,"column":0},"end":{"offset":6640,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6703,"line":184,"column":0},"end":{"offset":6703,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6740,"line":185,"column":0},"end":{"offset":6740,"line":185,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6792,"line":186,"column":0},"end":{"offset":6792,"line":186,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6841,"line":187,"column":0},"end":{"offset":6841,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6886,"line":188,"column":0},"end":{"offset":6886,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6909,"line":189,"column":0},"end":{"offset":6909,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6963,"line":190,"column":0},"end":{"offset":6963,"line":190,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7009,"line":191,"column":0},"end":{"offset":7009,"line":191,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7075,"line":192,"column":0},"end":{"offset":7075,"line":192,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7115,"line":193,"column":0},"end":{"offset":7115,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7191,"line":194,"column":0},"end":{"offset":7191,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7218,"line":195,"column":0},"end":{"offset":7218,"line":195,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7243,"line":196,"column":0},"end":{"offset":7243,"line":196,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7265,"line":197,"column":0},"end":{"offset":7265,"line":197,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7286,"line":198,"column":0},"end":{"offset":7286,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7337,"line":199,"column":0},"end":{"offset":7337,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7408,"line":200,"column":0},"end":{"offset":7408,"line":200,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7429,"line":201,"column":0},"end":{"offset":7429,"line":201,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7488,"line":202,"column":0},"end":{"offset":7488,"line":202,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7507,"line":203,"column":0},"end":{"offset":7507,"line":203,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7549,"line":204,"column":0},"end":{"offset":7549,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7564,"line":205,"column":0},"end":{"offset":7564,"line":205,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7577,"line":206,"column":0},"end":{"offset":7577,"line":206,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7588,"line":207,"column":0},"end":{"offset":7588,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7597,"line":208,"column":0},"end":{"offset":7597,"line":208,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":27,"level":"alarm","comment":"This method has 27 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CheckInDialogState._getFeelingIcon":{"codeSpan":{"start":{"offset":7611,"line":211,"column":3},"end":{"offset":8028,"line":226,"column":4},"text":"IconData _getFeelingIcon(int level) {\n    switch (level) {\n      case 1:\n        return Icons.sentiment_very_dissatisfied;\n      case 2:\n        return Icons.sentiment_dissatisfied;\n      case 3:\n        return Icons.sentiment_neutral;\n      case 4:\n        return Icons.sentiment_satisfied;\n      case 5:\n        return Icons.sentiment_very_satisfied;\n      default:\n        return Icons.sentiment_neutral;\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Switch default increases complexity","codeSpan":{"start":{"offset":7970,"line":223,"column":7},"end":{"offset":8018,"line":224,"column":40},"text":"default:\n        return Icons.sentiment_neutral;"}}]},{"metricsId":"halstead-volume","value":36.49561398674886,"level":"none","comment":"This method has a halstead volume of 36.49561398674886.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":7647,"line":211,"column":39},"end":{"offset":8028,"line":226,"column":4},"text":"{\n    switch (level) {\n      case 1:\n        return Icons.sentiment_very_dissatisfied;\n      case 2:\n        return Icons.sentiment_dissatisfied;\n      case 3:\n        return Icons.sentiment_neutral;\n      case 4:\n        return Icons.sentiment_satisfied;\n      case 5:\n        return Icons.sentiment_very_satisfied;\n      default:\n        return Icons.sentiment_neutral;\n    }\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":7649,"line":212,"column":0},"end":{"offset":7649,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7670,"line":213,"column":0},"end":{"offset":7670,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7684,"line":214,"column":0},"end":{"offset":7684,"line":214,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7734,"line":215,"column":0},"end":{"offset":7734,"line":215,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7748,"line":216,"column":0},"end":{"offset":7748,"line":216,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7793,"line":217,"column":0},"end":{"offset":7793,"line":217,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7807,"line":218,"column":0},"end":{"offset":7807,"line":218,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7847,"line":219,"column":0},"end":{"offset":7847,"line":219,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7861,"line":220,"column":0},"end":{"offset":7861,"line":220,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7903,"line":221,"column":0},"end":{"offset":7903,"line":221,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7917,"line":222,"column":0},"end":{"offset":7917,"line":222,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7964,"line":223,"column":0},"end":{"offset":7964,"line":223,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7979,"line":224,"column":0},"end":{"offset":7979,"line":224,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8019,"line":225,"column":0},"end":{"offset":8019,"line":225,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":64,"level":"warning","comment":"This method has 64 maintainability index, below the minimum of 100 allowed.","context":[]}]},"_CheckInDialogState._getFeelingColor":{"codeSpan":{"start":{"offset":8032,"line":228,"column":3},"end":{"offset":8360,"line":243,"column":4},"text":"Color _getFeelingColor(int level) {\n    switch (level) {\n      case 1:\n        return Colors.red;\n      case 2:\n        return Colors.orange;\n      case 3:\n        return Colors.amber;\n      case 4:\n        return Colors.lightGreen;\n      case 5:\n        return Colors.green;\n      default:\n        return Colors.grey;\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Switch default increases complexity","codeSpan":{"start":{"offset":8314,"line":240,"column":7},"end":{"offset":8350,"line":241,"column":28},"text":"default:\n        return Colors.grey;"}}]},{"metricsId":"halstead-volume","value":39.0,"level":"none","comment":"This method has a halstead volume of 39.0.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":8066,"line":228,"column":37},"end":{"offset":8360,"line":243,"column":4},"text":"{\n    switch (level) {\n      case 1:\n        return Colors.red;\n      case 2:\n        return Colors.orange;\n      case 3:\n        return Colors.amber;\n      case 4:\n        return Colors.lightGreen;\n      case 5:\n        return Colors.green;\n      default:\n        return Colors.grey;\n    }\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":14,"unitType":"lines","level":"none","comment":"This method has 14 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":8068,"line":229,"column":0},"end":{"offset":8068,"line":229,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8089,"line":230,"column":0},"end":{"offset":8089,"line":230,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8103,"line":231,"column":0},"end":{"offset":8103,"line":231,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8130,"line":232,"column":0},"end":{"offset":8130,"line":232,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8144,"line":233,"column":0},"end":{"offset":8144,"line":233,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8174,"line":234,"column":0},"end":{"offset":8174,"line":234,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8188,"line":235,"column":0},"end":{"offset":8188,"line":235,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8217,"line":236,"column":0},"end":{"offset":8217,"line":236,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8231,"line":237,"column":0},"end":{"offset":8231,"line":237,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8265,"line":238,"column":0},"end":{"offset":8265,"line":238,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8279,"line":239,"column":0},"end":{"offset":8279,"line":239,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8308,"line":240,"column":0},"end":{"offset":8308,"line":240,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8323,"line":241,"column":0},"end":{"offset":8323,"line":241,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":8351,"line":242,"column":0},"end":{"offset":8351,"line":242,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":64,"level":"warning","comment":"This method has 64 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/infra/datasources/check_in_remote_datasource.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInRemoteDataSource":{"codeSpan":{"start":{"offset":179,"line":6,"column":1},"end":{"offset":468,"line":11,"column":2},"text":"abstract class CheckInRemoteDataSource {\n  Future<void> create(String planId, String? notes, int? feeling, File? photo);\n  Future<List<CheckInModel>> getByPlan(String planId);\n  Future<List<CheckInModel>> getByPlanIds(List<String> planIds);\n  Future<bool> hasCheckInToday(String planId);\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method create increase metric value","codeSpan":{"start":{"offset":222,"line":7,"column":3},"end":{"offset":299,"line":7,"column":80},"text":"Future<void> create(String planId, String? notes, int? feeling, File? photo);"}},{"message":"method getByPlan increase metric value","codeSpan":{"start":{"offset":302,"line":8,"column":3},"end":{"offset":354,"line":8,"column":55},"text":"Future<List<CheckInModel>> getByPlan(String planId);"}},{"message":"method getByPlanIds increase metric value","codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":419,"line":9,"column":65},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds);"}},{"message":"method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":422,"line":10,"column":3},"end":{"offset":466,"line":10,"column":47},"text":"Future<bool> hasCheckInToday(String planId);"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method create increase metric value","codeSpan":{"start":{"offset":222,"line":7,"column":3},"end":{"offset":299,"line":7,"column":80},"text":"Future<void> create(String planId, String? notes, int? feeling, File? photo);"}},{"message":"functional method getByPlan increase metric value","codeSpan":{"start":{"offset":302,"line":8,"column":3},"end":{"offset":354,"line":8,"column":55},"text":"Future<List<CheckInModel>> getByPlan(String planId);"}},{"message":"functional method getByPlanIds increase metric value","codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":419,"line":9,"column":65},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds);"}},{"message":"functional method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":422,"line":10,"column":3},"end":{"offset":466,"line":10,"column":47},"text":"Future<bool> hasCheckInToday(String planId);"}}]}]},"ParseCheckInDataSourceImpl":{"codeSpan":{"start":{"offset":470,"line":13,"column":1},"end":{"offset":3577,"line":119,"column":2},"text":"class ParseCheckInDataSourceImpl implements CheckInRemoteDataSource {\n  @override\n  Future<void> create(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    final checkIn = ParseObject('CheckIn');\n    checkIn.set('planId', planId);\n    checkIn.set('date', DateTime.now());\n    checkIn.set<bool>('status', true);\n\n    if (notes != null) {\n      checkIn.set('notes', notes);\n    }\n    if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }\n\n    if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }\n\n    final response = await checkIn.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }\n  }\n\n  @override\n  Future<List<CheckInModel>> getByPlan(String planId) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }\n\n  @override\n  Future<List<CheckInModel>> getByPlanIds(List<String> planIds) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereContainedIn('planId', planIds);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }\n\n  @override\n  Future<bool> hasCheckInToday(String planId) async {\n    final now = DateTime.now();\n    // Create local bounds\n    final startLocal = DateTime(now.year, now.month, now.day, 0, 0, 0);\n    final endLocal = DateTime(now.year, now.month, now.day, 23, 59, 59);\n    // Convert to UTC for the Query\n    final startUtc = startLocal.toUtc();\n    final endUtc = endLocal.toUtc();\n\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.whereGreaterThanOrEqualsTo('date', startUtc);\n    query.whereLessThanOrEqualTo('date', endUtc);\n    query.count();\n\n    final response = await query.query();\n\n    if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method create increase metric value","codeSpan":{"start":{"offset":554,"line":15,"column":3},"end":{"offset":1470,"line":51,"column":4},"text":"Future<void> create(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    final checkIn = ParseObject('CheckIn');\n    checkIn.set('planId', planId);\n    checkIn.set('date', DateTime.now());\n    checkIn.set<bool>('status', true);\n\n    if (notes != null) {\n      checkIn.set('notes', notes);\n    }\n    if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }\n\n    if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }\n\n    final response = await checkIn.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }\n  }"}},{"message":"method getByPlan increase metric value","codeSpan":{"start":{"offset":1486,"line":54,"column":3},"end":{"offset":2130,"line":72,"column":4},"text":"Future<List<CheckInModel>> getByPlan(String planId) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"method getByPlanIds increase metric value","codeSpan":{"start":{"offset":2146,"line":75,"column":3},"end":{"offset":2805,"line":93,"column":4},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereContainedIn('planId', planIds);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":2821,"line":96,"column":3},"end":{"offset":3575,"line":118,"column":4},"text":"Future<bool> hasCheckInToday(String planId) async {\n    final now = DateTime.now();\n    // Create local bounds\n    final startLocal = DateTime(now.year, now.month, now.day, 0, 0, 0);\n    final endLocal = DateTime(now.year, now.month, now.day, 23, 59, 59);\n    // Convert to UTC for the Query\n    final startUtc = startLocal.toUtc();\n    final endUtc = endLocal.toUtc();\n\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.whereGreaterThanOrEqualsTo('date', startUtc);\n    query.whereLessThanOrEqualTo('date', endUtc);\n    query.count();\n\n    final response = await query.query();\n\n    if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method create increase metric value","codeSpan":{"start":{"offset":554,"line":15,"column":3},"end":{"offset":1470,"line":51,"column":4},"text":"Future<void> create(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    final checkIn = ParseObject('CheckIn');\n    checkIn.set('planId', planId);\n    checkIn.set('date', DateTime.now());\n    checkIn.set<bool>('status', true);\n\n    if (notes != null) {\n      checkIn.set('notes', notes);\n    }\n    if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }\n\n    if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }\n\n    final response = await checkIn.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }\n  }"}},{"message":"functional method getByPlan increase metric value","codeSpan":{"start":{"offset":1486,"line":54,"column":3},"end":{"offset":2130,"line":72,"column":4},"text":"Future<List<CheckInModel>> getByPlan(String planId) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"functional method getByPlanIds increase metric value","codeSpan":{"start":{"offset":2146,"line":75,"column":3},"end":{"offset":2805,"line":93,"column":4},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereContainedIn('planId', planIds);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"functional method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":2821,"line":96,"column":3},"end":{"offset":3575,"line":118,"column":4},"text":"Future<bool> hasCheckInToday(String planId) async {\n    final now = DateTime.now();\n    // Create local bounds\n    final startLocal = DateTime(now.year, now.month, now.day, 0, 0, 0);\n    final endLocal = DateTime(now.year, now.month, now.day, 23, 59, 59);\n    // Convert to UTC for the Query\n    final startUtc = startLocal.toUtc();\n    final endUtc = endLocal.toUtc();\n\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.whereGreaterThanOrEqualsTo('date', startUtc);\n    query.whereLessThanOrEqualTo('date', endUtc);\n    query.count();\n\n    final response = await query.query();\n\n    if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }\n  }"}}]}]}},"functions":{"CheckInRemoteDataSource.create":{"codeSpan":{"start":{"offset":222,"line":7,"column":3},"end":{"offset":299,"line":7,"column":80},"text":"Future<void> create(String planId, String? notes, int? feeling, File? photo);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRemoteDataSource.getByPlan":{"codeSpan":{"start":{"offset":302,"line":8,"column":3},"end":{"offset":354,"line":8,"column":55},"text":"Future<List<CheckInModel>> getByPlan(String planId);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRemoteDataSource.getByPlanIds":{"codeSpan":{"start":{"offset":357,"line":9,"column":3},"end":{"offset":419,"line":9,"column":65},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRemoteDataSource.hasCheckInToday":{"codeSpan":{"start":{"offset":422,"line":10,"column":3},"end":{"offset":466,"line":10,"column":47},"text":"Future<bool> hasCheckInToday(String planId);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"ParseCheckInDataSourceImpl.create":{"codeSpan":{"start":{"offset":554,"line":15,"column":3},"end":{"offset":1470,"line":51,"column":4},"text":"Future<void> create(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    final checkIn = ParseObject('CheckIn');\n    checkIn.set('planId', planId);\n    checkIn.set('date', DateTime.now());\n    checkIn.set<bool>('status', true);\n\n    if (notes != null) {\n      checkIn.set('notes', notes);\n    }\n    if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }\n\n    if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }\n\n    final response = await checkIn.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":10,"level":"alarm","comment":"This method has a cyclomatic complexity of 10, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":824,"line":26,"column":5},"end":{"offset":885,"line":28,"column":6},"text":"if (notes != null) {\n      checkIn.set('notes', notes);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":890,"line":29,"column":5},"end":{"offset":962,"line":31,"column":6},"text":"if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":968,"line":33,"column":5},"end":{"offset":1275,"line":42,"column":6},"text":"if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1084,"line":36,"column":7},"end":{"offset":1230,"line":40,"column":8},"text":"if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1173,"line":38,"column":34},"end":{"offset":1175,"line":38,"column":36},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1183,"line":38,"column":44},"end":{"offset":1185,"line":38,"column":46},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1325,"line":46,"column":5},"end":{"offset":1466,"line":50,"column":6},"text":"if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":1410,"line":48,"column":32},"end":{"offset":1412,"line":48,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1420,"line":48,"column":42},"end":{"offset":1422,"line":48,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":318.57746264495245,"level":"none","comment":"This method has a halstead volume of 318.57746264495245.","context":[]},{"metricsId":"lines-of-code","value":38,"unitType":"lines","level":"none","comment":"This method has 38 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":658,"line":20,"column":11},"end":{"offset":1470,"line":51,"column":4},"text":"{\n    final checkIn = ParseObject('CheckIn');\n    checkIn.set('planId', planId);\n    checkIn.set('date', DateTime.now());\n    checkIn.set<bool>('status', true);\n\n    if (notes != null) {\n      checkIn.set('notes', notes);\n    }\n    if (feeling != null) {\n      checkIn.set<int>('feeling', feeling);\n    }\n\n    if (photo != null) {\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }\n\n    final response = await checkIn.save();\n\n    if (!response.success) {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to create check-in',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":987,"line":33,"column":24},"end":{"offset":1275,"line":42,"column":6},"text":"{\n      final parseFile = ParseFile(photo);\n      final response = await parseFile.save();\n      if (!response.success) {\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }\n      checkIn.set('photo', parseFile);\n    }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1107,"line":36,"column":30},"end":{"offset":1230,"line":40,"column":8},"text":"{\n        throw ServerException(\n          message: response.error?.message ?? 'Failed to upload photo',\n        );\n      }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":26,"unitType":"lines","level":"none","comment":"This method has 26 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":660,"line":21,"column":0},"end":{"offset":660,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":704,"line":22,"column":0},"end":{"offset":704,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":739,"line":23,"column":0},"end":{"offset":739,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":780,"line":24,"column":0},"end":{"offset":780,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":820,"line":26,"column":0},"end":{"offset":820,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":845,"line":27,"column":0},"end":{"offset":845,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":880,"line":28,"column":0},"end":{"offset":880,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":886,"line":29,"column":0},"end":{"offset":886,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":913,"line":30,"column":0},"end":{"offset":913,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":957,"line":31,"column":0},"end":{"offset":957,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":964,"line":33,"column":0},"end":{"offset":964,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":989,"line":34,"column":0},"end":{"offset":989,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1031,"line":35,"column":0},"end":{"offset":1031,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1078,"line":36,"column":0},"end":{"offset":1078,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1109,"line":37,"column":0},"end":{"offset":1109,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1140,"line":38,"column":0},"end":{"offset":1140,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1212,"line":39,"column":0},"end":{"offset":1212,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1223,"line":40,"column":0},"end":{"offset":1223,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1231,"line":41,"column":0},"end":{"offset":1231,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1270,"line":42,"column":0},"end":{"offset":1270,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1277,"line":44,"column":0},"end":{"offset":1277,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1321,"line":46,"column":0},"end":{"offset":1321,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1350,"line":47,"column":0},"end":{"offset":1350,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1379,"line":48,"column":0},"end":{"offset":1379,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1452,"line":49,"column":0},"end":{"offset":1452,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1461,"line":50,"column":0},"end":{"offset":1461,"line":50,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":51,"level":"warning","comment":"This method has 51 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCheckInDataSourceImpl.getByPlan":{"codeSpan":{"start":{"offset":1486,"line":54,"column":3},"end":{"offset":2130,"line":72,"column":4},"text":"Future<List<CheckInModel>> getByPlan(String planId) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1742,"line":61,"column":5},"end":{"offset":2126,"line":71,"column":6},"text":"if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1763,"line":61,"column":26},"end":{"offset":1765,"line":61,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1928,"line":65,"column":12},"end":{"offset":2126,"line":71,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":1949,"line":65,"column":33},"end":{"offset":1951,"line":65,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":2070,"line":69,"column":32},"end":{"offset":2072,"line":69,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2080,"line":69,"column":42},"end":{"offset":2082,"line":69,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":249.9824559469954,"level":"none","comment":"This method has a halstead volume of 249.9824559469954.","context":[]},{"metricsId":"lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1544,"line":54,"column":61},"end":{"offset":2130,"line":72,"column":4},"text":"{\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1792,"line":61,"column":55},"end":{"offset":1922,"line":65,"column":6},"text":"{\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1546,"line":55,"column":0},"end":{"offset":1546,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1615,"line":56,"column":0},"end":{"offset":1615,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1657,"line":57,"column":0},"end":{"offset":1657,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1695,"line":59,"column":0},"end":{"offset":1695,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1738,"line":61,"column":0},"end":{"offset":1738,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1794,"line":62,"column":0},"end":{"offset":1794,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1847,"line":63,"column":0},"end":{"offset":1847,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1896,"line":64,"column":0},"end":{"offset":1896,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1917,"line":65,"column":0},"end":{"offset":1917,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1980,"line":66,"column":0},"end":{"offset":1980,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1997,"line":67,"column":0},"end":{"offset":1997,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2010,"line":68,"column":0},"end":{"offset":2010,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2039,"line":69,"column":0},"end":{"offset":2039,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2112,"line":70,"column":0},"end":{"offset":2112,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2121,"line":71,"column":0},"end":{"offset":2121,"line":71,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCheckInDataSourceImpl.getByPlanIds":{"codeSpan":{"start":{"offset":2146,"line":75,"column":3},"end":{"offset":2805,"line":93,"column":4},"text":"Future<List<CheckInModel>> getByPlanIds(List<String> planIds) async {\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereContainedIn('planId', planIds);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":7,"level":"alarm","comment":"This method has a cyclomatic complexity of 7, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2417,"line":82,"column":5},"end":{"offset":2801,"line":92,"column":6},"text":"if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2438,"line":82,"column":26},"end":{"offset":2440,"line":82,"column":28},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":2603,"line":86,"column":12},"end":{"offset":2801,"line":92,"column":6},"text":"if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":2624,"line":86,"column":33},"end":{"offset":2626,"line":86,"column":35},"text":"&&"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":2745,"line":90,"column":32},"end":{"offset":2747,"line":90,"column":34},"text":"?."}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":2755,"line":90,"column":42},"end":{"offset":2757,"line":90,"column":44},"text":"??"}}]},{"metricsId":"halstead-volume","value":249.9824559469954,"level":"none","comment":"This method has a halstead volume of 249.9824559469954.","context":[]},{"metricsId":"lines-of-code","value":20,"unitType":"lines","level":"none","comment":"This method has 20 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2214,"line":75,"column":71},"end":{"offset":2805,"line":93,"column":4},"text":"{\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereContainedIn('planId', planIds);\n    query.orderByDescending('date');\n\n    final response = await query.query();\n\n    if (response.success && response.results != null) {\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    } else if (response.success && response.results == null) {\n      return [];\n    } else {\n      throw ServerException(\n        message: response.error?.message ?? 'Failed to fetch check-ins',\n      );\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":2467,"line":82,"column":55},"end":{"offset":2597,"line":86,"column":6},"text":"{\n      return (response.results as List<ParseObject>)\n          .map((e) => CheckInModel.fromParse(e))\n          .toList();\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2216,"line":76,"column":0},"end":{"offset":2216,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2285,"line":77,"column":0},"end":{"offset":2285,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2332,"line":78,"column":0},"end":{"offset":2332,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2370,"line":80,"column":0},"end":{"offset":2370,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2413,"line":82,"column":0},"end":{"offset":2413,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2469,"line":83,"column":0},"end":{"offset":2469,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2522,"line":84,"column":0},"end":{"offset":2522,"line":84,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2571,"line":85,"column":0},"end":{"offset":2571,"line":85,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2592,"line":86,"column":0},"end":{"offset":2592,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2655,"line":87,"column":0},"end":{"offset":2655,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2672,"line":88,"column":0},"end":{"offset":2672,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2685,"line":89,"column":0},"end":{"offset":2685,"line":89,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2714,"line":90,"column":0},"end":{"offset":2714,"line":90,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2787,"line":91,"column":0},"end":{"offset":2787,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2796,"line":92,"column":0},"end":{"offset":2796,"line":92,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"ParseCheckInDataSourceImpl.hasCheckInToday":{"codeSpan":{"start":{"offset":2821,"line":96,"column":3},"end":{"offset":3575,"line":118,"column":4},"text":"Future<bool> hasCheckInToday(String planId) async {\n    final now = DateTime.now();\n    // Create local bounds\n    final startLocal = DateTime(now.year, now.month, now.day, 0, 0, 0);\n    final endLocal = DateTime(now.year, now.month, now.day, 23, 59, 59);\n    // Convert to UTC for the Query\n    final startUtc = startLocal.toUtc();\n    final endUtc = endLocal.toUtc();\n\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.whereGreaterThanOrEqualsTo('date', startUtc);\n    query.whereLessThanOrEqualTo('date', endUtc);\n    query.count();\n\n    final response = await query.query();\n\n    if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":2,"level":"warning","comment":"This method has a cyclomatic complexity of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3476,"line":113,"column":5},"end":{"offset":3571,"line":117,"column":6},"text":"if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }"}}]},{"metricsId":"halstead-volume","value":265.9278250418271,"level":"none","comment":"This method has a halstead volume of 265.9278250418271.","context":[]},{"metricsId":"lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2871,"line":96,"column":53},"end":{"offset":3575,"line":118,"column":4},"text":"{\n    final now = DateTime.now();\n    // Create local bounds\n    final startLocal = DateTime(now.year, now.month, now.day, 0, 0, 0);\n    final endLocal = DateTime(now.year, now.month, now.day, 23, 59, 59);\n    // Convert to UTC for the Query\n    final startUtc = startLocal.toUtc();\n    final endUtc = endLocal.toUtc();\n\n    final query = QueryBuilder<ParseObject>(ParseObject('CheckIn'));\n    query.whereEqualTo('planId', planId);\n    query.whereGreaterThanOrEqualsTo('date', startUtc);\n    query.whereLessThanOrEqualTo('date', endUtc);\n    query.count();\n\n    final response = await query.query();\n\n    if (response.success) {\n      return response.count > 0;\n    } else {\n      return false;\n    }\n  }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3498,"line":113,"column":27},"end":{"offset":3538,"line":115,"column":6},"text":"{\n      return response.count > 0;\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2873,"line":97,"column":0},"end":{"offset":2873,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2932,"line":99,"column":0},"end":{"offset":2932,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3004,"line":100,"column":0},"end":{"offset":3004,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3113,"line":102,"column":0},"end":{"offset":3113,"line":102,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3154,"line":103,"column":0},"end":{"offset":3154,"line":103,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3192,"line":105,"column":0},"end":{"offset":3192,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3261,"line":106,"column":0},"end":{"offset":3261,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3303,"line":107,"column":0},"end":{"offset":3303,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3359,"line":108,"column":0},"end":{"offset":3359,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3409,"line":109,"column":0},"end":{"offset":3409,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3429,"line":111,"column":0},"end":{"offset":3429,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3472,"line":113,"column":0},"end":{"offset":3472,"line":113,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3500,"line":114,"column":0},"end":{"offset":3500,"line":114,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3533,"line":115,"column":0},"end":{"offset":3533,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3546,"line":116,"column":0},"end":{"offset":3546,"line":116,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3566,"line":117,"column":0},"end":{"offset":3566,"line":117,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/infra/repositories/check_in_repository_impl.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInRepositoryImpl":{"codeSpan":{"start":{"offset":394,"line":10,"column":1},"end":{"offset":2548,"line":86,"column":2},"text":"class CheckInRepositoryImpl implements CheckInRepository {\n  final CheckInRemoteDataSource remoteDataSource;\n  final CarePlanRepository carePlanRepository;\n\n  CheckInRepositoryImpl(\n    this.remoteDataSource, {\n    required this.carePlanRepository,\n  });\n\n  @override\n  Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    try {\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  ) async {\n    try {\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  ) async {\n    try {\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    } on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n\n  @override\n  Future<Either<Failure, bool>> hasCheckInToday(String planId) async {\n    try {\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":5,"unitType":"methods","level":"none","comment":"This class has 5 methods.","context":[{"message":"constructor CheckInRepositoryImpl increase metric value","codeSpan":{"start":{"offset":553,"line":14,"column":3},"end":{"offset":648,"line":17,"column":6},"text":"CheckInRepositoryImpl(\n    this.remoteDataSource, {\n    required this.carePlanRepository,\n  });"}},{"message":"method createCheckIn increase metric value","codeSpan":{"start":{"offset":664,"line":20,"column":3},"end":{"offset":1072,"line":34,"column":4},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    try {\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"method getCheckInsForPlan increase metric value","codeSpan":{"start":{"offset":1088,"line":37,"column":3},"end":{"offset":1453,"line":48,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  ) async {\n    try {\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"method getCheckInsByPatient increase metric value","codeSpan":{"start":{"offset":1469,"line":51,"column":3},"end":{"offset":2186,"line":73,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  ) async {\n    try {\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    } on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":2202,"line":76,"column":3},"end":{"offset":2546,"line":85,"column":4},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId) async {\n    try {\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]},{"metricsId":"weight-of-class","value":0.8,"level":"none","comment":"This class has a weight of 0.8.","context":[{"message":"public constructor CheckInRepositoryImpl decrease metric value","codeSpan":{"start":{"offset":553,"line":14,"column":3},"end":{"offset":648,"line":17,"column":6},"text":"CheckInRepositoryImpl(\n    this.remoteDataSource, {\n    required this.carePlanRepository,\n  });"}},{"message":"functional method createCheckIn increase metric value","codeSpan":{"start":{"offset":664,"line":20,"column":3},"end":{"offset":1072,"line":34,"column":4},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    try {\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"functional method getCheckInsForPlan increase metric value","codeSpan":{"start":{"offset":1088,"line":37,"column":3},"end":{"offset":1453,"line":48,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  ) async {\n    try {\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"functional method getCheckInsByPatient increase metric value","codeSpan":{"start":{"offset":1469,"line":51,"column":3},"end":{"offset":2186,"line":73,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  ) async {\n    try {\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    } on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"functional method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":2202,"line":76,"column":3},"end":{"offset":2546,"line":85,"column":4},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId) async {\n    try {\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}}]}]}},"functions":{"CheckInRepositoryImpl.CheckInRepositoryImpl":{"codeSpan":{"start":{"offset":553,"line":14,"column":3},"end":{"offset":648,"line":17,"column":6},"text":"CheckInRepositoryImpl(\n    this.remoteDataSource, {\n    required this.carePlanRepository,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This constructor has 4 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CheckInRepositoryImpl.createCheckIn":{"codeSpan":{"start":{"offset":664,"line":20,"column":3},"end":{"offset":1072,"line":34,"column":4},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  ) async {\n    try {\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":910,"line":29,"column":7},"end":{"offset":991,"line":31,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":992,"line":31,"column":7},"end":{"offset":1068,"line":33,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":78.13781191217038,"level":"none","comment":"This method has a halstead volume of 78.13781191217038.","context":[]},{"metricsId":"lines-of-code","value":16,"unitType":"lines","level":"none","comment":"This method has 16 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":792,"line":25,"column":11},"end":{"offset":1072,"line":34,"column":4},"text":"{\n    try {\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":802,"line":26,"column":9},"end":{"offset":909,"line":29,"column":6},"text":"{\n      await remoteDataSource.create(planId, notes, feeling, photo);\n      return const Right(unit);\n    }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":794,"line":26,"column":0},"end":{"offset":794,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":804,"line":27,"column":0},"end":{"offset":804,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":872,"line":28,"column":0},"end":{"offset":872,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":904,"line":29,"column":0},"end":{"offset":904,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":941,"line":30,"column":0},"end":{"offset":941,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":986,"line":31,"column":0},"end":{"offset":986,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1004,"line":32,"column":0},"end":{"offset":1004,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1063,"line":33,"column":0},"end":{"offset":1063,"line":33,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CheckInRepositoryImpl.getCheckInsForPlan":{"codeSpan":{"start":{"offset":1088,"line":37,"column":3},"end":{"offset":1453,"line":48,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  ) async {\n    try {\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1291,"line":43,"column":7},"end":{"offset":1372,"line":45,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":1373,"line":45,"column":7},"end":{"offset":1449,"line":47,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":70.30835464468075,"level":"none","comment":"This method has a halstead volume of 70.30835464468075.","context":[]},{"metricsId":"lines-of-code","value":13,"unitType":"lines","level":"none","comment":"This method has 13 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1182,"line":39,"column":11},"end":{"offset":1453,"line":48,"column":4},"text":"{\n    try {\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1192,"line":40,"column":9},"end":{"offset":1290,"line":43,"column":6},"text":"{\n      final models = await remoteDataSource.getByPlan(planId);\n      return Right(models);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1184,"line":40,"column":0},"end":{"offset":1184,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1194,"line":41,"column":0},"end":{"offset":1194,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1257,"line":42,"column":0},"end":{"offset":1257,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1285,"line":43,"column":0},"end":{"offset":1285,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1322,"line":44,"column":0},"end":{"offset":1322,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1367,"line":45,"column":0},"end":{"offset":1367,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1385,"line":46,"column":0},"end":{"offset":1385,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1444,"line":47,"column":0},"end":{"offset":1444,"line":47,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CheckInRepositoryImpl.getCheckInsByPatient":{"codeSpan":{"start":{"offset":1469,"line":51,"column":3},"end":{"offset":2186,"line":73,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  ) async {\n    try {\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    } on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1803,"line":61,"column":9},"end":{"offset":1867,"line":63,"column":10},"text":"if (plans.isEmpty) {\n          return const Right([]);\n        }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2087,"line":70,"column":7},"end":{"offset":2182,"line":72,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":279.6827125439906,"level":"none","comment":"This method has a halstead volume of 279.6827125439906.","context":[]},{"metricsId":"lines-of-code","value":24,"unitType":"lines","level":"none","comment":"This method has 24 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":4,"level":"alarm","comment":"This method has a nesting level of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1568,"line":53,"column":11},"end":{"offset":2186,"line":73,"column":4},"text":"{\n    try {\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    } on ServerException catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":1578,"line":54,"column":9},"end":{"offset":2086,"line":70,"column":6},"text":"{\n      // 1. Fetch plans for the patient\n      final plansResult = await carePlanRepository.getPlansByPatientId(\n        patientId,\n      );\n\n      return plansResult.fold((failure) => Left(failure), (plans) async {\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      });\n    }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1793,"line":60,"column":73},"end":{"offset":2078,"line":69,"column":8},"text":"{\n        if (plans.isEmpty) {\n          return const Right([]);\n        }\n        final planIds = plans.map((e) => e.id).toList();\n\n        // 2. Fetch check-ins for these plans\n        final models = await remoteDataSource.getByPlanIds(planIds);\n        return Right(models);\n      }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1822,"line":61,"column":28},"end":{"offset":1867,"line":63,"column":10},"text":"{\n          return const Right([]);\n        }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":15,"unitType":"lines","level":"none","comment":"This method has 15 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":1570,"line":54,"column":0},"end":{"offset":1570,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1620,"line":56,"column":0},"end":{"offset":1620,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1692,"line":57,"column":0},"end":{"offset":1692,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1711,"line":58,"column":0},"end":{"offset":1711,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1721,"line":60,"column":0},"end":{"offset":1721,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1795,"line":61,"column":0},"end":{"offset":1795,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1824,"line":62,"column":0},"end":{"offset":1824,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1858,"line":63,"column":0},"end":{"offset":1858,"line":63,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1868,"line":64,"column":0},"end":{"offset":1868,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1972,"line":67,"column":0},"end":{"offset":1972,"line":67,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2041,"line":68,"column":0},"end":{"offset":2041,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2071,"line":69,"column":0},"end":{"offset":2071,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2081,"line":70,"column":0},"end":{"offset":2081,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2118,"line":71,"column":0},"end":{"offset":2118,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2177,"line":72,"column":0},"end":{"offset":2177,"line":72,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":57,"level":"warning","comment":"This method has 57 maintainability index, below the minimum of 100 allowed.","context":[]}]},"CheckInRepositoryImpl.hasCheckInToday":{"codeSpan":{"start":{"offset":2202,"line":76,"column":3},"end":{"offset":2546,"line":85,"column":4},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId) async {\n    try {\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This method has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2384,"line":80,"column":7},"end":{"offset":2465,"line":82,"column":6},"text":"on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    }"}},{"message":"Catch clause increases complexity","codeSpan":{"start":{"offset":2466,"line":82,"column":7},"end":{"offset":2542,"line":84,"column":6},"text":"catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }"}}]},{"metricsId":"halstead-volume","value":70.30835464468075,"level":"none","comment":"This method has a halstead volume of 70.30835464468075.","context":[]},{"metricsId":"lines-of-code","value":11,"unitType":"lines","level":"none","comment":"This method has 11 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This method has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":2269,"line":76,"column":70},"end":{"offset":2546,"line":85,"column":4},"text":"{\n    try {\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    } on ServerException catch (e) {\n      return Left(ServerFailure(e.message));\n    } catch (e) {\n      return Left(ServerFailure('Erro desconhecido: $e'));\n    }\n  }"}},{"message":"Try statement increases depth","codeSpan":{"start":{"offset":2279,"line":77,"column":9},"end":{"offset":2383,"line":80,"column":6},"text":"{\n      final result = await remoteDataSource.hasCheckInToday(planId);\n      return Right(result);\n    }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":8,"unitType":"lines","level":"none","comment":"This method has 8 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":2271,"line":77,"column":0},"end":{"offset":2271,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2281,"line":78,"column":0},"end":{"offset":2281,"line":78,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2350,"line":79,"column":0},"end":{"offset":2350,"line":79,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2378,"line":80,"column":0},"end":{"offset":2378,"line":80,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2415,"line":81,"column":0},"end":{"offset":2415,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2460,"line":82,"column":0},"end":{"offset":2460,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2478,"line":83,"column":0},"end":{"offset":2478,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2537,"line":84,"column":0},"end":{"offset":2537,"line":84,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":67,"level":"warning","comment":"This method has 67 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/infra/models/check_in_model.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInModel":{"codeSpan":{"start":{"offset":127,"line":4,"column":1},"end":{"offset":871,"line":28,"column":2},"text":"class CheckInModel extends CheckInEntity {\n  const CheckInModel({\n    required super.id,\n    required super.planId,\n    required super.date,\n    required super.status,\n    super.notes,\n    super.feeling,\n    super.photoUrl,\n    super.photoPath,\n  });\n\n  factory CheckInModel.fromParse(ParseObject parseObject) {\n    final photoFile = parseObject.get<ParseFile>('photo');\n    return CheckInModel(\n      id: parseObject.objectId!,\n      planId: parseObject.get<String>('planId') ?? '',\n      date: parseObject.get<DateTime>('date') ?? DateTime.now(),\n      status: parseObject.get<bool>('status') ?? false,\n      notes: parseObject.get<String>('notes'),\n      feeling: parseObject.get<int>('feeling'),\n      photoUrl: photoFile?.url,\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CheckInModel increase metric value","codeSpan":{"start":{"offset":172,"line":5,"column":3},"end":{"offset":377,"line":14,"column":6},"text":"const CheckInModel({\n    required super.id,\n    required super.planId,\n    required super.date,\n    required super.status,\n    super.notes,\n    super.feeling,\n    super.photoUrl,\n    super.photoPath,\n  });"}},{"message":"constructor fromParse increase metric value","codeSpan":{"start":{"offset":381,"line":16,"column":3},"end":{"offset":869,"line":27,"column":4},"text":"factory CheckInModel.fromParse(ParseObject parseObject) {\n    final photoFile = parseObject.get<ParseFile>('photo');\n    return CheckInModel(\n      id: parseObject.objectId!,\n      planId: parseObject.get<String>('planId') ?? '',\n      date: parseObject.get<DateTime>('date') ?? DateTime.now(),\n      status: parseObject.get<bool>('status') ?? false,\n      notes: parseObject.get<String>('notes'),\n      feeling: parseObject.get<int>('feeling'),\n      photoUrl: photoFile?.url,\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor CheckInModel decrease metric value","codeSpan":{"start":{"offset":172,"line":5,"column":3},"end":{"offset":377,"line":14,"column":6},"text":"const CheckInModel({\n    required super.id,\n    required super.planId,\n    required super.date,\n    required super.status,\n    super.notes,\n    super.feeling,\n    super.photoUrl,\n    super.photoPath,\n  });"}},{"message":"public constructor fromParse decrease metric value","codeSpan":{"start":{"offset":381,"line":16,"column":3},"end":{"offset":869,"line":27,"column":4},"text":"factory CheckInModel.fromParse(ParseObject parseObject) {\n    final photoFile = parseObject.get<ParseFile>('photo');\n    return CheckInModel(\n      id: parseObject.objectId!,\n      planId: parseObject.get<String>('planId') ?? '',\n      date: parseObject.get<DateTime>('date') ?? DateTime.now(),\n      status: parseObject.get<bool>('status') ?? false,\n      notes: parseObject.get<String>('notes'),\n      feeling: parseObject.get<int>('feeling'),\n      photoUrl: photoFile?.url,\n    );\n  }"}}]}]}},"functions":{"CheckInModel.CheckInModel":{"codeSpan":{"start":{"offset":172,"line":5,"column":3},"end":{"offset":377,"line":14,"column":6},"text":"const CheckInModel({\n    required super.id,\n    required super.planId,\n    required super.date,\n    required super.status,\n    super.notes,\n    super.feeling,\n    super.photoUrl,\n    super.photoPath,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This constructor has 10 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CheckInModel.fromParse":{"codeSpan":{"start":{"offset":381,"line":16,"column":3},"end":{"offset":869,"line":27,"column":4},"text":"factory CheckInModel.fromParse(ParseObject parseObject) {\n    final photoFile = parseObject.get<ParseFile>('photo');\n    return CheckInModel(\n      id: parseObject.objectId!,\n      planId: parseObject.get<String>('planId') ?? '',\n      date: parseObject.get<DateTime>('date') ?? DateTime.now(),\n      status: parseObject.get<bool>('status') ?? false,\n      notes: parseObject.get<String>('notes'),\n      feeling: parseObject.get<int>('feeling'),\n      photoUrl: photoFile?.url,\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This constructor has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":604,"line":20,"column":49},"end":{"offset":606,"line":20,"column":51},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":657,"line":21,"column":47},"end":{"offset":659,"line":21,"column":49},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":722,"line":22,"column":47},"end":{"offset":724,"line":22,"column":49},"text":"??"}},{"message":"Operator ?. increases complexity","codeSpan":{"start":{"offset":852,"line":25,"column":26},"end":{"offset":854,"line":25,"column":28},"text":"?."}}]},{"metricsId":"halstead-volume","value":236.83666567851094,"level":"none","comment":"This constructor has a halstead volume of 236.83666567851094.","context":[]},{"metricsId":"lines-of-code","value":12,"unitType":"lines","level":"none","comment":"This constructor has 12 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This constructor has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":437,"line":16,"column":59},"end":{"offset":869,"line":27,"column":4},"text":"{\n    final photoFile = parseObject.get<ParseFile>('photo');\n    return CheckInModel(\n      id: parseObject.objectId!,\n      planId: parseObject.get<String>('planId') ?? '',\n      date: parseObject.get<DateTime>('date') ?? DateTime.now(),\n      status: parseObject.get<bool>('status') ?? false,\n      notes: parseObject.get<String>('notes'),\n      feeling: parseObject.get<int>('feeling'),\n      photoUrl: photoFile?.url,\n    );\n  }"}}]},{"metricsId":"source-lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This constructor has 10 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":439,"line":17,"column":0},"end":{"offset":439,"line":17,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":498,"line":18,"column":0},"end":{"offset":498,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":523,"line":19,"column":0},"end":{"offset":523,"line":19,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":556,"line":20,"column":0},"end":{"offset":556,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":611,"line":21,"column":0},"end":{"offset":611,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":676,"line":22,"column":0},"end":{"offset":676,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":732,"line":23,"column":0},"end":{"offset":732,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":779,"line":24,"column":0},"end":{"offset":779,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":827,"line":25,"column":0},"end":{"offset":827,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":859,"line":26,"column":0},"end":{"offset":859,"line":26,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":61,"level":"warning","comment":"This constructor has 61 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/repositories/check_in_repository.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInRepository":{"codeSpan":{"start":{"offset":144,"line":6,"column":1},"end":{"offset":556,"line":20,"column":2},"text":"abstract class CheckInRepository {\n  Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  );\n  Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  );\n  Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  );\n  Future<Either<Failure, bool>> hasCheckInToday(String planId);\n}"},"metrics":[{"metricsId":"number-of-methods","value":4,"unitType":"methods","level":"none","comment":"This class has 4 methods.","context":[{"message":"method createCheckIn increase metric value","codeSpan":{"start":{"offset":181,"line":7,"column":3},"end":{"offset":303,"line":12,"column":5},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  );"}},{"message":"method getCheckInsForPlan increase metric value","codeSpan":{"start":{"offset":306,"line":13,"column":3},"end":{"offset":394,"line":15,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  );"}},{"message":"method getCheckInsByPatient increase metric value","codeSpan":{"start":{"offset":397,"line":16,"column":3},"end":{"offset":490,"line":18,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  );"}},{"message":"method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":493,"line":19,"column":3},"end":{"offset":554,"line":19,"column":64},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId);"}}]},{"metricsId":"weight-of-class","value":1.0,"level":"none","comment":"This class has a weight of 1.0.","context":[{"message":"functional method createCheckIn increase metric value","codeSpan":{"start":{"offset":181,"line":7,"column":3},"end":{"offset":303,"line":12,"column":5},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  );"}},{"message":"functional method getCheckInsForPlan increase metric value","codeSpan":{"start":{"offset":306,"line":13,"column":3},"end":{"offset":394,"line":15,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  );"}},{"message":"functional method getCheckInsByPatient increase metric value","codeSpan":{"start":{"offset":397,"line":16,"column":3},"end":{"offset":490,"line":18,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  );"}},{"message":"functional method hasCheckInToday increase metric value","codeSpan":{"start":{"offset":493,"line":19,"column":3},"end":{"offset":554,"line":19,"column":64},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId);"}}]}]}},"functions":{"CheckInRepository.createCheckIn":{"codeSpan":{"start":{"offset":181,"line":7,"column":3},"end":{"offset":303,"line":12,"column":5},"text":"Future<Either<Failure, Unit>> createCheckIn(\n    String planId,\n    String? notes,\n    int? feeling,\n    File? photo,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This method has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRepository.getCheckInsForPlan":{"codeSpan":{"start":{"offset":306,"line":13,"column":3},"end":{"offset":394,"line":15,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsForPlan(\n    String planId,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRepository.getCheckInsByPatient":{"codeSpan":{"start":{"offset":397,"line":16,"column":3},"end":{"offset":490,"line":18,"column":5},"text":"Future<Either<Failure, List<CheckInEntity>>> getCheckInsByPatient(\n    String patientId,\n  );"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]},"CheckInRepository.hasCheckInToday":{"codeSpan":{"start":{"offset":493,"line":19,"column":3},"end":{"offset":554,"line":19,"column":64},"text":"Future<Either<Failure, bool>> hasCheckInToday(String planId);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This method has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This method has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This method has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This method has 100 maintainability index.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/usecases/perform_check_in_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"PerformCheckInUseCase":{"codeSpan":{"start":{"offset":152,"line":6,"column":1},"end":{"offset":1318,"line":49,"column":2},"text":"class PerformCheckInUseCase {\n  final CheckInRepository repository;\n\n  PerformCheckInUseCase(this.repository);\n\n  Future<Either<Failure, Unit>> call(\n    String planId,\n    String? notes, {\n    int? feeling,\n    File? photo,\n  }) async {\n    // Valida√ß√£o de Neg√≥cio: Verificar se j√° existe check-in HOJE\n    final historyResult = await repository.getCheckInsForPlan(planId);\n\n    return historyResult.fold(\n      (failure) {\n        return Left(failure);\n      },\n      (history) async {\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      },\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":3,"unitType":"methods","level":"none","comment":"This class has 3 methods.","context":[{"message":"constructor PerformCheckInUseCase increase metric value","codeSpan":{"start":{"offset":223,"line":9,"column":3},"end":{"offset":262,"line":9,"column":42},"text":"PerformCheckInUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":266,"line":11,"column":3},"end":{"offset":1316,"line":48,"column":4},"text":"Future<Either<Failure, Unit>> call(\n    String planId,\n    String? notes, {\n    int? feeling,\n    File? photo,\n  }) async {\n    // Valida√ß√£o de Neg√≥cio: Verificar se j√° existe check-in HOJE\n    final historyResult = await repository.getCheckInsForPlan(planId);\n\n    return historyResult.fold(\n      (failure) {\n        return Left(failure);\n      },\n      (history) async {\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      },\n    );\n  }"}},{"message":"function isSameDay increase metric value","codeSpan":{"start":{"offset":687,"line":27,"column":9},"end":{"offset":946,"line":33,"column":10},"text":"bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }"}}]},{"metricsId":"weight-of-class","value":0.6666666666666666,"level":"none","comment":"This class has a weight of 0.6666666666666666.","context":[{"message":"public constructor PerformCheckInUseCase decrease metric value","codeSpan":{"start":{"offset":223,"line":9,"column":3},"end":{"offset":262,"line":9,"column":42},"text":"PerformCheckInUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":266,"line":11,"column":3},"end":{"offset":1316,"line":48,"column":4},"text":"Future<Either<Failure, Unit>> call(\n    String planId,\n    String? notes, {\n    int? feeling,\n    File? photo,\n  }) async {\n    // Valida√ß√£o de Neg√≥cio: Verificar se j√° existe check-in HOJE\n    final historyResult = await repository.getCheckInsForPlan(planId);\n\n    return historyResult.fold(\n      (failure) {\n        return Left(failure);\n      },\n      (history) async {\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      },\n    );\n  }"}},{"message":"functional function isSameDay increase metric value","codeSpan":{"start":{"offset":687,"line":27,"column":9},"end":{"offset":946,"line":33,"column":10},"text":"bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }"}}]}]}},"functions":{"PerformCheckInUseCase.PerformCheckInUseCase":{"codeSpan":{"start":{"offset":223,"line":9,"column":3},"end":{"offset":262,"line":9,"column":42},"text":"PerformCheckInUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"PerformCheckInUseCase.call":{"codeSpan":{"start":{"offset":266,"line":11,"column":3},"end":{"offset":1316,"line":48,"column":4},"text":"Future<Either<Failure, Unit>> call(\n    String planId,\n    String? notes, {\n    int? feeling,\n    File? photo,\n  }) async {\n    // Valida√ß√£o de Neg√≥cio: Verificar se j√° existe check-in HOJE\n    final historyResult = await repository.getCheckInsForPlan(planId);\n\n    return historyResult.fold(\n      (failure) {\n        return Left(failure);\n      },\n      (history) async {\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      },\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":848,"line":30,"column":45},"end":{"offset":850,"line":30,"column":47},"text":"&&"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":894,"line":31,"column":44},"end":{"offset":896,"line":31,"column":46},"text":"&&"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1074,"line":39,"column":9},"end":{"offset":1217,"line":43,"column":10},"text":"if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }"}}]},{"metricsId":"halstead-volume","value":779.6510185756349,"level":"none","comment":"This method has a halstead volume of 779.6510185756349.","context":[]},{"metricsId":"lines-of-code","value":38,"unitType":"lines","level":"none","comment":"This method has 38 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":388,"line":16,"column":12},"end":{"offset":1316,"line":48,"column":4},"text":"{\n    // Valida√ß√£o de Neg√≥cio: Verificar se j√° existe check-in HOJE\n    final historyResult = await repository.getCheckInsForPlan(planId);\n\n    return historyResult.fold(\n      (failure) {\n        return Left(failure);\n      },\n      (history) async {\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      },\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":638,"line":24,"column":23},"end":{"offset":1304,"line":46,"column":8},"text":"{\n        final today = DateTime.now();\n\n        bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }\n\n        final hasCheckInToday = history.any((checkIn) {\n          return isSameDay(checkIn.date, today);\n        });\n\n        if (hasCheckInToday) {\n          return const Left(\n            InvalidDataFailure('Voc√™ j√° realizou o check-in hoje.'),\n          );\n        }\n\n        return await repository.createCheckIn(planId, notes, feeling, photo);\n      }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":726,"line":27,"column":48},"end":{"offset":946,"line":33,"column":10},"text":"{\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }"}}]},{"metricsId":"number-of-parameters","value":4,"level":"alarm","comment":"This method has 4 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":25,"unitType":"lines","level":"none","comment":"This method has 25 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":456,"line":18,"column":0},"end":{"offset":456,"line":18,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":528,"line":20,"column":0},"end":{"offset":528,"line":20,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":559,"line":21,"column":0},"end":{"offset":559,"line":21,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":577,"line":22,"column":0},"end":{"offset":577,"line":22,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":607,"line":23,"column":0},"end":{"offset":607,"line":23,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":616,"line":24,"column":0},"end":{"offset":616,"line":24,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":640,"line":25,"column":0},"end":{"offset":640,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":679,"line":27,"column":0},"end":{"offset":679,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":728,"line":28,"column":0},"end":{"offset":728,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":766,"line":29,"column":0},"end":{"offset":766,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":804,"line":30,"column":0},"end":{"offset":804,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":851,"line":31,"column":0},"end":{"offset":851,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":897,"line":32,"column":0},"end":{"offset":897,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":937,"line":33,"column":0},"end":{"offset":937,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":948,"line":35,"column":0},"end":{"offset":948,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1004,"line":36,"column":0},"end":{"offset":1004,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1053,"line":37,"column":0},"end":{"offset":1053,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1066,"line":39,"column":0},"end":{"offset":1066,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1097,"line":40,"column":0},"end":{"offset":1097,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1126,"line":41,"column":0},"end":{"offset":1126,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1195,"line":42,"column":0},"end":{"offset":1195,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1208,"line":43,"column":0},"end":{"offset":1208,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1219,"line":45,"column":0},"end":{"offset":1219,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1297,"line":46,"column":0},"end":{"offset":1297,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1306,"line":47,"column":0},"end":{"offset":1306,"line":47,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":49,"level":"alarm","comment":"This method has 49 maintainability index, below the minimum of 100 allowed.","context":[]}]},"PerformCheckInUseCase.isSameDay":{"codeSpan":{"start":{"offset":687,"line":27,"column":9},"end":{"offset":946,"line":33,"column":10},"text":"bool isSameDay(DateTime a, DateTime b) {\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":3,"level":"alarm","comment":"This function has a cyclomatic complexity of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":848,"line":30,"column":45},"end":{"offset":850,"line":30,"column":47},"text":"&&"}},{"message":"Operator && increases complexity","codeSpan":{"start":{"offset":894,"line":31,"column":44},"end":{"offset":896,"line":31,"column":46},"text":"&&"}}]},{"metricsId":"halstead-volume","value":86.48579046593244,"level":"none","comment":"This function has a halstead volume of 86.48579046593244.","context":[]},{"metricsId":"lines-of-code","value":7,"unitType":"lines","level":"none","comment":"This function has 7 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This function has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":726,"line":27,"column":48},"end":{"offset":946,"line":33,"column":10},"text":"{\n          final localA = a.toLocal();\n          final localB = b.toLocal();\n          return localA.year == localB.year &&\n              localA.month == localB.month &&\n              localA.day == localB.day;\n        }"}}]},{"metricsId":"number-of-parameters","value":2,"level":"warning","comment":"This function has 2 parameters, exceeds the maximum of 1 allowed.","context":[]},{"metricsId":"source-lines-of-code","value":5,"unitType":"lines","level":"none","comment":"This function has 5 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":728,"line":28,"column":0},"end":{"offset":728,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":766,"line":29,"column":0},"end":{"offset":766,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":804,"line":30,"column":0},"end":{"offset":804,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":851,"line":31,"column":0},"end":{"offset":851,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":897,"line":32,"column":0},"end":{"offset":897,"line":32,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":71,"level":"warning","comment":"This function has 71 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/usecases/get_patient_check_ins_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetPatientCheckInsUseCase":{"codeSpan":{"start":{"offset":177,"line":6,"column":1},"end":{"offset":441,"line":14,"column":2},"text":"class GetPatientCheckInsUseCase {\n  final CheckInRepository repository;\n\n  GetPatientCheckInsUseCase(this.repository);\n\n  Future<Either<Failure, List<CheckInEntity>>> call(String patientId) async {\n    return await repository.getCheckInsByPatient(patientId);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor GetPatientCheckInsUseCase increase metric value","codeSpan":{"start":{"offset":252,"line":9,"column":3},"end":{"offset":295,"line":9,"column":46},"text":"GetPatientCheckInsUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":299,"line":11,"column":3},"end":{"offset":439,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String patientId) async {\n    return await repository.getCheckInsByPatient(patientId);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor GetPatientCheckInsUseCase decrease metric value","codeSpan":{"start":{"offset":252,"line":9,"column":3},"end":{"offset":295,"line":9,"column":46},"text":"GetPatientCheckInsUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":299,"line":11,"column":3},"end":{"offset":439,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String patientId) async {\n    return await repository.getCheckInsByPatient(patientId);\n  }"}}]}]}},"functions":{"GetPatientCheckInsUseCase.GetPatientCheckInsUseCase":{"codeSpan":{"start":{"offset":252,"line":9,"column":3},"end":{"offset":295,"line":9,"column":46},"text":"GetPatientCheckInsUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetPatientCheckInsUseCase.call":{"codeSpan":{"start":{"offset":299,"line":11,"column":3},"end":{"offset":439,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String patientId) async {\n    return await repository.getCheckInsByPatient(patientId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This method has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":373,"line":11,"column":77},"end":{"offset":439,"line":13,"column":4},"text":"{\n    return await repository.getCheckInsByPatient(patientId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":375,"line":12,"column":0},"end":{"offset":375,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":94,"level":"warning","comment":"This method has 94 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/usecases/get_plan_history_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"GetPlanHistoryUseCase":{"codeSpan":{"start":{"offset":177,"line":6,"column":1},"end":{"offset":425,"line":14,"column":2},"text":"class GetPlanHistoryUseCase {\n  final CheckInRepository repository;\n\n  GetPlanHistoryUseCase(this.repository);\n\n  Future<Either<Failure, List<CheckInEntity>>> call(String planId) async {\n    return await repository.getCheckInsForPlan(planId);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor GetPlanHistoryUseCase increase metric value","codeSpan":{"start":{"offset":248,"line":9,"column":3},"end":{"offset":287,"line":9,"column":42},"text":"GetPlanHistoryUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":291,"line":11,"column":3},"end":{"offset":423,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String planId) async {\n    return await repository.getCheckInsForPlan(planId);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor GetPlanHistoryUseCase decrease metric value","codeSpan":{"start":{"offset":248,"line":9,"column":3},"end":{"offset":287,"line":9,"column":42},"text":"GetPlanHistoryUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":291,"line":11,"column":3},"end":{"offset":423,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String planId) async {\n    return await repository.getCheckInsForPlan(planId);\n  }"}}]}]}},"functions":{"GetPlanHistoryUseCase.GetPlanHistoryUseCase":{"codeSpan":{"start":{"offset":248,"line":9,"column":3},"end":{"offset":287,"line":9,"column":42},"text":"GetPlanHistoryUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"GetPlanHistoryUseCase.call":{"codeSpan":{"start":{"offset":291,"line":11,"column":3},"end":{"offset":423,"line":13,"column":4},"text":"Future<Either<Failure, List<CheckInEntity>>> call(String planId) async {\n    return await repository.getCheckInsForPlan(planId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This method has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":362,"line":11,"column":74},"end":{"offset":423,"line":13,"column":4},"text":"{\n    return await repository.getCheckInsForPlan(planId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":364,"line":12,"column":0},"end":{"offset":364,"line":12,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":94,"level":"warning","comment":"This method has 94 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/usecases/has_check_in_today_usecase.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"HasCheckInTodayUseCase":{"codeSpan":{"start":{"offset":134,"line":5,"column":1},"end":{"offset":366,"line":13,"column":2},"text":"class HasCheckInTodayUseCase {\n  final CheckInRepository repository;\n\n  HasCheckInTodayUseCase(this.repository);\n\n  Future<Either<Failure, bool>> call(String planId) async {\n    return await repository.hasCheckInToday(planId);\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor HasCheckInTodayUseCase increase metric value","codeSpan":{"start":{"offset":206,"line":8,"column":3},"end":{"offset":246,"line":8,"column":43},"text":"HasCheckInTodayUseCase(this.repository);"}},{"message":"method call increase metric value","codeSpan":{"start":{"offset":250,"line":10,"column":3},"end":{"offset":364,"line":12,"column":4},"text":"Future<Either<Failure, bool>> call(String planId) async {\n    return await repository.hasCheckInToday(planId);\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor HasCheckInTodayUseCase decrease metric value","codeSpan":{"start":{"offset":206,"line":8,"column":3},"end":{"offset":246,"line":8,"column":43},"text":"HasCheckInTodayUseCase(this.repository);"}},{"message":"functional method call increase metric value","codeSpan":{"start":{"offset":250,"line":10,"column":3},"end":{"offset":364,"line":12,"column":4},"text":"Future<Either<Failure, bool>> call(String planId) async {\n    return await repository.hasCheckInToday(planId);\n  }"}}]}]}},"functions":{"HasCheckInTodayUseCase.HasCheckInTodayUseCase":{"codeSpan":{"start":{"offset":206,"line":8,"column":3},"end":{"offset":246,"line":8,"column":43},"text":"HasCheckInTodayUseCase(this.repository);"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"HasCheckInTodayUseCase.call":{"codeSpan":{"start":{"offset":250,"line":10,"column":3},"end":{"offset":364,"line":12,"column":4},"text":"Future<Either<Failure, bool>> call(String planId) async {\n    return await repository.hasCheckInToday(planId);\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This method has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":8.0,"level":"none","comment":"This method has a halstead volume of 8.0.","context":[]},{"metricsId":"lines-of-code","value":3,"unitType":"lines","level":"none","comment":"This method has 3 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This method has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":306,"line":10,"column":59},"end":{"offset":364,"line":12,"column":4},"text":"{\n    return await repository.hasCheckInToday(planId);\n  }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This method has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":308,"line":11,"column":0},"end":{"offset":308,"line":11,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":94,"level":"warning","comment":"This method has 94 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/features/check_in/domain/entities/check_in_entity.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"CheckInEntity":{"codeSpan":{"start":{"offset":44,"line":3,"column":1},"end":{"offset":548,"line":26,"column":2},"text":"class CheckInEntity extends Equatable {\n  final String id;\n  final String planId;\n  final DateTime date;\n  final bool status;\n  final String? notes;\n  final int? feeling;\n  final String? photoUrl;\n  final String? photoPath;\n\n  const CheckInEntity({\n    required this.id,\n    required this.planId,\n    required this.date,\n    required this.status,\n    this.notes,\n    this.feeling,\n    this.photoUrl,\n    this.photoPath,\n  });\n\n  @override\n  List<Object?> get props => [id, planId, date, status, notes];\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor CheckInEntity increase metric value","codeSpan":{"start":{"offset":271,"line":13,"column":3},"end":{"offset":469,"line":22,"column":6},"text":"const CheckInEntity({\n    required this.id,\n    required this.planId,\n    required this.date,\n    required this.status,\n    this.notes,\n    this.feeling,\n    this.photoUrl,\n    this.photoPath,\n  });"}},{"message":"getter props increase metric value","codeSpan":{"start":{"offset":485,"line":25,"column":3},"end":{"offset":546,"line":25,"column":64},"text":"List<Object?> get props => [id, planId, date, status, notes];"}}]},{"metricsId":"weight-of-class","value":0.0,"level":"none","comment":"This class has a weight of 0.0.","context":[{"message":"public constructor CheckInEntity decrease metric value","codeSpan":{"start":{"offset":271,"line":13,"column":3},"end":{"offset":469,"line":22,"column":6},"text":"const CheckInEntity({\n    required this.id,\n    required this.planId,\n    required this.date,\n    required this.status,\n    this.notes,\n    this.feeling,\n    this.photoUrl,\n    this.photoPath,\n  });"}},{"message":"public getter props decrease metric value","codeSpan":{"start":{"offset":485,"line":25,"column":3},"end":{"offset":546,"line":25,"column":64},"text":"List<Object?> get props => [id, planId, date, status, notes];"}}]}]}},"functions":{"CheckInEntity.CheckInEntity":{"codeSpan":{"start":{"offset":271,"line":13,"column":3},"end":{"offset":469,"line":22,"column":6},"text":"const CheckInEntity({\n    required this.id,\n    required this.planId,\n    required this.date,\n    required this.status,\n    this.notes,\n    this.feeling,\n    this.photoUrl,\n    this.photoPath,\n  });"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":10,"unitType":"lines","level":"none","comment":"This constructor has 10 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"CheckInEntity.props":{"codeSpan":{"start":{"offset":485,"line":25,"column":3},"end":{"offset":546,"line":25,"column":64},"text":"List<Object?> get props => [id, planId, date, status, notes];"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This getter has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":11.60964047443681,"level":"none","comment":"This getter has a halstead volume of 11.60964047443681.","context":[]},{"metricsId":"lines-of-code","value":2,"unitType":"lines","level":"none","comment":"This getter has 2 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This getter has a nesting level of 0.","context":[]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This getter has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":1,"unitType":"line","level":"none","comment":"This getter has 1 source line of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":483,"line":25,"column":0},"end":{"offset":483,"line":25,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":93,"level":"warning","comment":"This getter has 93 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/main.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{"MedicareApp":{"codeSpan":{"start":{"offset":777,"line":20,"column":1},"end":{"offset":2078,"line":61,"column":2},"text":"class MedicareApp extends StatelessWidget {\n  const MedicareApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => di.sl<AuthViewModel>()),\n      ],\n      child: MaterialApp(\n        title: 'Medicare TCC',\n        theme: AppTheme.lightTheme,\n        home: const SplashScreen(),\n        routes: {\n          '/login': (_) => const LoginScreen(),\n          '/home': (context) {\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          },\n          '/chat': (context) {\n            final args =\n                ModalRoute.of(context)!.settings.arguments\n                    as Map<String, String>;\n            return ChangeNotifierProvider(\n              create: (_) => di.sl<ChatViewModel>(),\n              child: ChatScreen(\n                otherUserId: args['otherUserId']!,\n                otherUserName: args['otherUserName']!,\n              ),\n            );\n          },\n        },\n      ),\n    );\n  }\n}"},"metrics":[{"metricsId":"number-of-methods","value":2,"unitType":"methods","level":"none","comment":"This class has 2 methods.","context":[{"message":"constructor MedicareApp increase metric value","codeSpan":{"start":{"offset":823,"line":21,"column":3},"end":{"offset":854,"line":21,"column":34},"text":"const MedicareApp({super.key});"}},{"message":"method build increase metric value","codeSpan":{"start":{"offset":870,"line":24,"column":3},"end":{"offset":2076,"line":60,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => di.sl<AuthViewModel>()),\n      ],\n      child: MaterialApp(\n        title: 'Medicare TCC',\n        theme: AppTheme.lightTheme,\n        home: const SplashScreen(),\n        routes: {\n          '/login': (_) => const LoginScreen(),\n          '/home': (context) {\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          },\n          '/chat': (context) {\n            final args =\n                ModalRoute.of(context)!.settings.arguments\n                    as Map<String, String>;\n            return ChangeNotifierProvider(\n              create: (_) => di.sl<ChatViewModel>(),\n              child: ChatScreen(\n                otherUserId: args['otherUserId']!,\n                otherUserName: args['otherUserName']!,\n              ),\n            );\n          },\n        },\n      ),\n    );\n  }"}}]},{"metricsId":"weight-of-class","value":0.5,"level":"none","comment":"This class has a weight of 0.5.","context":[{"message":"public constructor MedicareApp decrease metric value","codeSpan":{"start":{"offset":823,"line":21,"column":3},"end":{"offset":854,"line":21,"column":34},"text":"const MedicareApp({super.key});"}},{"message":"functional method build increase metric value","codeSpan":{"start":{"offset":870,"line":24,"column":3},"end":{"offset":2076,"line":60,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => di.sl<AuthViewModel>()),\n      ],\n      child: MaterialApp(\n        title: 'Medicare TCC',\n        theme: AppTheme.lightTheme,\n        home: const SplashScreen(),\n        routes: {\n          '/login': (_) => const LoginScreen(),\n          '/home': (context) {\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          },\n          '/chat': (context) {\n            final args =\n                ModalRoute.of(context)!.settings.arguments\n                    as Map<String, String>;\n            return ChangeNotifierProvider(\n              create: (_) => di.sl<ChatViewModel>(),\n              child: ChatScreen(\n                otherUserId: args['otherUserId']!,\n                otherUserName: args['otherUserName']!,\n              ),\n            );\n          },\n        },\n      ),\n    );\n  }"}}]}]}},"functions":{"main":{"codeSpan":{"start":{"offset":562,"line":13,"column":1},"end":{"offset":775,"line":18,"column":2},"text":"void main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await di.init(); // Inicializa inje√ß√£o de depend√™ncia e Parse\n  tz.initializeTimeZones(); // Initialize timezones\n  runApp(const MedicareApp());\n}"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This function has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":28.529325012980813,"level":"none","comment":"This function has a halstead volume of 28.529325012980813.","context":[]},{"metricsId":"lines-of-code","value":6,"unitType":"lines","level":"none","comment":"This function has 6 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":1,"level":"noted","comment":"This function has a nesting level of 1.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":580,"line":13,"column":19},"end":{"offset":775,"line":18,"column":2},"text":"{\n  WidgetsFlutterBinding.ensureInitialized();\n  await di.init(); // Inicializa inje√ß√£o de depend√™ncia e Parse\n  tz.initializeTimeZones(); // Initialize timezones\n  runApp(const MedicareApp());\n}"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This function has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":4,"unitType":"lines","level":"none","comment":"This function has 4 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":582,"line":14,"column":0},"end":{"offset":582,"line":14,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":627,"line":15,"column":0},"end":{"offset":627,"line":15,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":691,"line":16,"column":0},"end":{"offset":691,"line":16,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":743,"line":17,"column":0},"end":{"offset":743,"line":17,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":77,"level":"warning","comment":"This function has 77 maintainability index, below the minimum of 100 allowed.","context":[]}]},"MedicareApp.MedicareApp":{"codeSpan":{"start":{"offset":823,"line":21,"column":3},"end":{"offset":854,"line":21,"column":34},"text":"const MedicareApp({super.key});"},"metrics":[{"metricsId":"cyclomatic-complexity","value":1,"level":"noted","comment":"This constructor has a cyclomatic complexity of 1.","context":[]},{"metricsId":"halstead-volume","value":0.0,"level":"none","comment":"This constructor has a halstead volume of 0.0.","context":[]},{"metricsId":"lines-of-code","value":1,"unitType":"line","level":"none","comment":"This constructor has 1 line of code.","context":[]},{"metricsId":"maximum-nesting-level","value":0,"level":"none","comment":"This constructor has a nesting level of 0.","context":[]},{"metricsId":"source-lines-of-code","value":0,"unitType":"lines","level":"none","comment":"This constructor has 0 source lines of code.","context":[]},{"metricsId":"maintainability-index","value":100,"level":"noted","comment":"This constructor has 100 maintainability index.","context":[]}]},"MedicareApp.build":{"codeSpan":{"start":{"offset":870,"line":24,"column":3},"end":{"offset":2076,"line":60,"column":4},"text":"Widget build(BuildContext context) {\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => di.sl<AuthViewModel>()),\n      ],\n      child: MaterialApp(\n        title: 'Medicare TCC',\n        theme: AppTheme.lightTheme,\n        home: const SplashScreen(),\n        routes: {\n          '/login': (_) => const LoginScreen(),\n          '/home': (context) {\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          },\n          '/chat': (context) {\n            final args =\n                ModalRoute.of(context)!.settings.arguments\n                    as Map<String, String>;\n            return ChangeNotifierProvider(\n              create: (_) => di.sl<ChatViewModel>(),\n              child: ChatScreen(\n                otherUserId: args['otherUserId']!,\n                otherUserName: args['otherUserName']!,\n              ),\n            );\n          },\n        },\n      ),\n    );\n  }"},"metrics":[{"metricsId":"cyclomatic-complexity","value":4,"level":"alarm","comment":"This method has a cyclomatic complexity of 4, which exceeds the maximum of 1 allowed.","context":[{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1381,"line":38,"column":13},"end":{"offset":1542,"line":42,"column":14},"text":"if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":1442,"line":39,"column":43},"end":{"offset":1444,"line":39,"column":45},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":1476,"line":40,"column":20},"end":{"offset":1542,"line":42,"column":14},"text":"if (args is String) {\n              userType = args;\n            }"}}]},{"metricsId":"halstead-volume","value":755.7015619358763,"level":"none","comment":"This method has a halstead volume of 755.7015619358763.","context":[]},{"metricsId":"lines-of-code","value":38,"unitType":"lines","level":"none","comment":"This method has 38 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":3,"level":"alarm","comment":"This method has a nesting level of 3, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":905,"line":24,"column":38},"end":{"offset":2076,"line":60,"column":4},"text":"{\n    return MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => di.sl<AuthViewModel>()),\n      ],\n      child: MaterialApp(\n        title: 'Medicare TCC',\n        theme: AppTheme.lightTheme,\n        home: const SplashScreen(),\n        routes: {\n          '/login': (_) => const LoginScreen(),\n          '/home': (context) {\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          },\n          '/chat': (context) {\n            final args =\n                ModalRoute.of(context)!.settings.arguments\n                    as Map<String, String>;\n            return ChangeNotifierProvider(\n              create: (_) => di.sl<ChatViewModel>(),\n              child: ChatScreen(\n                otherUserId: args['otherUserId']!,\n                otherUserName: args['otherUserName']!,\n              ),\n            );\n          },\n        },\n      ),\n    );\n  }"}},{"message":"Block function body increases depth","codeSpan":{"start":{"offset":1256,"line":35,"column":30},"end":{"offset":1605,"line":44,"column":12},"text":"{\n            final args = ModalRoute.of(context)!.settings.arguments;\n            String userType = 'paciente';\n            if (args is Map) {\n              userType = args['userType'] ?? 'paciente';\n            } else if (args is String) {\n              userType = args;\n            }\n            return HomeScreen(userType: userType);\n          }"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":1398,"line":38,"column":30},"end":{"offset":1470,"line":40,"column":14},"text":"{\n              userType = args['userType'] ?? 'paciente';\n            }"}}]},{"metricsId":"number-of-parameters","value":1,"level":"noted","comment":"This method has 1 parameter.","context":[]},{"metricsId":"source-lines-of-code","value":35,"unitType":"lines","level":"none","comment":"This method has 35 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":907,"line":25,"column":0},"end":{"offset":907,"line":25,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":933,"line":26,"column":0},"end":{"offset":933,"line":26,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":952,"line":27,"column":0},"end":{"offset":952,"line":27,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1023,"line":28,"column":0},"end":{"offset":1023,"line":28,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1032,"line":29,"column":0},"end":{"offset":1032,"line":29,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1058,"line":30,"column":0},"end":{"offset":1058,"line":30,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1089,"line":31,"column":0},"end":{"offset":1089,"line":31,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1125,"line":32,"column":0},"end":{"offset":1125,"line":32,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1161,"line":33,"column":0},"end":{"offset":1161,"line":33,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1179,"line":34,"column":0},"end":{"offset":1179,"line":34,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1227,"line":35,"column":0},"end":{"offset":1227,"line":35,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1258,"line":36,"column":0},"end":{"offset":1258,"line":36,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1327,"line":37,"column":0},"end":{"offset":1327,"line":37,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1369,"line":38,"column":0},"end":{"offset":1369,"line":38,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1400,"line":39,"column":0},"end":{"offset":1400,"line":39,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1457,"line":40,"column":0},"end":{"offset":1457,"line":40,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1498,"line":41,"column":0},"end":{"offset":1498,"line":41,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1529,"line":42,"column":0},"end":{"offset":1529,"line":42,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1543,"line":43,"column":0},"end":{"offset":1543,"line":43,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1594,"line":44,"column":0},"end":{"offset":1594,"line":44,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1607,"line":45,"column":0},"end":{"offset":1607,"line":45,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1638,"line":46,"column":0},"end":{"offset":1638,"line":46,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1663,"line":47,"column":0},"end":{"offset":1663,"line":47,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1722,"line":48,"column":0},"end":{"offset":1722,"line":48,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1766,"line":49,"column":0},"end":{"offset":1766,"line":49,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1809,"line":50,"column":0},"end":{"offset":1809,"line":50,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1862,"line":51,"column":0},"end":{"offset":1862,"line":51,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1895,"line":52,"column":0},"end":{"offset":1895,"line":52,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":1946,"line":53,"column":0},"end":{"offset":1946,"line":53,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2001,"line":54,"column":0},"end":{"offset":2001,"line":54,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2018,"line":55,"column":0},"end":{"offset":2018,"line":55,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2033,"line":56,"column":0},"end":{"offset":2033,"line":56,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2046,"line":57,"column":0},"end":{"offset":2046,"line":57,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2057,"line":58,"column":0},"end":{"offset":2057,"line":58,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":2066,"line":59,"column":0},"end":{"offset":2066,"line":59,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":46,"level":"alarm","comment":"This method has 46 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]},{"path":"lib/injection_container.dart","fileMetrics":[{"metricsId":"technical-debt","value":0.0,"level":"none","comment":"This compilation unit has 0.0 swe hours of debt.","context":[]}],"classes":{},"functions":{"init":{"codeSpan":{"start":{"offset":3147,"line":56,"column":1},"end":{"offset":7455,"line":215,"column":2},"text":"Future<void> init() async {\n  //! External\n  // Parse Server Initialization\n  await dotenv.load(fileName: \".env\");\n  final keyApplicationId = dotenv.env['APP_ID'] ?? '';\n  final keyClientKey = dotenv.env['CLIENT_KEY'] ?? '';\n  const keyParseServerUrl = 'https://parseapi.back4app.com';\n\n  if (keyApplicationId.isEmpty || keyClientKey.isEmpty) {\n    throw Exception('CHAVES DO PARSE N√ÉO ENCONTRADAS NO .ENV');\n  }\n\n  await Parse().initialize(\n    keyApplicationId,\n    keyParseServerUrl,\n    clientKey: keyClientKey,\n    autoSendSessionId: true,\n  );\n\n  //! Core\n  sl.registerLazySingleton<NotificationService>(() => NotificationService());\n  sl.registerLazySingleton<TtsService>(() => TtsService());\n\n  //! Features - Auth\n  // ViewModel\n  sl.registerFactory(\n    () => AuthViewModel(loginUseCase: sl(), registerUseCase: sl()),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => LoginUseCase(sl()));\n  sl.registerLazySingleton(() => RegisterUseCase(sl()));\n  sl.registerLazySingleton(() => SearchPatientsUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<AuthRepository>(() => AuthRepositoryImpl(sl()));\n  sl.registerLazySingleton<UserRepository>(() => UserRepositoryImpl(sl()));\n\n  // DataSource\n  sl.registerLazySingleton<AuthRemoteDataSource>(\n    () => ParseAuthDataSourceImpl(),\n  );\n  sl.registerLazySingleton<UserRemoteDataSource>(\n    () => UserRemoteDataSourceImpl(),\n  );\n\n  //! Features - CarePlan\n  // ViewModel\n  sl.registerFactory(\n    () => CarePlanViewModel(\n      createCarePlanUseCase: sl(),\n      getPlansUseCase: sl(),\n      updateCarePlanUseCase: sl(),\n      searchPatientsUseCase: sl(),\n      carePlanRepository: sl(),\n    ),\n  );\n\n  //! Features - Home\n  sl.registerFactory(() => HomeViewModel(getDoctorStatsUseCase: sl()));\n\n  sl.registerLazySingleton(\n    () => GetDoctorStatsUseCase(\n      carePlanRepository: sl(),\n      checkInRepository: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => CreateCarePlanUseCase(sl()));\n  sl.registerLazySingleton(() => GetPlansUseCase(sl()));\n  sl.registerLazySingleton(() => UpdateCarePlanUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<CarePlanRepository>(\n    () => CarePlanRepositoryImpl(sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<CarePlanRemoteDataSource>(\n    () => ParseCarePlanDataSourceImpl(),\n  );\n\n  //! Features - Profile\n  // ViewModel\n  sl.registerFactory(\n    () => ProfileViewModel(\n      getProfileUseCase: sl(),\n      updateProfileUseCase: sl(),\n      logoutUseCase: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => GetProfileUseCase(sl()));\n  sl.registerLazySingleton(() => UpdateProfileUseCase(sl()));\n  sl.registerLazySingleton(() => LogoutUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<ProfileRepository>(\n    () => ProfileRepositoryImpl(sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<ProfileRemoteDataSource>(\n    () => ParseProfileDataSourceImpl(),\n  );\n\n  //! Features - Check-In\n  // ViewModel\n  sl.registerFactory(\n    () => CheckInViewModel(\n      performCheckInUseCase: sl(),\n      getPlanHistoryUseCase: sl(),\n      hasCheckInTodayUseCase: sl(),\n    ),\n  );\n  sl.registerFactory(\n    () => PatientDetailViewModel(\n      getPatientCheckInsUseCase: sl(),\n      carePlanRepository: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => PerformCheckInUseCase(sl()));\n  sl.registerLazySingleton(() => GetPlanHistoryUseCase(sl()));\n  sl.registerLazySingleton(() => GetPatientCheckInsUseCase(sl()));\n  sl.registerLazySingleton(() => HasCheckInTodayUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<CheckInRepository>(\n    () => CheckInRepositoryImpl(sl(), carePlanRepository: sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<CheckInRemoteDataSource>(\n    () => ParseCheckInDataSourceImpl(),\n  );\n\n  //! Features - Chat\n  // ViewModel\n  sl.registerFactory(\n    () => ChatViewModel(sendMessageUseCase: sl(), getMessagesUseCase: sl()),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => SendMessageUseCase(sl()));\n  sl.registerLazySingleton(() => GetMessagesUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<ChatRepository>(\n    () => ChatRepositoryImpl(remoteDataSource: sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<ChatRemoteDataSource>(\n    () => ChatRemoteDataSourceImpl(),\n  );\n}"},"metrics":[{"metricsId":"cyclomatic-complexity","value":5,"level":"alarm","comment":"This function has a cyclomatic complexity of 5, which exceeds the maximum of 1 allowed.","context":[{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3310,"line":60,"column":49},"end":{"offset":3312,"line":60,"column":51},"text":"??"}},{"message":"Operator ?? increases complexity","codeSpan":{"start":{"offset":3365,"line":61,"column":49},"end":{"offset":3367,"line":61,"column":51},"text":"??"}},{"message":"If statement increases complexity","codeSpan":{"start":{"offset":3436,"line":64,"column":3},"end":{"offset":3559,"line":66,"column":4},"text":"if (keyApplicationId.isEmpty || keyClientKey.isEmpty) {\n    throw Exception('CHAVES DO PARSE N√ÉO ENCONTRADAS NO .ENV');\n  }"}},{"message":"Operator || increases complexity","codeSpan":{"start":{"offset":3465,"line":64,"column":32},"end":{"offset":3467,"line":64,"column":34},"text":"||"}}]},{"metricsId":"halstead-volume","value":2259.164877522727,"level":"none","comment":"This function has a halstead volume of 2259.164877522727.","context":[]},{"metricsId":"lines-of-code","value":160,"unitType":"lines","level":"none","comment":"This function has 160 lines of code.","context":[]},{"metricsId":"maximum-nesting-level","value":2,"level":"warning","comment":"This function has a nesting level of 2, which exceeds the maximum of 1 allowed.","context":[{"message":"Block function body increases depth","codeSpan":{"start":{"offset":3173,"line":56,"column":27},"end":{"offset":7455,"line":215,"column":2},"text":"{\n  //! External\n  // Parse Server Initialization\n  await dotenv.load(fileName: \".env\");\n  final keyApplicationId = dotenv.env['APP_ID'] ?? '';\n  final keyClientKey = dotenv.env['CLIENT_KEY'] ?? '';\n  const keyParseServerUrl = 'https://parseapi.back4app.com';\n\n  if (keyApplicationId.isEmpty || keyClientKey.isEmpty) {\n    throw Exception('CHAVES DO PARSE N√ÉO ENCONTRADAS NO .ENV');\n  }\n\n  await Parse().initialize(\n    keyApplicationId,\n    keyParseServerUrl,\n    clientKey: keyClientKey,\n    autoSendSessionId: true,\n  );\n\n  //! Core\n  sl.registerLazySingleton<NotificationService>(() => NotificationService());\n  sl.registerLazySingleton<TtsService>(() => TtsService());\n\n  //! Features - Auth\n  // ViewModel\n  sl.registerFactory(\n    () => AuthViewModel(loginUseCase: sl(), registerUseCase: sl()),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => LoginUseCase(sl()));\n  sl.registerLazySingleton(() => RegisterUseCase(sl()));\n  sl.registerLazySingleton(() => SearchPatientsUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<AuthRepository>(() => AuthRepositoryImpl(sl()));\n  sl.registerLazySingleton<UserRepository>(() => UserRepositoryImpl(sl()));\n\n  // DataSource\n  sl.registerLazySingleton<AuthRemoteDataSource>(\n    () => ParseAuthDataSourceImpl(),\n  );\n  sl.registerLazySingleton<UserRemoteDataSource>(\n    () => UserRemoteDataSourceImpl(),\n  );\n\n  //! Features - CarePlan\n  // ViewModel\n  sl.registerFactory(\n    () => CarePlanViewModel(\n      createCarePlanUseCase: sl(),\n      getPlansUseCase: sl(),\n      updateCarePlanUseCase: sl(),\n      searchPatientsUseCase: sl(),\n      carePlanRepository: sl(),\n    ),\n  );\n\n  //! Features - Home\n  sl.registerFactory(() => HomeViewModel(getDoctorStatsUseCase: sl()));\n\n  sl.registerLazySingleton(\n    () => GetDoctorStatsUseCase(\n      carePlanRepository: sl(),\n      checkInRepository: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => CreateCarePlanUseCase(sl()));\n  sl.registerLazySingleton(() => GetPlansUseCase(sl()));\n  sl.registerLazySingleton(() => UpdateCarePlanUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<CarePlanRepository>(\n    () => CarePlanRepositoryImpl(sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<CarePlanRemoteDataSource>(\n    () => ParseCarePlanDataSourceImpl(),\n  );\n\n  //! Features - Profile\n  // ViewModel\n  sl.registerFactory(\n    () => ProfileViewModel(\n      getProfileUseCase: sl(),\n      updateProfileUseCase: sl(),\n      logoutUseCase: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => GetProfileUseCase(sl()));\n  sl.registerLazySingleton(() => UpdateProfileUseCase(sl()));\n  sl.registerLazySingleton(() => LogoutUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<ProfileRepository>(\n    () => ProfileRepositoryImpl(sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<ProfileRemoteDataSource>(\n    () => ParseProfileDataSourceImpl(),\n  );\n\n  //! Features - Check-In\n  // ViewModel\n  sl.registerFactory(\n    () => CheckInViewModel(\n      performCheckInUseCase: sl(),\n      getPlanHistoryUseCase: sl(),\n      hasCheckInTodayUseCase: sl(),\n    ),\n  );\n  sl.registerFactory(\n    () => PatientDetailViewModel(\n      getPatientCheckInsUseCase: sl(),\n      carePlanRepository: sl(),\n    ),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => PerformCheckInUseCase(sl()));\n  sl.registerLazySingleton(() => GetPlanHistoryUseCase(sl()));\n  sl.registerLazySingleton(() => GetPatientCheckInsUseCase(sl()));\n  sl.registerLazySingleton(() => HasCheckInTodayUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<CheckInRepository>(\n    () => CheckInRepositoryImpl(sl(), carePlanRepository: sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<CheckInRemoteDataSource>(\n    () => ParseCheckInDataSourceImpl(),\n  );\n\n  //! Features - Chat\n  // ViewModel\n  sl.registerFactory(\n    () => ChatViewModel(sendMessageUseCase: sl(), getMessagesUseCase: sl()),\n  );\n\n  // UseCases\n  sl.registerLazySingleton(() => SendMessageUseCase(sl()));\n  sl.registerLazySingleton(() => GetMessagesUseCase(sl()));\n\n  // Repository\n  sl.registerLazySingleton<ChatRepository>(\n    () => ChatRepositoryImpl(remoteDataSource: sl()),\n  );\n\n  // DataSource\n  sl.registerLazySingleton<ChatRemoteDataSource>(\n    () => ChatRemoteDataSourceImpl(),\n  );\n}"}},{"message":"If statement increases depth","codeSpan":{"start":{"offset":3490,"line":64,"column":57},"end":{"offset":3559,"line":66,"column":4},"text":"{\n    throw Exception('CHAVES DO PARSE N√ÉO ENCONTRADAS NO .ENV');\n  }"}}]},{"metricsId":"number-of-parameters","value":0,"level":"none","comment":"This function has 0 parameters.","context":[]},{"metricsId":"source-lines-of-code","value":104,"unitType":"lines","level":"none","comment":"This function has 104 source lines of code.","context":[{"message":"line contains source code","codeSpan":{"start":{"offset":3223,"line":59,"column":0},"end":{"offset":3223,"line":59,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3262,"line":60,"column":0},"end":{"offset":3262,"line":60,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3317,"line":61,"column":0},"end":{"offset":3317,"line":61,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3372,"line":62,"column":0},"end":{"offset":3372,"line":62,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3434,"line":64,"column":0},"end":{"offset":3434,"line":64,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3492,"line":65,"column":0},"end":{"offset":3492,"line":65,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3556,"line":66,"column":0},"end":{"offset":3556,"line":66,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3561,"line":68,"column":0},"end":{"offset":3561,"line":68,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3589,"line":69,"column":0},"end":{"offset":3589,"line":69,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3611,"line":70,"column":0},"end":{"offset":3611,"line":70,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3634,"line":71,"column":0},"end":{"offset":3634,"line":71,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3663,"line":72,"column":0},"end":{"offset":3663,"line":72,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3692,"line":73,"column":0},"end":{"offset":3692,"line":73,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3709,"line":76,"column":0},"end":{"offset":3709,"line":76,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3787,"line":77,"column":0},"end":{"offset":3787,"line":77,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3885,"line":81,"column":0},"end":{"offset":3885,"line":81,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3907,"line":82,"column":0},"end":{"offset":3907,"line":82,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3975,"line":83,"column":0},"end":{"offset":3975,"line":83,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":3995,"line":86,"column":0},"end":{"offset":3995,"line":86,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4049,"line":87,"column":0},"end":{"offset":4049,"line":87,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4106,"line":88,"column":0},"end":{"offset":4106,"line":88,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4186,"line":91,"column":0},"end":{"offset":4186,"line":91,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4262,"line":92,"column":0},"end":{"offset":4262,"line":92,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4355,"line":95,"column":0},"end":{"offset":4355,"line":95,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4405,"line":96,"column":0},"end":{"offset":4405,"line":96,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4442,"line":97,"column":0},"end":{"offset":4442,"line":97,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4447,"line":98,"column":0},"end":{"offset":4447,"line":98,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4497,"line":99,"column":0},"end":{"offset":4497,"line":99,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4535,"line":100,"column":0},"end":{"offset":4535,"line":100,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4582,"line":104,"column":0},"end":{"offset":4582,"line":104,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4604,"line":105,"column":0},"end":{"offset":4604,"line":105,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4633,"line":106,"column":0},"end":{"offset":4633,"line":106,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4668,"line":107,"column":0},"end":{"offset":4668,"line":107,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4697,"line":108,"column":0},"end":{"offset":4697,"line":108,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4732,"line":109,"column":0},"end":{"offset":4732,"line":109,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4767,"line":110,"column":0},"end":{"offset":4767,"line":110,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4799,"line":111,"column":0},"end":{"offset":4799,"line":111,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4806,"line":112,"column":0},"end":{"offset":4806,"line":112,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4834,"line":115,"column":0},"end":{"offset":4834,"line":115,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4907,"line":117,"column":0},"end":{"offset":4907,"line":117,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4935,"line":118,"column":0},"end":{"offset":4935,"line":118,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":4968,"line":119,"column":0},"end":{"offset":4968,"line":119,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5000,"line":120,"column":0},"end":{"offset":5000,"line":120,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5031,"line":121,"column":0},"end":{"offset":5031,"line":121,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5038,"line":122,"column":0},"end":{"offset":5038,"line":122,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5058,"line":125,"column":0},"end":{"offset":5058,"line":125,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5121,"line":126,"column":0},"end":{"offset":5121,"line":126,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5178,"line":127,"column":0},"end":{"offset":5178,"line":127,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5258,"line":130,"column":0},"end":{"offset":5258,"line":130,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5306,"line":131,"column":0},"end":{"offset":5306,"line":131,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5346,"line":132,"column":0},"end":{"offset":5346,"line":132,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5368,"line":135,"column":0},"end":{"offset":5368,"line":135,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5422,"line":136,"column":0},"end":{"offset":5422,"line":136,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5463,"line":137,"column":0},"end":{"offset":5463,"line":137,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5509,"line":141,"column":0},"end":{"offset":5509,"line":141,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5531,"line":142,"column":0},"end":{"offset":5531,"line":142,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5559,"line":143,"column":0},"end":{"offset":5559,"line":143,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5590,"line":144,"column":0},"end":{"offset":5590,"line":144,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5624,"line":145,"column":0},"end":{"offset":5624,"line":145,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5651,"line":146,"column":0},"end":{"offset":5651,"line":146,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5658,"line":147,"column":0},"end":{"offset":5658,"line":147,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5678,"line":150,"column":0},"end":{"offset":5678,"line":150,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5737,"line":151,"column":0},"end":{"offset":5737,"line":151,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5799,"line":152,"column":0},"end":{"offset":5799,"line":152,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5871,"line":155,"column":0},"end":{"offset":5871,"line":155,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5918,"line":156,"column":0},"end":{"offset":5918,"line":156,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5957,"line":157,"column":0},"end":{"offset":5957,"line":157,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":5979,"line":160,"column":0},"end":{"offset":5979,"line":160,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6032,"line":161,"column":0},"end":{"offset":6032,"line":161,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6072,"line":162,"column":0},"end":{"offset":6072,"line":162,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6119,"line":166,"column":0},"end":{"offset":6119,"line":166,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6141,"line":167,"column":0},"end":{"offset":6141,"line":167,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6169,"line":168,"column":0},"end":{"offset":6169,"line":168,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6204,"line":169,"column":0},"end":{"offset":6204,"line":169,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6239,"line":170,"column":0},"end":{"offset":6239,"line":170,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6275,"line":171,"column":0},"end":{"offset":6275,"line":171,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6282,"line":172,"column":0},"end":{"offset":6282,"line":172,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6287,"line":173,"column":0},"end":{"offset":6287,"line":173,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6309,"line":174,"column":0},"end":{"offset":6309,"line":174,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6343,"line":175,"column":0},"end":{"offset":6343,"line":175,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6382,"line":176,"column":0},"end":{"offset":6382,"line":176,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6414,"line":177,"column":0},"end":{"offset":6414,"line":177,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6421,"line":178,"column":0},"end":{"offset":6421,"line":178,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6441,"line":181,"column":0},"end":{"offset":6441,"line":181,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6504,"line":182,"column":0},"end":{"offset":6504,"line":182,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6567,"line":183,"column":0},"end":{"offset":6567,"line":183,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6634,"line":184,"column":0},"end":{"offset":6634,"line":184,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6715,"line":187,"column":0},"end":{"offset":6715,"line":187,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6762,"line":188,"column":0},"end":{"offset":6762,"line":188,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6827,"line":189,"column":0},"end":{"offset":6827,"line":189,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6849,"line":192,"column":0},"end":{"offset":6849,"line":192,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6902,"line":193,"column":0},"end":{"offset":6902,"line":193,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6942,"line":194,"column":0},"end":{"offset":6942,"line":194,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":6985,"line":198,"column":0},"end":{"offset":6985,"line":198,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7007,"line":199,"column":0},"end":{"offset":7007,"line":199,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7084,"line":200,"column":0},"end":{"offset":7084,"line":200,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7104,"line":203,"column":0},"end":{"offset":7104,"line":203,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7164,"line":204,"column":0},"end":{"offset":7164,"line":204,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7241,"line":207,"column":0},"end":{"offset":7241,"line":207,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7285,"line":208,"column":0},"end":{"offset":7285,"line":208,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7339,"line":209,"column":0},"end":{"offset":7339,"line":209,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7361,"line":212,"column":0},"end":{"offset":7361,"line":212,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7411,"line":213,"column":0},"end":{"offset":7411,"line":213,"column":0},"text":""}},{"message":"line contains source code","codeSpan":{"start":{"offset":7449,"line":214,"column":0},"end":{"offset":7449,"line":214,"column":0},"text":""}}]},{"metricsId":"maintainability-index","value":32,"level":"alarm","comment":"This function has 32 maintainability index, below the minimum of 100 allowed.","context":[]}]}},"issues":[],"antiPatternCases":[]}],"summary":[{"status":"none","title":"Scanned folders","value":["lib"],"violations":0},{"status":"none","title":"Total scanned files","value":76,"violations":0},{"status":"none","title":"Total lines of source code","value":4182,"violations":0},{"status":"none","title":"Total classes","value":100,"violations":0},{"status":"none","title":"Average Cyclomatic Number per line of code","value":0.1834050693448111,"violations":108},{"status":"none","title":"Average Source Lines of Code per method","value":13,"violations":0},{"status":"none","title":"Total tech debt","value":"not found","violations":0}]}